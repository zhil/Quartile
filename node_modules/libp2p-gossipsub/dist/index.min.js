(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pGossipsub = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pGossipsub=(()=>{var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qc=T((Tw,Lc)=>{var gn=1e3,vn=gn*60,xn=vn*60,qi=xn*24,Rg=qi*7,Mg=qi*365.25;Lc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Pg(t);if(r==="number"&&isFinite(t))return e.long?Og(t):Dg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Pg(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*Mg;case"weeks":case"week":case"w":return r*Rg;case"days":case"day":case"d":return r*qi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*xn;case"minutes":case"minute":case"mins":case"min":case"m":return r*vn;case"seconds":case"second":case"secs":case"sec":case"s":return r*gn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Dg(t){var e=Math.abs(t);return e>=qi?Math.round(t/qi)+"d":e>=xn?Math.round(t/xn)+"h":e>=vn?Math.round(t/vn)+"m":e>=gn?Math.round(t/gn)+"s":t+"ms"}function Og(t){var e=Math.abs(t);return e>=qi?Ws(t,e,qi,"day"):e>=xn?Ws(t,e,xn,"hour"):e>=vn?Ws(t,e,vn,"minute"):e>=gn?Ws(t,e,gn,"second"):t+" ms"}function Ws(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var Kc=T((Rw,Fc)=>{function Ng(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=n,r.enabled=a,r.humanize=qc(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let h=0;for(let d=0;d<f.length;d++)h=(h<<5)-h+f.charCodeAt(d),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(f){let h,d=null;function y(...g){if(!y.enabled)return;let S=y,I=Number(new Date),k=I-(h||I);S.diff=k,S.prev=h,S.curr=I,h=I,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let R=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(F,L)=>{if(F==="%%")return"%";R++;let D=r.formatters[L];if(typeof D=="function"){let j=g[R];F=D.call(S,j),g.splice(R,1),R--}return F}),r.formatArgs.call(S,g),(S.log||r.log).apply(S,g)}return y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=i,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?r.enabled(f):d,set:g=>{d=g}}),typeof r.init=="function"&&r.init(y),y}function i(f,h){let d=r(this.namespace+(typeof h=="undefined"?":":h)+f);return d.log=this.log,d}function n(f){r.save(f),r.names=[],r.skips=[];let h,d=(typeof f=="string"?f:"").split(/[\s,]+/),y=d.length;for(h=0;h<y;h++)!d[h]||(f=d[h].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(o),...r.skips.map(o).map(h=>"-"+h)].join(",");return r.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,d;for(h=0,d=r.skips.length;h<d;h++)if(r.skips[h].test(f))return!1;for(h=0,d=r.names.length;h<d;h++)if(r.names[h].test(f))return!0;return!1}function o(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Fc.exports=Ng});var Js=T((Wt,Ys)=>{Wt.formatArgs=Lg;Wt.save=qg;Wt.load=Fg;Wt.useColors=Kg;Wt.storage=Ug();Wt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Kg(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Lg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ys.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}Wt.log=console.debug||console.log||(()=>{});function qg(t){try{t?Wt.storage.setItem("debug",t):Wt.storage.removeItem("debug")}catch(e){}}function Fg(){let t;try{t=Wt.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Ug(){try{return localStorage}catch(t){}}Ys.exports=Kc()(Wt);var{formatters:Gg}=Ys.exports;Gg.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Yo=T((Mw,Wo)=>{"use strict";var mn=typeof Reflect=="object"?Reflect:null,Uc=mn&&typeof mn.apply=="function"?mn.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},$s;mn&&typeof mn.ownKeys=="function"?$s=mn.ownKeys:Object.getOwnPropertySymbols?$s=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:$s=function(e){return Object.getOwnPropertyNames(e)};function zg(t){console&&console.warn&&console.warn(t)}var Gc=Number.isNaN||function(e){return e!==e};function _e(){_e.init.call(this)}Wo.exports=_e;Wo.exports.once=Vg;_e.EventEmitter=_e;_e.prototype._events=void 0;_e.prototype._eventsCount=0;_e.prototype._maxListeners=void 0;var zc=10;function Zs(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(_e,"defaultMaxListeners",{enumerable:!0,get:function(){return zc},set:function(t){if(typeof t!="number"||t<0||Gc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");zc=t}});_e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};_e.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Gc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Vc(t){return t._maxListeners===void 0?_e.defaultMaxListeners:t._maxListeners}_e.prototype.getMaxListeners=function(){return Vc(this)};_e.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")Uc(u,this,r);else for(var c=u.length,f=Hc(u,c),i=0;i<c;++i)Uc(f[i],this,r);return!0};function jc(t,e,r,i){var n,s,a;if(Zs(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),n=Vc(t),n>0&&a.length>n&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,zg(o)}return t}_e.prototype.addListener=function(e,r){return jc(this,e,r,!1)};_e.prototype.on=_e.prototype.addListener;_e.prototype.prependListener=function(e,r){return jc(this,e,r,!0)};function Hg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Wc(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Hg.bind(i);return n.listener=r,i.wrapFn=n,n}_e.prototype.once=function(e,r){return Zs(r),this.on(e,Wc(this,e,r)),this};_e.prototype.prependOnceListener=function(e,r){return Zs(r),this.prependListener(e,Wc(this,e,r)),this};_e.prototype.removeListener=function(e,r){var i,n,s,a,o;if(Zs(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(s=-1,a=i.length-1;a>=0;a--)if(i[a]===r||i[a].listener===r){o=i[a].listener,s=a;break}if(s<0)return this;s===0?i.shift():jg(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};_e.prototype.off=_e.prototype.removeListener;_e.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),a;for(n=0;n<s.length;++n)a=s[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function Yc(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?Wg(n):Hc(n,n.length)}_e.prototype.listeners=function(e){return Yc(this,e,!0)};_e.prototype.rawListeners=function(e){return Yc(this,e,!1)};_e.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Jc.call(t,e)};_e.prototype.listenerCount=Jc;function Jc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}_e.prototype.eventNames=function(){return this._eventsCount>0?$s(this._events):[]};function Hc(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function jg(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Wg(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Vg(t,e){return new Promise(function(r,i){function n(a){t.removeListener(e,s),i(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}$c(t,e,s,{once:!0}),e!=="error"&&Yg(t,n,{once:!0})})}function Yg(t,e,r){typeof t.on=="function"&&$c(t,"error",e,r)}function $c(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(s){i.once&&t.removeEventListener(e,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var Yt=T((Pw,Zc)=>{"use strict";function Xc(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Jg(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Xc(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),Xc(new n,r)}}Zc.exports=Jg});var $o=T((Dw,wn)=>{var Qc=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},Jo=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),Xs=t=>t&&typeof t.sink=="function"&&Jo(t.source),$g=t=>e=>(t.sink(e),t.source),eu=(...t)=>{if(Xs(t[0])){let e=t[0];t[0]=()=>e.source}else if(Jo(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&Xs(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)Xs(t[e])&&(t[e]=$g(t[e]));return Qc(...t)};wn.exports=eu;wn.exports.pipe=eu;wn.exports.rawPipe=Qc;wn.exports.isIterable=Jo;wn.exports.isDuplex=Xs});var su=T((Ow,tu)=>{"use strict";var ru=()=>{},iu=Symbol.for("@libp2p/js-interfaces/topology"),nu=class{constructor({min:e=0,max:r=Infinity,handlers:i={}}){this.min=e,this.max=r,this._onConnect=i.onConnect||ru,this._onDisconnect=i.onDisconnect||ru,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[iu](){return!0}static isTopology(e){return Boolean(e&&e[iu])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};tu.exports=nu});var cu=T((Nw,au)=>{"use strict";var Zg=su(),ou=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),fu=class extends Zg{constructor({min:e,max:r,multicodecs:i,handlers:n}){super({min:e,max:r,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[ou](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[ou])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(r.toB58String());let n=this._registrar.getConnection(r);n&&this._onConnect(r,n)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let i=this.peers.has(e.toB58String()),n=r.filter(s=>this.multicodecs.includes(s));i&&n.length===0&&this._onDisconnect(e);for(let s of r)if(this.multicodecs.includes(s)){let a=this._registrar.peerStore.get(e);this._updatePeers([a]);return}}_onPeerConnect(e){let r=e.remotePeer,i=this._registrar.peerStore.protoBook.get(r);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};au.exports=fu});var Qs=T(uu=>{"use strict";uu.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}});var lu=T((qw,hu)=>{"use strict";hu.exports=Xg;function Xg(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(o,u){r[i]=function(f){if(s)if(s=!1,f)u(f);else{for(var h=new Array(arguments.length-1),d=0;d<h.length;)h[d++]=arguments[d];o.apply(null,h)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,u(c))}})}});var yu=T(du=>{"use strict";var ea=du;ea.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var _n=new Array(64),pu=new Array(123);for(var Er=0;Er<64;)pu[_n[Er]=Er<26?Er+65:Er<52?Er+71:Er<62?Er-4:Er-59|43]=Er++;ea.encode=function(e,r,i){for(var n=null,s=[],a=0,o=0,u;r<i;){var c=e[r++];switch(o){case 0:s[a++]=_n[c>>2],u=(c&3)<<4,o=1;break;case 1:s[a++]=_n[u|c>>4],u=(c&15)<<2,o=2;break;case 2:s[a++]=_n[u|c>>6],s[a++]=_n[c&63],o=0;break}a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0)}return o&&(s[a++]=_n[u],s[a++]=61,o===1&&(s[a++]=61)),n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var bu="invalid encoding";ea.decode=function(e,r,i){for(var n=i,s=0,a,o=0;o<e.length;){var u=e.charCodeAt(o++);if(u===61&&s>1)break;if((u=pu[u])===void 0)throw Error(bu);switch(s){case 0:a=u,s=1;break;case 1:r[i++]=a<<2|(u&48)>>4,a=u,s=2;break;case 2:r[i++]=(a&15)<<4|(u&60)>>2,a=u,s=3;break;case 3:r[i++]=(a&3)<<6|u,s=0;break}}if(s===1)throw Error(bu);return i-n};ea.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var vu=T((Kw,gu)=>{"use strict";gu.exports=ta;function ta(){this._listeners={}}ta.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};ta.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};ta.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var Iu=T((Uw,xu)=>{"use strict";xu.exports=mu(mu);function mu(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3]}function s(u,c,f){e[0]=u,c[f]=r[3],c[f+1]=r[2],c[f+2]=r[1],c[f+3]=r[0]}t.writeFloatLE=i?n:s,t.writeFloatBE=i?s:n;function a(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],e[0]}function o(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],e[0]}t.readFloatLE=i?a:o,t.readFloatBE=i?o:a}():function(){function e(i,n,s,a){var o=n<0?1:0;if(o&&(n=-n),n===0)i(1/n>0?0:2147483648,s,a);else if(isNaN(n))i(2143289344,s,a);else if(n>34028234663852886e22)i((o<<31|2139095040)>>>0,s,a);else if(n<11754943508222875e-54)i((o<<31|Math.round(n/1401298464324817e-60))>>>0,s,a);else{var u=Math.floor(Math.log(n)/Math.LN2),c=Math.round(n*Math.pow(2,-u)*8388608)&8388607;i((o<<31|u+127<<23|c)>>>0,s,a)}}t.writeFloatLE=e.bind(null,wu),t.writeFloatBE=e.bind(null,_u);function r(i,n,s){var a=i(n,s),o=(a>>31)*2+1,u=a>>>23&255,c=a&8388607;return u===255?c?NaN:o*Infinity:u===0?o*1401298464324817e-60*c:o*Math.pow(2,u-150)*(c+8388608)}t.readFloatLE=r.bind(null,Eu),t.readFloatBE=r.bind(null,Su)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3],c[f+4]=r[4],c[f+5]=r[5],c[f+6]=r[6],c[f+7]=r[7]}function s(u,c,f){e[0]=u,c[f]=r[7],c[f+1]=r[6],c[f+2]=r[5],c[f+3]=r[4],c[f+4]=r[3],c[f+5]=r[2],c[f+6]=r[1],c[f+7]=r[0]}t.writeDoubleLE=i?n:s,t.writeDoubleBE=i?s:n;function a(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],e[0]}function o(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],e[0]}t.readDoubleLE=i?a:o,t.readDoubleBE=i?o:a}():function(){function e(i,n,s,a,o,u){var c=a<0?1:0;if(c&&(a=-a),a===0)i(0,o,u+n),i(1/a>0?0:2147483648,o,u+s);else if(isNaN(a))i(0,o,u+n),i(2146959360,o,u+s);else if(a>17976931348623157e292)i(0,o,u+n),i((c<<31|2146435072)>>>0,o,u+s);else{var f;if(a<22250738585072014e-324)f=a/5e-324,i(f>>>0,o,u+n),i((c<<31|f/4294967296)>>>0,o,u+s);else{var h=Math.floor(Math.log(a)/Math.LN2);h===1024&&(h=1023),f=a*Math.pow(2,-h),i(f*4503599627370496>>>0,o,u+n),i((c<<31|h+1023<<20|f*1048576&1048575)>>>0,o,u+s)}}}t.writeDoubleLE=e.bind(null,wu,0,4),t.writeDoubleBE=e.bind(null,_u,4,0);function r(i,n,s,a,o){var u=i(a,o+n),c=i(a,o+s),f=(c>>31)*2+1,h=c>>>20&2047,d=4294967296*(c&1048575)+u;return h===2047?d?NaN:f*Infinity:h===0?f*5e-324*d:f*Math.pow(2,h-1075)*(d+4503599627370496)}t.readDoubleLE=r.bind(null,Eu,0,4),t.readDoubleBE=r.bind(null,Su,4,0)}(),t}function wu(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function _u(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Eu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Su(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Au=T((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Cu=T(ku=>{"use strict";var Zo=ku;Zo.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,r+=4):r+=3;return r};Zo.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var s=null,a=[],o=0,u;r<i;)u=e[r++],u<128?a[o++]=u:u>191&&u<224?a[o++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[o++]=55296+(u>>10),a[o++]=56320+(u&1023)):a[o++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};Zo.write=function(e,r,i){for(var n=i,s,a,o=0;o<e.length;++o)s=e.charCodeAt(o),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)==55296&&((a=e.charCodeAt(o+1))&64512)==56320?(s=65536+((s&1023)<<10)+(a&1023),++o,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-n}});var Tu=T((zw,Bu)=>{"use strict";Bu.exports=Qg;function Qg(t,e,r){var i=r||8192,n=i>>>1,s=null,a=i;return function(u){if(u<1||u>n)return t(u);a+u>i&&(s=t(i),a=0);var c=e.call(s,a,a+=u);return a&7&&(a=(a|7)+1),c}}});var Mu=T((Vw,Ru)=>{"use strict";Ru.exports=mt;var hs=bi();function mt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Fi=mt.zero=new mt(0,0);Fi.toNumber=function(){return 0};Fi.zzEncode=Fi.zzDecode=function(){return this};Fi.length=function(){return 1};var ev=mt.zeroHash="\0\0\0\0\0\0\0\0";mt.fromNumber=function(e){if(e===0)return Fi;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new mt(i,n)};mt.from=function(e){if(typeof e=="number")return mt.fromNumber(e);if(hs.isString(e))if(hs.Long)e=hs.Long.fromString(e);else return mt.fromNumber(parseInt(e,10));return e.low||e.high?new mt(e.low>>>0,e.high>>>0):Fi};mt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};mt.prototype.toLong=function(e){return hs.Long?new hs.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var yi=String.prototype.charCodeAt;mt.fromHash=function(e){return e===ev?Fi:new mt((yi.call(e,0)|yi.call(e,1)<<8|yi.call(e,2)<<16|yi.call(e,3)<<24)>>>0,(yi.call(e,4)|yi.call(e,5)<<8|yi.call(e,6)<<16|yi.call(e,7)<<24)>>>0)};mt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};mt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};mt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};mt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var bi=T(Xo=>{"use strict";var $=Xo;$.asPromise=lu();$.base64=yu();$.EventEmitter=vu();$.float=Iu();$.inquire=Au();$.utf8=Cu();$.pool=Tu();$.LongBits=Mu();$.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);$.global=$.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Xo;$.emptyArray=Object.freeze?Object.freeze([]):[];$.emptyObject=Object.freeze?Object.freeze({}):{};$.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};$.isString=function(e){return typeof e=="string"||e instanceof String};$.isObject=function(e){return e&&typeof e=="object"};$.isset=$.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};$.Buffer=function(){try{var t=$.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();$._Buffer_from=null;$._Buffer_allocUnsafe=null;$.newBuffer=function(e){return typeof e=="number"?$.Buffer?$._Buffer_allocUnsafe(e):new $.Array(e):$.Buffer?$._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};$.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;$.Long=$.global.dcodeIO&&$.global.dcodeIO.Long||$.global.Long||$.inquire("long");$.key2Re=/^true|false|0|1$/;$.key32Re=/^-?(?:0|[1-9][0-9]*)$/;$.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;$.longToHash=function(e){return e?$.LongBits.from(e).toHash():$.LongBits.zeroHash};$.longFromHash=function(e,r){var i=$.LongBits.fromHash(e);return $.Long?$.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function Pu(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}$.merge=Pu;$.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Du(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&Pu(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}$.newError=Du;$.ProtocolError=Du("ProtocolError");$.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};$.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};$.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};$._configure=function(){var t=$.Buffer;if(!t){$._Buffer_from=$._Buffer_allocUnsafe=null;return}$._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},$._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var s0=T((jw,Ou)=>{"use strict";Ou.exports=be;var Qt=bi(),Qo,ra=Qt.LongBits,Nu=Qt.base64,Lu=Qt.utf8;function ls(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function e0(){}function tv(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function be(){this.len=0,this.head=new ls(e0,0,0),this.tail=this.head,this.states=null}var qu=function(){return Qt.Buffer?function(){return(be.create=function(){return new Qo})()}:function(){return new be}};be.create=qu();be.alloc=function(e){return new Qt.Array(e)};Qt.Array!==Array&&(be.alloc=Qt.pool(be.alloc,Qt.Array.prototype.subarray));be.prototype._push=function(e,r,i){return this.tail=this.tail.next=new ls(e,r,i),this.len+=r,this};function t0(t,e,r){e[r]=t&255}function rv(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function r0(t,e){this.len=t,this.next=void 0,this.val=e}r0.prototype=Object.create(ls.prototype);r0.prototype.fn=rv;be.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new r0((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};be.prototype.int32=function(e){return e<0?this._push(i0,10,ra.fromNumber(e)):this.uint32(e)};be.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function i0(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}be.prototype.uint64=function(e){var r=ra.from(e);return this._push(i0,r.length(),r)};be.prototype.int64=be.prototype.uint64;be.prototype.sint64=function(e){var r=ra.from(e).zzEncode();return this._push(i0,r.length(),r)};be.prototype.bool=function(e){return this._push(t0,1,e?1:0)};function n0(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}be.prototype.fixed32=function(e){return this._push(n0,4,e>>>0)};be.prototype.sfixed32=be.prototype.fixed32;be.prototype.fixed64=function(e){var r=ra.from(e);return this._push(n0,4,r.lo)._push(n0,4,r.hi)};be.prototype.sfixed64=be.prototype.fixed64;be.prototype.float=function(e){return this._push(Qt.float.writeFloatLE,4,e)};be.prototype.double=function(e){return this._push(Qt.float.writeDoubleLE,8,e)};var iv=Qt.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};be.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(t0,1,0);if(Qt.isString(e)){var i=be.alloc(r=Nu.length(e));Nu.decode(e,i,0),e=i}return this.uint32(r)._push(iv,r,e)};be.prototype.string=function(e){var r=Lu.length(e);return r?this.uint32(r)._push(Lu.write,r,e):this._push(t0,1,0)};be.prototype.fork=function(){return this.states=new tv(this),this.head=this.tail=new ls(e0,0,0),this.len=0,this};be.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ls(e0,0,0),this.len=0),this};be.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};be.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};be._configure=function(t){Qo=t,be.create=qu(),Qo._configure()}});var Uu=T((Ww,Fu)=>{"use strict";Fu.exports=Sr;var Ku=s0();(Sr.prototype=Object.create(Ku.prototype)).constructor=Sr;var gi=bi();function Sr(){Ku.call(this)}Sr._configure=function(){Sr.alloc=gi._Buffer_allocUnsafe,Sr.writeBytesBuffer=gi.Buffer&&gi.Buffer.prototype instanceof Uint8Array&&gi.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Sr.prototype.bytes=function(e){gi.isString(e)&&(e=gi._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Sr.writeBytesBuffer,r,e),this};function nv(t,e,r){t.length<40?gi.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Sr.prototype.string=function(e){var r=gi.Buffer.byteLength(e);return this.uint32(r),r&&this._push(nv,r,e),this};Sr._configure()});var f0=T((Yw,Gu)=>{"use strict";Gu.exports=qe;var Ir=bi(),a0,zu=Ir.LongBits,sv=Ir.utf8;function ur(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function qe(t){this.buf=t,this.pos=0,this.len=t.length}var Vu=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new qe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new qe(e);throw Error("illegal buffer")},Hu=function(){return Ir.Buffer?function(r){return(qe.create=function(n){return Ir.Buffer.isBuffer(n)?new a0(n):Vu(n)})(r)}:Vu};qe.create=Hu();qe.prototype._slice=Ir.Array.prototype.subarray||Ir.Array.prototype.slice;qe.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,ur(this,10);return e}}();qe.prototype.int32=function(){return this.uint32()|0};qe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function o0(){var t=new zu(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw ur(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw ur(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}qe.prototype.bool=function(){return this.uint32()!==0};function ia(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}qe.prototype.fixed32=function(){if(this.pos+4>this.len)throw ur(this,4);return ia(this.buf,this.pos+=4)};qe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ur(this,4);return ia(this.buf,this.pos+=4)|0};function ju(){if(this.pos+8>this.len)throw ur(this,8);return new zu(ia(this.buf,this.pos+=4),ia(this.buf,this.pos+=4))}qe.prototype.float=function(){if(this.pos+4>this.len)throw ur(this,4);var e=Ir.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};qe.prototype.double=function(){if(this.pos+8>this.len)throw ur(this,4);var e=Ir.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};qe.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw ur(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};qe.prototype.string=function(){var e=this.bytes();return sv.read(e,0,e.length)};qe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw ur(this,e);this.pos+=e}else do if(this.pos>=this.len)throw ur(this);while(this.buf[this.pos++]&128);return this};qe.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};qe._configure=function(t){a0=t,qe.create=Hu(),a0._configure();var e=Ir.Long?"toLong":"toNumber";Ir.merge(qe.prototype,{int64:function(){return o0.call(this)[e](!1)},uint64:function(){return o0.call(this)[e](!0)},sint64:function(){return o0.call(this).zzDecode()[e](!1)},fixed64:function(){return ju.call(this)[e](!0)},sfixed64:function(){return ju.call(this)[e](!1)}})}});var $u=T((Jw,Wu)=>{"use strict";Wu.exports=Ki;var Yu=f0();(Ki.prototype=Object.create(Yu.prototype)).constructor=Ki;var Ju=bi();function Ki(t){Yu.call(this,t)}Ki._configure=function(){Ju.Buffer&&(Ki.prototype._slice=Ju.Buffer.prototype.slice)};Ki.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ki._configure()});var Xu=T(($w,Zu)=>{"use strict";Zu.exports=ds;var c0=bi();(ds.prototype=Object.create(c0.EventEmitter.prototype)).constructor=ds;function ds(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");c0.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}ds.prototype.rpcCall=function t(e,r,i,n,s){if(!n)throw TypeError("request must be specified");var a=this;if(!s)return c0.asPromise(t,a,e,r,i,n);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(u,c){if(u)return a.emit("error",u,e),s(u);if(c===null){a.end(!0);return}if(!(c instanceof i))try{c=i[a.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return a.emit("error",f,e),s(f)}return a.emit("data",c,e),s(null,c)})}catch(o){a.emit("error",o,e),setTimeout(function(){s(o)},0);return}};ds.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var eh=T(Qu=>{"use strict";var av=Qu;av.Service=Xu()});var rh=T((Xw,th)=>{"use strict";th.exports={}});var sh=T(ih=>{"use strict";var Kt=ih;Kt.build="minimal";Kt.Writer=s0();Kt.BufferWriter=Uu();Kt.Reader=f0();Kt.BufferReader=$u();Kt.util=bi();Kt.rpc=eh();Kt.roots=rh();Kt.configure=nh;function nh(){Kt.util._configure(),Kt.Writer._configure(Kt.BufferWriter),Kt.Reader._configure(Kt.BufferReader)}nh()});var En=T((e_,ah)=>{"use strict";ah.exports=sh()});var h0=T((t_,oh)=>{"use strict";var vi=En(),Sn=vi.Reader,u0=vi.Writer,ye=vi.util,vt=vi.roots["libp2p-pubsub-rpc"]||(vi.roots["libp2p-pubsub-rpc"]={});vt.RPC=function(){function t(e){if(this.subscriptions=[],this.msgs=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.subscriptions=ye.emptyArray,t.prototype.msgs=ye.emptyArray,t.encode=function(r,i){if(i||(i=u0.create()),r.subscriptions!=null&&r.subscriptions.length)for(var n=0;n<r.subscriptions.length;++n)vt.RPC.SubOpts.encode(r.subscriptions[n],i.uint32(10).fork()).ldelim();if(r.msgs!=null&&r.msgs.length)for(var n=0;n<r.msgs.length;++n)vt.RPC.Message.encode(r.msgs[n],i.uint32(18).fork()).ldelim();return i},t.decode=function(r,i){r instanceof Sn||(r=Sn.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new vt.RPC;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.subscriptions&&s.subscriptions.length||(s.subscriptions=[]),s.subscriptions.push(vt.RPC.SubOpts.decode(r,r.uint32()));break;case 2:s.msgs&&s.msgs.length||(s.msgs=[]),s.msgs.push(vt.RPC.Message.decode(r,r.uint32()));break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof vt.RPC)return r;var i=new vt.RPC;if(r.subscriptions){if(!Array.isArray(r.subscriptions))throw TypeError(".RPC.subscriptions: array expected");i.subscriptions=[];for(var n=0;n<r.subscriptions.length;++n){if(typeof r.subscriptions[n]!="object")throw TypeError(".RPC.subscriptions: object expected");i.subscriptions[n]=vt.RPC.SubOpts.fromObject(r.subscriptions[n])}}if(r.msgs){if(!Array.isArray(r.msgs))throw TypeError(".RPC.msgs: array expected");i.msgs=[];for(var n=0;n<r.msgs.length;++n){if(typeof r.msgs[n]!="object")throw TypeError(".RPC.msgs: object expected");i.msgs[n]=vt.RPC.Message.fromObject(r.msgs[n])}}return i},t.toObject=function(r,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.subscriptions=[],n.msgs=[]),r.subscriptions&&r.subscriptions.length){n.subscriptions=[];for(var s=0;s<r.subscriptions.length;++s)n.subscriptions[s]=vt.RPC.SubOpts.toObject(r.subscriptions[s],i)}if(r.msgs&&r.msgs.length){n.msgs=[];for(var s=0;s<r.msgs.length;++s)n.msgs[s]=vt.RPC.Message.toObject(r.msgs[s],i)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,vi.util.toJSONOptions)},t.SubOpts=function(){function e(r){if(r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.subscribe=!1,e.prototype.topicID="",e.encode=function(i,n){return n||(n=u0.create()),i.subscribe!=null&&Object.hasOwnProperty.call(i,"subscribe")&&n.uint32(8).bool(i.subscribe),i.topicID!=null&&Object.hasOwnProperty.call(i,"topicID")&&n.uint32(18).string(i.topicID),n},e.decode=function(i,n){i instanceof Sn||(i=Sn.create(i));for(var s=n===void 0?i.len:i.pos+n,a=new vt.RPC.SubOpts;i.pos<s;){var o=i.uint32();switch(o>>>3){case 1:a.subscribe=i.bool();break;case 2:a.topicID=i.string();break;default:i.skipType(o&7);break}}return a},e.fromObject=function(i){if(i instanceof vt.RPC.SubOpts)return i;var n=new vt.RPC.SubOpts;return i.subscribe!=null&&(n.subscribe=Boolean(i.subscribe)),i.topicID!=null&&(n.topicID=String(i.topicID)),n},e.toObject=function(i,n){n||(n={});var s={};return n.defaults&&(s.subscribe=!1,s.topicID=""),i.subscribe!=null&&i.hasOwnProperty("subscribe")&&(s.subscribe=i.subscribe),i.topicID!=null&&i.hasOwnProperty("topicID")&&(s.topicID=i.topicID),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,vi.util.toJSONOptions)},e}(),t.Message=function(){function e(r){if(this.topicIDs=[],r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.from=ye.newBuffer([]),e.prototype.data=ye.newBuffer([]),e.prototype.seqno=ye.newBuffer([]),e.prototype.topicIDs=ye.emptyArray,e.prototype.signature=ye.newBuffer([]),e.prototype.key=ye.newBuffer([]),e.encode=function(i,n){if(n||(n=u0.create()),i.from!=null&&Object.hasOwnProperty.call(i,"from")&&n.uint32(10).bytes(i.from),i.data!=null&&Object.hasOwnProperty.call(i,"data")&&n.uint32(18).bytes(i.data),i.seqno!=null&&Object.hasOwnProperty.call(i,"seqno")&&n.uint32(26).bytes(i.seqno),i.topicIDs!=null&&i.topicIDs.length)for(var s=0;s<i.topicIDs.length;++s)n.uint32(34).string(i.topicIDs[s]);return i.signature!=null&&Object.hasOwnProperty.call(i,"signature")&&n.uint32(42).bytes(i.signature),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(50).bytes(i.key),n},e.decode=function(i,n){i instanceof Sn||(i=Sn.create(i));for(var s=n===void 0?i.len:i.pos+n,a=new vt.RPC.Message;i.pos<s;){var o=i.uint32();switch(o>>>3){case 1:a.from=i.bytes();break;case 2:a.data=i.bytes();break;case 3:a.seqno=i.bytes();break;case 4:a.topicIDs&&a.topicIDs.length||(a.topicIDs=[]),a.topicIDs.push(i.string());break;case 5:a.signature=i.bytes();break;case 6:a.key=i.bytes();break;default:i.skipType(o&7);break}}return a},e.fromObject=function(i){if(i instanceof vt.RPC.Message)return i;var n=new vt.RPC.Message;if(i.from!=null&&(typeof i.from=="string"?ye.base64.decode(i.from,n.from=ye.newBuffer(ye.base64.length(i.from)),0):i.from.length&&(n.from=i.from)),i.data!=null&&(typeof i.data=="string"?ye.base64.decode(i.data,n.data=ye.newBuffer(ye.base64.length(i.data)),0):i.data.length&&(n.data=i.data)),i.seqno!=null&&(typeof i.seqno=="string"?ye.base64.decode(i.seqno,n.seqno=ye.newBuffer(ye.base64.length(i.seqno)),0):i.seqno.length&&(n.seqno=i.seqno)),i.topicIDs){if(!Array.isArray(i.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");n.topicIDs=[];for(var s=0;s<i.topicIDs.length;++s)n.topicIDs[s]=String(i.topicIDs[s])}return i.signature!=null&&(typeof i.signature=="string"?ye.base64.decode(i.signature,n.signature=ye.newBuffer(ye.base64.length(i.signature)),0):i.signature.length&&(n.signature=i.signature)),i.key!=null&&(typeof i.key=="string"?ye.base64.decode(i.key,n.key=ye.newBuffer(ye.base64.length(i.key)),0):i.key.length&&(n.key=i.key)),n},e.toObject=function(i,n){n||(n={});var s={};if((n.arrays||n.defaults)&&(s.topicIDs=[]),n.defaults&&(n.bytes===String?s.from="":(s.from=[],n.bytes!==Array&&(s.from=ye.newBuffer(s.from))),n.bytes===String?s.data="":(s.data=[],n.bytes!==Array&&(s.data=ye.newBuffer(s.data))),n.bytes===String?s.seqno="":(s.seqno=[],n.bytes!==Array&&(s.seqno=ye.newBuffer(s.seqno))),n.bytes===String?s.signature="":(s.signature=[],n.bytes!==Array&&(s.signature=ye.newBuffer(s.signature))),n.bytes===String?s.key="":(s.key=[],n.bytes!==Array&&(s.key=ye.newBuffer(s.key)))),i.from!=null&&i.hasOwnProperty("from")&&(s.from=n.bytes===String?ye.base64.encode(i.from,0,i.from.length):n.bytes===Array?Array.prototype.slice.call(i.from):i.from),i.data!=null&&i.hasOwnProperty("data")&&(s.data=n.bytes===String?ye.base64.encode(i.data,0,i.data.length):n.bytes===Array?Array.prototype.slice.call(i.data):i.data),i.seqno!=null&&i.hasOwnProperty("seqno")&&(s.seqno=n.bytes===String?ye.base64.encode(i.seqno,0,i.seqno.length):n.bytes===Array?Array.prototype.slice.call(i.seqno):i.seqno),i.topicIDs&&i.topicIDs.length){s.topicIDs=[];for(var a=0;a<i.topicIDs.length;++a)s.topicIDs[a]=i.topicIDs[a]}return i.signature!=null&&i.hasOwnProperty("signature")&&(s.signature=n.bytes===String?ye.base64.encode(i.signature,0,i.signature.length):n.bytes===Array?Array.prototype.slice.call(i.signature):i.signature),i.key!=null&&i.hasOwnProperty("key")&&(s.key=n.bytes===String?ye.base64.encode(i.key,0,i.key.length):n.bytes===Array?Array.prototype.slice.call(i.key):i.key),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,vi.util.toJSONOptions)},e}(),t}();oh.exports=vt});var ch=T(na=>{"use strict";na.byteLength=ov;na.toByteArray=fv;na.fromByteArray=cv;var Ar=[],er=[],uv=typeof Uint8Array!="undefined"?Uint8Array:Array,l0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var In=0,hv=l0.length;In<hv;++In)Ar[In]=l0[In],er[l0.charCodeAt(In)]=In;er["-".charCodeAt(0)]=62;er["_".charCodeAt(0)]=63;function fh(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function ov(t){var e=fh(t),r=e[0],i=e[1];return(r+i)*3/4-i}function lv(t,e,r){return(e+r)*3/4-r}function fv(t){var e,r=fh(t),i=r[0],n=r[1],s=new uv(lv(t,i,n)),a=0,o=n>0?i-4:i,u;for(u=0;u<o;u+=4)e=er[t.charCodeAt(u)]<<18|er[t.charCodeAt(u+1)]<<12|er[t.charCodeAt(u+2)]<<6|er[t.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return n===2&&(e=er[t.charCodeAt(u)]<<2|er[t.charCodeAt(u+1)]>>4,s[a++]=e&255),n===1&&(e=er[t.charCodeAt(u)]<<10|er[t.charCodeAt(u+1)]<<4|er[t.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function dv(t){return Ar[t>>18&63]+Ar[t>>12&63]+Ar[t>>6&63]+Ar[t&63]}function pv(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(dv(i));return n.join("")}function cv(t){for(var e,r=t.length,i=r%3,n=[],s=16383,a=0,o=r-i;a<o;a+=s)n.push(pv(t,a,a+s>o?o:a+s));return i===1?(e=t[r-1],n.push(Ar[e>>2]+Ar[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(Ar[e>>10]+Ar[e>>4&63]+Ar[e<<2&63]+"=")),n.join("")}});var uh=T(d0=>{d0.read=function(t,e,r,i,n){var s,a,o=n*8-i-1,u=(1<<o)-1,c=u>>1,f=-7,h=r?n-1:0,d=r?-1:1,y=t[e+h];for(h+=d,s=y&(1<<-f)-1,y>>=-f,f+=o;f>0;s=s*256+t[e+h],h+=d,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=i;f>0;a=a*256+t[e+h],h+=d,f-=8);if(s===0)s=1-c;else{if(s===u)return a?NaN:(y?-1:1)*Infinity;a=a+Math.pow(2,i),s=s-c}return(y?-1:1)*a*Math.pow(2,s-i)};d0.write=function(t,e,r,i,n,s){var a,o,u,c=s*8-n-1,f=(1<<c)-1,h=f>>1,d=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:s-1,g=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(o=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?e+=d/u:e+=d*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=f?(o=0,a=f):a+h>=1?(o=(e*u-1)*Math.pow(2,n),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;t[r+y]=o&255,y+=g,o/=256,n-=8);for(a=a<<n|o,c+=n;c>0;t[r+y]=a&255,y+=g,a/=256,c-=8);t[r+y-g]|=S*128}});var Gi=T(An=>{"use strict";var p0=ch(),kn=uh(),hh=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;An.Buffer=O;An.SlowBuffer=bv;An.INSPECT_MAX_BYTES=50;var sa=2147483647;An.kMaxLength=sa;O.TYPED_ARRAY_SUPPORT=yv();!O.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function yv(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(!!O.isBuffer(this))return this.buffer}});Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(!!O.isBuffer(this))return this.byteOffset}});function Zr(t){if(t>sa)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,O.prototype),e}function O(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b0(t)}return lh(t,e,r)}O.poolSize=8192;function lh(t,e,r){if(typeof t=="string")return gv(t,e);if(ArrayBuffer.isView(t))return vv(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(kr(t,ArrayBuffer)||t&&kr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(kr(t,SharedArrayBuffer)||t&&kr(t.buffer,SharedArrayBuffer)))return y0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return O.from(i,e,r);let n=xv(t);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return O.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}O.from=function(t,e,r){return lh(t,e,r)};Object.setPrototypeOf(O.prototype,Uint8Array.prototype);Object.setPrototypeOf(O,Uint8Array);function dh(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function mv(t,e,r){return dh(t),t<=0?Zr(t):e!==void 0?typeof r=="string"?Zr(t).fill(e,r):Zr(t).fill(e):Zr(t)}O.alloc=function(t,e,r){return mv(t,e,r)};function b0(t){return dh(t),Zr(t<0?0:g0(t)|0)}O.allocUnsafe=function(t){return b0(t)};O.allocUnsafeSlow=function(t){return b0(t)};function gv(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!O.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=ph(t,e)|0,i=Zr(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function v0(t){let e=t.length<0?0:g0(t.length)|0,r=Zr(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function vv(t){if(kr(t,Uint8Array)){let e=new Uint8Array(t);return y0(e.buffer,e.byteOffset,e.byteLength)}return v0(t)}function y0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,O.prototype),i}function xv(t){if(O.isBuffer(t)){let e=g0(t.length)|0,r=Zr(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||x0(t.length)?Zr(0):v0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return v0(t.data)}function g0(t){if(t>=sa)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+sa.toString(16)+" bytes");return t|0}function bv(t){return+t!=t&&(t=0),O.alloc(+t)}O.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==O.prototype};O.compare=function(e,r){if(kr(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),kr(r,Uint8Array)&&(r=O.from(r,r.offset,r.byteLength)),!O.isBuffer(e)||!O.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,n=r.length;for(let s=0,a=Math.min(i,n);s<a;++s)if(e[s]!==r[s]){i=e[s],n=r[s];break}return i<n?-1:n<i?1:0};O.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};O.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return O.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;let n=O.allocUnsafe(r),s=0;for(i=0;i<e.length;++i){let a=e[i];if(kr(a,Uint8Array))s+a.length>n.length?(O.isBuffer(a)||(a=O.from(a)),a.copy(n,s)):Uint8Array.prototype.set.call(n,a,s);else if(O.isBuffer(a))a.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return n};function ph(t,e){if(O.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||kr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return m0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return bh(t).length;default:if(n)return i?-1:m0(t).length;e=(""+e).toLowerCase(),n=!0}}O.byteLength=ph;function Av(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Sv(this,e,r);case"utf8":case"utf-8":return yh(this,e,r);case"ascii":return _v(this,e,r);case"latin1":case"binary":return Ev(this,e,r);case"base64":return wv(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Iv(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}O.prototype._isBuffer=!0;function Ui(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}O.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Ui(this,r,r+1);return this};O.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Ui(this,r,r+3),Ui(this,r+1,r+2);return this};O.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Ui(this,r,r+7),Ui(this,r+1,r+6),Ui(this,r+2,r+5),Ui(this,r+3,r+4);return this};O.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?yh(this,0,e):Av.apply(this,arguments)};O.prototype.toLocaleString=O.prototype.toString;O.prototype.equals=function(e){if(!O.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:O.compare(this,e)===0};O.prototype.inspect=function(){let e="",r=An.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};hh&&(O.prototype[hh]=O.prototype.inspect);O.prototype.compare=function(e,r,i,n,s){if(kr(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),!O.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),r<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&r>=i)return 0;if(n>=s)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let a=s-n,o=i-r,u=Math.min(a,o),c=this.slice(n,s),f=e.slice(r,i);for(let h=0;h<u;++h)if(c[h]!==f[h]){a=c[h],o=f[h];break}return a<o?-1:o<a?1:0};function vh(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,x0(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=O.from(e,i)),O.isBuffer(e))return e.length===0?-1:gh(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):gh(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function gh(t,e,r,i,n){let s=1,a=t.length,o=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,r/=2}function u(f,h){return s===1?f[h]:f.readUInt16BE(h*s)}let c;if(n){let f=-1;for(c=r;c<a;c++)if(u(t,c)===u(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===o)return f*s}else f!==-1&&(c-=c-f),f=-1}else for(r+o>a&&(r=a-o),c=r;c>=0;c--){let f=!0;for(let h=0;h<o;h++)if(u(t,c+h)!==u(e,h)){f=!1;break}if(f)return c}return-1}O.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};O.prototype.indexOf=function(e,r,i){return vh(this,e,r,i,!0)};O.prototype.lastIndexOf=function(e,r,i){return vh(this,e,r,i,!1)};function kv(t,e,r,i){r=Number(r)||0;let n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let a;for(a=0;a<i;++a){let o=parseInt(e.substr(a*2,2),16);if(x0(o))return a;t[r+a]=o}return a}function Cv(t,e,r,i){return aa(m0(e,t.length-r),t,r,i)}function Tv(t,e,r,i){return aa(Bv(e),t,r,i)}function Rv(t,e,r,i){return aa(bh(e),t,r,i)}function Pv(t,e,r,i){return aa(Mv(e,t.length-r),t,r,i)}O.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return kv(this,e,r,i);case"utf8":case"utf-8":return Cv(this,e,r,i);case"ascii":case"latin1":case"binary":return Tv(this,e,r,i);case"base64":return Rv(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pv(this,e,r,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}};O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function wv(t,e,r){return e===0&&r===t.length?p0.fromByteArray(t):p0.fromByteArray(t.slice(e,r))}function yh(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let s=t[n],a=null,o=s>239?4:s>223?3:s>191?2:1;if(n+o<=r){let u,c,f,h;switch(o){case 1:s<128&&(a=s);break;case 2:u=t[n+1],(u&192)==128&&(h=(s&31)<<6|u&63,h>127&&(a=h));break;case 3:u=t[n+1],c=t[n+2],(u&192)==128&&(c&192)==128&&(h=(s&15)<<12|(u&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:u=t[n+1],c=t[n+2],f=t[n+3],(u&192)==128&&(c&192)==128&&(f&192)==128&&(h=(s&15)<<18|(u&63)<<12|(c&63)<<6|f&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|a&1023),i.push(a),n+=o}return Dv(i)}var xh=4096;function Dv(t){let e=t.length;if(e<=xh)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=xh));return r}function _v(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function Ev(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function Sv(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let s=e;s<r;++s)n+=Ov[t[s]];return n}function Iv(t,e,r){let i=t.slice(e,r),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}O.prototype.slice=function(e,r){let i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);let n=this.subarray(e,r);return Object.setPrototypeOf(n,O.prototype),n};function wt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=this[e],s=1,a=0;for(;++a<r&&(s*=256);)n+=this[e+a]*s;return n};O.prototype.readUintBE=O.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=this[e+--r],s=1;for(;r>0&&(s*=256);)n+=this[e+--r]*s;return n};O.prototype.readUint8=O.prototype.readUInt8=function(e,r){return e=e>>>0,r||wt(e,1,this.length),this[e]};O.prototype.readUint16LE=O.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||wt(e,2,this.length),this[e]|this[e+1]<<8};O.prototype.readUint16BE=O.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||wt(e,2,this.length),this[e]<<8|this[e+1]};O.prototype.readUint32LE=O.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};O.prototype.readUint32BE=O.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};O.prototype.readBigUInt64LE=xi(function(e){e=e>>>0,Cn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});O.prototype.readBigUInt64BE=xi(function(e){e=e>>>0,Cn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});O.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=this[e],s=1,a=0;for(;++a<r&&(s*=256);)n+=this[e+a]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*r)),n};O.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=r,s=1,a=this[e+--n];for(;n>0&&(s*=256);)a+=this[e+--n]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};O.prototype.readInt8=function(e,r){return e=e>>>0,r||wt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};O.prototype.readInt16LE=function(e,r){e=e>>>0,r||wt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};O.prototype.readInt16BE=function(e,r){e=e>>>0,r||wt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};O.prototype.readInt32LE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};O.prototype.readInt32BE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};O.prototype.readBigInt64LE=xi(function(e){e=e>>>0,Cn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});O.prototype.readBigInt64BE=xi(function(e){e=e>>>0,Cn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});O.prototype.readFloatLE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),kn.read(this,e,!0,23,4)};O.prototype.readFloatBE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),kn.read(this,e,!1,23,4)};O.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||wt(e,8,this.length),kn.read(this,e,!0,52,8)};O.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||wt(e,8,this.length),kn.read(this,e,!1,52,8)};function Ut(t,e,r,i,n,s){if(!O.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;Ut(this,e,r,i,o,0)}let s=1,a=0;for(this[r]=e&255;++a<i&&(s*=256);)this[r+a]=e/s&255;return r+i};O.prototype.writeUintBE=O.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;Ut(this,e,r,i,o,0)}let s=i-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+i};O.prototype.writeUint8=O.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,1,255,0),this[r]=e&255,r+1};O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function wh(t,e,r,i,n){mh(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function _h(t,e,r,i,n){mh(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}O.prototype.writeBigUInt64LE=xi(function(e,r=0){return wh(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeBigUInt64BE=xi(function(e,r=0){return _h(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let u=Math.pow(2,8*i-1);Ut(this,e,r,i,u-1,-u)}let s=0,a=1,o=0;for(this[r]=e&255;++s<i&&(a*=256);)e<0&&o===0&&this[r+s-1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+i};O.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let u=Math.pow(2,8*i-1);Ut(this,e,r,i,u-1,-u)}let s=i-1,a=1,o=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&o===0&&this[r+s+1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+i};O.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};O.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};O.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};O.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};O.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};O.prototype.writeBigInt64LE=xi(function(e,r=0){return wh(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});O.prototype.writeBigInt64BE=xi(function(e,r=0){return _h(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Eh(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Sh(t,e,r,i,n){return e=+e,r=r>>>0,n||Eh(t,e,r,4,34028234663852886e22,-34028234663852886e22),kn.write(t,e,r,i,23,4),r+4}O.prototype.writeFloatLE=function(e,r,i){return Sh(this,e,r,!0,i)};O.prototype.writeFloatBE=function(e,r,i){return Sh(this,e,r,!1,i)};function Ih(t,e,r,i,n){return e=+e,r=r>>>0,n||Eh(t,e,r,8,17976931348623157e292,-17976931348623157e292),kn.write(t,e,r,i,52,8),r+8}O.prototype.writeDoubleLE=function(e,r,i){return Ih(this,e,r,!0,i)};O.prototype.writeDoubleBE=function(e,r,i){return Ih(this,e,r,!1,i)};O.prototype.copy=function(e,r,i,n){if(!O.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),s};O.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!O.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let a=e.charCodeAt(0);(n==="utf8"&&a<128||n==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{let a=O.isBuffer(e)?e:O.from(e,n),o=a.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=a[s%o]}return this};var Bn={};function w0(t,e,r){Bn[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}w0("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);w0("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);w0("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Ah(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=Ah(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function Ah(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Nv(t,e,r){Cn(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ps(e,t.length-(r+1))}function mh(t,e,r,i,n,s){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",o;throw s>3?e===0||e===BigInt(0)?o=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:o=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:o=`>= ${e}${a} and <= ${r}${a}`,new Bn.ERR_OUT_OF_RANGE("value",o,t)}Nv(i,n,s)}function Cn(t,e){if(typeof t!="number")throw new Bn.ERR_INVALID_ARG_TYPE(e,"number",t)}function ps(t,e,r){throw Math.floor(t)!==t?(Cn(t,r),new Bn.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Bn.ERR_BUFFER_OUT_OF_BOUNDS:new Bn.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Lv=/[^+/0-9A-Za-z-_]/g;function qv(t){if(t=t.split("=")[0],t=t.trim().replace(Lv,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function m0(t,e){e=e||Infinity;let r,i=t.length,n=null,s=[];for(let a=0;a<i;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Bv(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Mv(t,e){let r,i,n,s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,n=r%256,s.push(n),s.push(i);return s}function bh(t){return p0.toByteArray(qv(t))}function aa(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function kr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function x0(t){return t!==t}var Ov=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function xi(t){return typeof BigInt=="undefined"?Fv:t}function Fv(){throw new Error("BigInt not supported")}});var _0=T((a_,kh)=>{"use strict";var{Buffer:hr}=Gi(),Ch=Symbol.for("BufferList");function Ce(t){if(!(this instanceof Ce))return new Ce(t);Ce._init.call(this,t)}Ce._init=function(e){Object.defineProperty(this,Ch,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Ce.prototype._new=function(e){return new Ce(e)};Ce.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};Ce.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};Ce.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Ce.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Ce.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||hr.alloc(0);let s=!!e,a=this._offset(i),o=n-i,u=o,c=s&&r||0,f=a[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:hr.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,c),c+=this._bufs[h].length;return e}if(u<=this._bufs[a[0]].length-f)return s?this._bufs[a[0]].copy(e,r,f,f+u):this._bufs[a[0]].slice(f,f+u);s||(e=hr.allocUnsafe(o));for(let h=a[0];h<this._bufs.length;h++){let d=this._bufs[h].length-f;if(u>d)this._bufs[h].copy(e,c,f),c+=d;else{this._bufs[h].copy(e,c,f,f+u),c+=d;break}u-=d,f&&(f=0)}return e.length>c?e.slice(0,c):e};Ce.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};Ce.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};Ce.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Ce.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Ce.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(hr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(hr.from(e));return this};Ce.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Ce.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=hr.from([t]):typeof t=="string"?t=hr.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=hr.from(t.buffer,t.byteOffset,t.byteLength):hr.isBuffer(t)||(t=hr.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let a=this._bufs[n];for(;s<a.length;)if(a.length-s>=t.length){let u=a.indexOf(t,s);if(u!==-1)return this._reverseOffset([n,u]);s=a.length-t.length+1}else{let u=this._reverseOffset([n,s]);if(this._match(u,t))return u;s++}s=0}return-1};Ce.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Ce.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:Ce.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();Ce.prototype._isBufferList=function(e){return e instanceof Ce||Ce.isBufferList(e)};Ce.isBufferList=function(e){return e!=null&&e[Ch]};kh.exports=Ce});var Rh=T((o_,Bh)=>{Bh.exports=E0;var Th=128,Kv=127,Uv=~Kv,Gv=Math.pow(2,31);function E0(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw E0.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=Gv;)e[r++]=t&255|Th,t/=128;for(;t&Uv;)e[r++]=t&255|Th,t>>>=7;return e[r]=t|0,E0.bytes=r-i+1,e}});var Dh=T((f_,Mh)=>{Mh.exports=S0;var zv=128,Ph=127;function S0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a||i>49)throw S0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&Ph)<<i:(s&Ph)*Math.pow(2,i),i+=7}while(s>=zv);return S0.bytes=n-e,r}});var Nh=T((c_,Oh)=>{var Vv=Math.pow(2,7),Hv=Math.pow(2,14),jv=Math.pow(2,21),Wv=Math.pow(2,28),Yv=Math.pow(2,35),Jv=Math.pow(2,42),$v=Math.pow(2,49),Zv=Math.pow(2,56),Xv=Math.pow(2,63);Oh.exports=function(t){return t<Vv?1:t<Hv?2:t<jv?3:t<Wv?4:t<Yv?5:t<Jv?6:t<$v?7:t<Zv?8:t<Xv?9:10}});var oa=T((u_,Lh)=>{Lh.exports={encode:Rh(),decode:Dh(),encodingLength:Nh()}});var I0=T((h_,qh)=>{"use strict";var Fh=oa(),{Buffer:Qv}=Gi(),Kh=(t,e,r)=>{let i=Fh.encode(t,e,r);return Kh.bytes=Fh.encode.bytes,e||Qv.from(i)};qh.exports=Kh});var jh=T((l_,fa)=>{"use strict";var{Buffer:Uh}=Gi(),Gh=_0(),zh=I0(),A0=8,Vh=10*1024;function Hh(t){t=t||{};let e=Math.max(t.poolSize||Vh,t.minPoolSize||A0),r=t.lengthEncoder||zh;return async function*(n){let s=Uh.alloc(e),a=0;for await(let o of n){r(o.length,s,a);let u=s.slice(a,a+r.bytes);a+=r.bytes,s.length-a<A0&&(s=Uh.alloc(e),a=0),yield new Gh().append(u).append(o)}}}Hh.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||zh;return new Gh([r(t.length),t.slice()])};fa.exports=Hh;fa.exports.MIN_POOL_SIZE=A0;fa.exports.DEFAULT_POOL_SIZE=Vh});var k0=T((d_,Wh)=>{"use strict";var Yh=oa(),{Buffer:e3}=Gi(),t3=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),Jh=t=>{let e=Yh.decode(e3.isBuffer(t)?t:t3(t));return Jh.bytes=Yh.decode.bytes,e};Wh.exports=Jh});var Qh=T((p_,ca)=>{"use strict";var{Buffer:r3}=Gi(),C0=_0(),i3=k0(),$h=8,Zh=1024*1024*4,Xh=r3.alloc(0),mi={LENGTH:"readLength",DATA:"readData"},n3={[mi.LENGTH]:(t,e,r,i)=>{e=e.append(t);let n;try{n=i.lengthDecoder(e)}catch(s){if(e.length>i.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:mi.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(i.lengthDecoder.bytes),e=new C0,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(Xh),{mode:mi.LENGTH,chunk:t,buffer:e,data:Xh}):{mode:mi.DATA,chunk:t,buffer:e,state:{dataLength:n},data:void 0}},[mi.DATA]:(t,e,r,i)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:mi.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:n}=r,s=e.shallowSlice(0,n),a=e.length>n?e.shallowSlice(n):void 0;return e=new C0,i.onData&&i.onData(s),{mode:mi.LENGTH,chunk:a,buffer:e,state:void 0,data:s}}};function B0(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||i3,maxLengthLength:t.maxLengthLength||$h,maxDataLength:t.maxDataLength||Zh,onLength:t.onLength,onData:t.onData};return async function*(i){let n=new C0,s=mi.LENGTH,a;for await(let o of i){let u=o;for(;u;){let c=n3[s](u,n,a,e);s=c.mode,u=c.chunk,n=c.buffer,a=c.state,c.data&&(yield c.data)}}if(n.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}B0.fromReader=(t,e)=>{let r=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}};return B0({...e||{},onLength:s=>{r=s}})(i)};ca.exports=B0;ca.exports.MAX_LENGTH_LENGTH=$h;ca.exports.MAX_DATA_LENGTH=Zh});var rl=T((b_,el)=>{"use strict";var{Buffer:s3}=Gi(),tl=(t,e,r)=>(e=e||s3.allocUnsafe(4),e.writeInt32BE(t,r),e);tl.bytes=4;el.exports=tl});var sl=T((y_,il)=>{"use strict";var nl=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};nl.bytes=4;il.exports=nl});var al=T(zi=>{"use strict";zi.encode=jh();zi.decode=Qh();zi.varintEncode=I0();zi.varintDecode=k0();zi.int32BEEncode=rl();zi.int32BEDecode=sl()});var fl=T((x_,ol)=>{ol.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var hl=T((w_,cl)=>{var ul=fl();cl.exports=class{constructor(e){this.hwm=e||16,this.head=new ul(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new ul(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var dl=T((__,ll)=>{var T0=hl();ll.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new T0,i,n,s,a=()=>{if(!r.isEmpty()){if(t.writev){let S,I=[];for(;!r.isEmpty();){if(S=r.shift(),S.error)throw S.error;I.push(S.value)}return{done:S.done,value:I}}let g=r.shift();if(g.error)throw g.error;return g}return s?{done:!0}:new Promise((g,S)=>{n=I=>(n=null,I.error?S(I.error):t.writev&&!I.done?g({done:I.done,value:[I.value]}):g(I),i)})},o=g=>n?n(g):(r.push(g),i),u=g=>(r=new T0,n?n({error:g}):(r.push({error:g}),i)),c=g=>s?i:o({done:!1,value:g}),f=g=>s?i:(s=!0,g?u(g):o({done:!0})),h=()=>(r=new T0,f(),{done:!0}),d=g=>(f(g),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:a,return:h,throw:d,push:c,end:f},!e)return i;let y=i;return i={[Symbol.asyncIterator](){return this},next(){return y.next()},throw(g){return y.throw(g),e&&(e(g),e=null),{done:!0}},return(){return y.return(),e&&(e(),e=null),{done:!0}},push:c,end(g){return y.end(g),e&&(e(g),e=null),i}},i}});var bl=T((E_,pl)=>{pl.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var gl=T((I_,yl)=>{yl.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var wl=T((A_,Vi)=>{var a3=bl(),R0=gl(),vl=(t,e,r)=>M0(t,Array.isArray(e)?e:[{signal:e,options:r}]),M0=(t,e)=>{t=a3(t),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*r(){let i,n=()=>{i&&i()};for(let{signal:s}of e)s.addEventListener("abort",n);for(;;){let s;try{for(let{signal:o,options:u}of e)if(o.aborted){let{abortMessage:c,abortCode:f}=u;throw new R0(c,f)}let a=new Promise((o,u)=>{i=()=>{let{options:c}=e.find(({signal:d})=>d.aborted),{abortMessage:f,abortCode:h}=c;u(new R0(f,h))}});s=await Promise.race([a,t.next()]),i=null}catch(a){for(let{signal:c}of e)c.removeEventListener("abort",n);let o=e.find(({signal:c})=>c.aborted),u=a.type==="aborted"&&o;if(u&&o.options.onAbort&&await o.options.onAbort(t),typeof t.return=="function"&&await t.return(),u&&o.options.returnOnAbort)return;throw a}if(s.done)break;yield s.value}for(let{signal:s}of e)s.removeEventListener("abort",n)}return r()},ml=(t,e,r)=>xl(t,Array.isArray(e)?e:[{signal:e,options:r}]),xl=(t,e)=>r=>t(M0(r,e)),f3=(t,e,r)=>o3(t,Array.isArray(e)?e:[{signal:e,options:r}]),o3=(t,e)=>({sink:xl(t.sink,e),source:M0(t.source,e)});Vi.exports=vl;Vi.exports.AbortError=R0;Vi.exports.source=vl;Vi.exports.sink=ml;Vi.exports.transform=ml;Vi.exports.duplex=f3});var El=T((k_,ua)=>{"use strict";var{AbortController:_l,AbortSignal:c3}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;ua.exports=_l;ua.exports.AbortSignal=c3;ua.exports.default=_l});var Bl=T((C_,Sl)=>{"use strict";var Il=Js(),u3=Object.assign(Il("libp2p-pubsub:peer-streams"),{error:Il("libp2p-pubsub:peer-streams:err")}),{EventEmitter:h3}=Yo(),Al=al(),l3=dl(),{pipe:kl}=$o(),{source:d3}=wl(),p3=El().default,Cl=class extends h3{constructor({id:e,protocol:r}){super();this.id=e,this.protocol=r,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new p3,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){let r=this.id.toB58String();throw new Error("No writable connection to "+r)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=d3(kl(this._rawInboundStream,Al.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){let r=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=l3({onEnd:i=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,i&&this.emit("close")}}),kl(this.outboundStream,Al.encode(),this._rawOutboundStream).catch(i=>{u3.error(i)}),r||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}};Sl.exports=Cl});var Rl=T(Tl=>{"use strict";var b3={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"};Tl.SignaturePolicy=b3});var Pl=T((T_,Ml)=>{"use strict";var ha=65536;function y3(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>ha)for(;r<t;)r+ha>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+ha)),r+=ha);else crypto.getRandomValues(e);return e}Ml.exports=y3});var la=T((R_,Dl)=>{"use strict";var g3=Pl(),v3=Yt();Dl.exports=function(t){if(isNaN(t)||t<=0)throw v3(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return g3(t)}});var Nl=T((M_,Ol)=>{"use strict";function x3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),s=n.charCodeAt(0);if(e[s]!==255)throw new TypeError(n+" is ambiguous");e[s]=i}var a=t.length,o=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,S=0,I=0,k=y.length;I!==k&&y[I]===0;)I++,g++;for(var R=(k-I)*c+1>>>0,M=new Uint8Array(R);I!==k;){for(var F=y[I],L=0,D=R-1;(F!==0||L<S)&&D!==-1;D--,L++)F+=256*M[D]>>>0,M[D]=F%a>>>0,F=F/a>>>0;if(F!==0)throw new Error("Non-zero carry");S=L,I++}for(var j=R-S;j!==R&&M[j]===0;)j++;for(var z=o.repeat(g);j<R;++j)z+=t.charAt(M[j]);return z}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var g=0;if(y[g]!==" "){for(var S=0,I=0;y[g]===o;)S++,g++;for(var k=(y.length-g)*u+1>>>0,R=new Uint8Array(k);y[g];){var M=e[y.charCodeAt(g)];if(M===255)return;for(var F=0,L=k-1;(M!==0||F<I)&&L!==-1;L--,F++)M+=a*R[L]>>>0,R[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");I=F,g++}if(y[g]!==" "){for(var D=k-I;D!==k&&R[D]===0;)D++;for(var j=new Uint8Array(S+(k-D)),z=S;D!==k;)j[z++]=R[D++];return j}}}function d(y){var g=h(y);if(g)return g;throw new Error("Non-base"+a+" character")}return{encode:f,decodeUnsafe:h,decode:d}}Ol.exports=x3});var da=T((P_,Ll)=>{"use strict";var m3=new TextDecoder,w3=t=>m3.decode(t),_3=new TextEncoder,E3=t=>_3.encode(t);function S3(t,e){let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}Ll.exports={decodeText:w3,encodeText:E3,concat:S3}});var Kl=T((D_,ql)=>{"use strict";var{encodeText:I3}=da(),Fl=class{constructor(e,r,i,n){this.name=e,this.code=r,this.codeBuf=I3(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};ql.exports=Fl});var Gl=T((O_,Ul)=>{"use strict";var A3=(t,e,r)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let n=t.length;for(;t[n-1]==="=";)--n;let s=new Uint8Array(n*r/8|0),a=0,o=0,u=0;for(let c=0;c<n;++c){let f=i[t[c]];if(f===void 0)throw new SyntaxError("Invalid character "+t[c]);o=o<<r|f,a+=r,a>=8&&(a-=8,s[u++]=255&o>>a)}if(a>=r||255&o<<8-a)throw new SyntaxError("Unexpected end of data");return s},k3=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",a=0,o=0;for(let u=0;u<t.length;++u)for(o=o<<8|t[u],a+=8;a>r;)a-=r,s+=e[n&o>>a];if(a&&(s+=e[n&o<<r-a]),i)for(;s.length*r&7;)s+="=";return s},C3=t=>e=>({encode(r){return k3(r,e,t)},decode(r){return A3(r,e,t)}});Ul.exports={rfc4648:C3}});var jl=T((N_,zl)=>{"use strict";var bs=Nl(),B3=Kl(),{rfc4648:Tt}=Gl(),{decodeText:T3,encodeText:R3}=da(),M3=()=>({encode:T3,decode:R3}),Vl=[["identity","\0",M3,""],["base2","0",Tt(1),"01"],["base8","7",Tt(3),"01234567"],["base10","9",bs,"0123456789"],["base16","f",Tt(4),"0123456789abcdef"],["base16upper","F",Tt(4),"0123456789ABCDEF"],["base32hex","v",Tt(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Tt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Tt(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Tt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Tt(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Tt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Tt(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Tt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Tt(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",bs,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",bs,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",bs,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",bs,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Hl=Vl.reduce((t,e)=>(t[e[0]]=new B3(e[0],e[1],e[2],e[3]),t),{}),P3=Vl.reduce((t,e)=>(t[e[1]]=Hl[e[0]],t),{});zl.exports={names:Hl,codes:P3}});var ji=T((Xr,Wl)=>{"use strict";var Tn=jl(),{encodeText:D3,decodeText:pa,concat:Yl}=da();function N3(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:i}=Hi(t);return O3(r,e),Yl([i,e],i.length+e.length)}function L3(t,e){let r=Hi(t),i=D3(r.encode(e));return Yl([r.codeBuf,i],r.codeBuf.length+i.length)}function q3(t){t instanceof Uint8Array&&(t=pa(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),Hi(t[0]).decode(t.substring(1))}function F3(t){if(t instanceof Uint8Array&&(t=pa(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return Hi(t[0]).name}catch(e){return!1}}function O3(t,e){Hi(t).decode(pa(e))}function Hi(t){if(Object.prototype.hasOwnProperty.call(Tn.names,t))return Tn.names[t];if(Object.prototype.hasOwnProperty.call(Tn.codes,t))return Tn.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function K3(t){return t instanceof Uint8Array&&(t=pa(t)),Hi(t[0])}Xr=Wl.exports=N3;Xr.encode=L3;Xr.decode=q3;Xr.isEncoded=F3;Xr.encoding=Hi;Xr.encodingFromData=K3;var U3=Object.freeze(Tn.names),G3=Object.freeze(Tn.codes);Xr.names=U3;Xr.codes=G3});var Jt=T((L_,Jl)=>{"use strict";var{encoding:z3}=ji(),V3=new TextDecoder("utf8");function H3(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function j3(t,e="utf8"){return e==="utf8"||e==="utf-8"?V3.decode(t):e==="ascii"?H3(t):z3(e).encode(t)}Jl.exports=j3});var $t=T((q_,$l)=>{"use strict";var{encoding:W3}=ji(),Y3=new TextEncoder;function J3(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function $3(t,e="utf8"){return e==="utf8"||e==="utf-8"?Y3.encode(t):e==="ascii"?J3(t):W3(e).decode(t)}$l.exports=$3});var ed=T((F_,Zl)=>{Zl.exports=Xl;var Ql=128,Z3=127,X3=~Z3,Q3=Math.pow(2,31);function Xl(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Q3;)e[r++]=t&255|Ql,t/=128;for(;t&X3;)e[r++]=t&255|Ql,t>>>=7;return e[r]=t|0,Xl.bytes=r-i+1,e}});var id=T((K_,td)=>{td.exports=P0;var e4=128,rd=127;function P0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a)throw P0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&rd)<<i:(s&rd)*Math.pow(2,i),i+=7}while(s>=e4);return P0.bytes=n-e,r}});var sd=T((U_,nd)=>{var t4=Math.pow(2,7),r4=Math.pow(2,14),i4=Math.pow(2,21),n4=Math.pow(2,28),s4=Math.pow(2,35),a4=Math.pow(2,42),o4=Math.pow(2,49),f4=Math.pow(2,56),c4=Math.pow(2,63);nd.exports=function(t){return t<t4?1:t<r4?2:t<i4?3:t<n4?4:t<s4?5:t<a4?6:t<o4?7:t<f4?8:t<c4?9:10}});var od=T((G_,ad)=>{ad.exports={encode:ed(),decode:id(),encodingLength:sd()}});var cd=T((z_,fd)=>{"use strict";var u4=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});fd.exports={names:u4}});var Cr=T((V_,ud)=>{"use strict";function h4(t,e){e||(e=t.reduce((n,s)=>n+s.length,0));let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}ud.exports=h4});var Wi=T((H_,hd)=>{"use strict";var ld=ji(),Rn=od(),{names:ys}=cd(),ba=Jt(),l4=$t(),d4=Cr(),Mn={};for(let t in ys){let e=t;Mn[ys[e]]=e}Object.freeze(Mn);function p4(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return ba(t,"base16")}function b4(t){return l4(t,"base16")}function y4(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return ba(ld.encode("base58btc",t)).slice(1)}function g4(t){let e=t instanceof Uint8Array?ba(t):t;return ld.decode("z"+e)}function pd(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Rn.decode(t);if(!dd(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(Rn.decode.bytes);let r=Rn.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(Rn.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${ba(t,"base16")}`);return{code:e,name:Mn[e],length:r,digest:t}}function v4(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=bd(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");let n=Rn.encode(i),s=Rn.encode(r);return d4([n,s,t],n.length+s.length+t.length)}function bd(t){let e=t;if(typeof t=="string"){if(ys[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=ys[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Mn[e]===void 0&&!D0(e))throw new Error(`Unrecognized function code: ${e}`);return e}function D0(t){return t>0&&t<16}function dd(t){return!!(D0(t)||Mn[t])}function yd(t){pd(t)}function x4(t){return yd(t),t.subarray(0,2)}hd.exports={names:ys,codes:Mn,toHexString:p4,fromHexString:b4,toB58String:y4,fromB58String:g4,decode:pd,encode:v4,coerceCode:bd,isAppCode:D0,validate:yd,prefix:x4,isValidCode:dd}});var md=T((j_,gd)=>{gd.exports=vd;var xd=128,m4=127,w4=~m4,_4=Math.pow(2,31);function vd(t,e,r){e=e||[],r=r||0;for(var i=r;t>=_4;)e[r++]=t&255|xd,t/=128;for(;t&w4;)e[r++]=t&255|xd,t>>>=7;return e[r]=t|0,vd.bytes=r-i+1,e}});var Ed=T((W_,wd)=>{wd.exports=O0;var E4=128,_d=127;function O0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a)throw O0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&_d)<<i:(s&_d)*Math.pow(2,i),i+=7}while(s>=E4);return O0.bytes=n-e,r}});var Id=T((Y_,Sd)=>{var S4=Math.pow(2,7),I4=Math.pow(2,14),A4=Math.pow(2,21),k4=Math.pow(2,28),C4=Math.pow(2,35),B4=Math.pow(2,42),T4=Math.pow(2,49),R4=Math.pow(2,56),M4=Math.pow(2,63);Sd.exports=function(t){return t<S4?1:t<I4?2:t<A4?3:t<k4?4:t<C4?5:t<B4?6:t<T4?7:t<R4?8:t<M4?9:10}});var N0=T((J_,Ad)=>{Ad.exports={encode:md(),decode:Ed(),encodingLength:Id()}});var L0=T(($_,kd)=>{"use strict";var Cd=N0(),P4=Jt(),D4=$t();kd.exports={numberToUint8Array:O4,uint8ArrayToNumber:Bd,varintUint8ArrayEncode:N4,varintEncode:L4};function Bd(t){return parseInt(P4(t,"base16"),16)}function O4(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),D4(e,"base16")}function N4(t){return Uint8Array.from(Cd.encode(Bd(t)))}function L4(t){return Uint8Array.from(Cd.encode(t))}});var Rd=T((Z_,Td)=>{"use strict";var q4=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Td.exports={baseTable:q4}});var Pd=T((X_,Md)=>{"use strict";var{baseTable:q0}=Rd(),F4=L0().varintEncode,F0={},K0={},ya={};for(let t in q0){let e=t,r=q0[e];F0[e]=F4(r);let i=e.toUpperCase().replace(/-/g,"_");K0[i]=r,ya[r]||(ya[r]=e)}Object.freeze(F0);Object.freeze(K0);Object.freeze(ya);var K4=Object.freeze(q0);Md.exports={nameToVarint:F0,constantToCode:K0,nameToCode:K4,codeToName:ya}});var zd=T((Q_,Dd)=>{"use strict";var ga=N0(),U4=Cr(),Od=L0(),{nameToVarint:va,constantToCode:G4,nameToCode:Nd,codeToName:U0}=Pd();function z4(t,e){let r;if(t instanceof Uint8Array)r=Od.varintUint8ArrayEncode(t);else if(va[t])r=va[t];else throw new Error("multicodec not recognized");return U4([r,e],r.length+e.length)}function V4(t){return ga.decode(t),t.slice(ga.decode.bytes)}function Ld(t){let e=ga.decode(t),r=U0[e];if(r===void 0)throw new Error(`Code "${e}" not found`);return r}function qd(t){return U0[t]}function Fd(t){let e=Nd[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function Kd(t){return ga.decode(t)}function Ud(t){let e=va[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function Gd(t){return Od.varintEncode(t)}function H4(t){return Ld(t)}function j4(t){return qd(t)}function W4(t){return Fd(t)}function Y4(t){return Kd(t)}function J4(t){return Ud(t)}function $4(t){return Array.from(Gd(t))}Dd.exports={addPrefix:z4,rmPrefix:V4,getNameFromData:Ld,getNameFromCode:qd,getCodeFromName:Fd,getCodeFromData:Kd,getVarintFromName:Ud,getVarintFromCode:Gd,getCodec:H4,getName:j4,getNumber:W4,getCode:Y4,getCodeVarint:J4,getVarint:$4,...G4,nameToVarint:va,nameToCode:Nd,codeToName:U0}});var Hd=T((eE,Vd)=>{"use strict";var Z4=Wi(),X4={checkCIDComponents:function(t){if(t==null)return"null values are not valid CIDs";if(!(t.version===0||t.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof t.codec!="string")return"codec must be string";if(t.version===0){if(t.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(t.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(t.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{Z4.validate(t.multihash)}catch(e){let r=e.message;return r||(r="Multihash validation failed"),r}}};Vd.exports=X4});var wi=T((tE,jd)=>{"use strict";function Q4(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}jd.exports=Q4});var $d=T((rE,Wd)=>{"use strict";var xa=Wi(),G0=ji(),Yi=zd(),e6=Hd(),Yd=Cr(),t6=Jt(),r6=wi(),ma=Yi.nameToCode,i6=Object.keys(ma).reduce((t,e)=>(t[ma[e]]=e,t),{}),Jd=Symbol.for("@ipld/js-cid/CID"),lr=class{constructor(e,r,i,n){if(this.version,this.codec,this.multihash,Object.defineProperty(this,Jd,{value:!0}),lr.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=G0.isEncoded(e);if(s){let a=G0.decode(e);this.version=parseInt(a[0].toString(),16),this.codec=Yi.getCodec(a.slice(1)),this.multihash=Yi.rmPrefix(a.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=xa.fromB58String(e),this.multibaseName="base58btc";lr.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let a=e;this.version=s,this.codec=Yi.getCodec(a.slice(1)),this.multihash=Yi.rmPrefix(a.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";lr.validateCID(this);return}this.version=e,typeof r=="number"&&(r=i6[r]),this.codec=r,this.multihash=i,this.multibaseName=n||(e===0?"base58btc":"base32"),lr.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let r=Yi.getCodeVarint(this.codec);e=Yd([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=Yi.getCodeVarint(this.codec),r=xa.prefix(this.multihash);return Yd([[this.version],e,r],1+e.byteLength+r.byteLength)}get code(){return ma[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:r}=xa.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new lr(0,this.codec,this.multihash)}toV1(){return new lr(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let r;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=xa.toB58String(this.multihash)}else if(this.version===1)r=t6(G0.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&r6(this.multihash,e.multihash)}static validateCID(e){let r=e6.checkCIDComponents(e);if(r)throw new Error(r)}static isCID(e){return e instanceof lr||Boolean(e&&e[Jd])}};lr.codecs=ma;Wd.exports=lr});var _a=T((iE,Zd)=>{"use strict";var Ji=En(),wa=Ji.Reader,Xd=Ji.Writer,Dt=Ji.util,tr=Ji.roots["libp2p-crypto-keys"]||(Ji.roots["libp2p-crypto-keys"]={});tr.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();tr.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Dt.newBuffer([]),t.encode=function(r,i){return i||(i=Xd.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof wa||(r=wa.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new tr.PublicKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Dt.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Dt.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof tr.PublicKey)return r;var i=new tr.PublicKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Dt.base64.decode(r.Data,i.Data=Dt.newBuffer(Dt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Dt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?tr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Dt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ji.util.toJSONOptions)},t}();tr.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Dt.newBuffer([]),t.encode=function(r,i){return i||(i=Xd.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof wa||(r=wa.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new tr.PrivateKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Dt.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Dt.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof tr.PrivateKey)return r;var i=new tr.PrivateKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Dt.base64.decode(r.Data,i.Data=Dt.newBuffer(Dt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Dt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?tr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Dt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ji.util.toJSONOptions)},t}();Zd.exports=tr});var me=T((nE,Qd)=>{Qd.exports={options:{usePureJavaScript:!1}}});var rp=T((sE,ep)=>{var z0={};ep.exports=z0;var tp={};z0.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(t instanceof Uint8Array))i=n6(t,e);else{var n=0,s=e.length,a=e.charAt(0),o=[0];for(n=0;n<t.length;++n){for(var u=0,c=t[n];u<o.length;++u)c+=o[u]<<8,o[u]=c%s,c=c/s|0;for(;c>0;)o.push(c%s),c=c/s|0}for(n=0;t[n]===0&&n<t.length-1;++n)i+=a;for(n=o.length-1;n>=0;--n)i+=e[o[n]]}if(r){var f=new RegExp(".{1,"+r+"}","g");i=i.match(f).join(`\r
`)}return i};z0.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=tp[e];if(!r){r=tp[e]=[];for(var i=0;i<e.length;++i)r[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");for(var n=e.length,s=e.charAt(0),a=[0],i=0;i<t.length;i++){var o=r[t.charCodeAt(i)];if(o===void 0)return;for(var u=0,c=o;u<a.length;++u)c+=a[u]*n,a[u]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var f=0;t[f]===s&&f<t.length-1;++f)a.push(0);return typeof Buffer!="undefined"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function n6(t,e){var r=0,i=e.length,n=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var a=0,o=t.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%i,o=o/i|0;for(;o>0;)s.push(o%i),o=o/i|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=n;for(r=s.length-1;r>=0;--r)u+=e[s[r]];return u}});var Fe=T((aE,ip)=>{var np=me(),sp=rp(),B=ip.exports=np.util=np.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){B.nextTick=process.nextTick,typeof setImmediate=="function"?B.setImmediate=setImmediate:B.setImmediate=B.nextTick;return}if(typeof setImmediate=="function"){B.setImmediate=function(){return setImmediate.apply(void 0,arguments)},B.nextTick=function(o){return setImmediate(o)};return}if(B.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(f){f()})}};var a=o,t="forge.setImmediate",e=[];B.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(c){c()})}).observe(n,{attributes:!0});var s=B.setImmediate;B.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),s(u)):(e.push(u),e.length===1&&n.setAttribute("a",i=!i))}}B.nextTick=B.setImmediate})();B.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;B.globalScope=function(){return B.isNodejs?globalThis:typeof self=="undefined"?window:self}();B.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};B.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};B.isArrayBufferView=function(t){return t&&B.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function gs(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}B.ByteBuffer=V0;function V0(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(B.isArrayBuffer(t)||B.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof V0||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}B.ByteStringBuffer=V0;var s6=4096;B.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>s6&&(this.data.substr(0,1),this._constructedStringLength=0)};B.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};B.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};B.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};B.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};B.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};B.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(B.encodeUtf8(t))};B.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};B.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};B.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};B.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};B.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};B.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};B.ByteStringBuffer.prototype.putInt=function(t,e){gs(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};B.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};B.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};B.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};B.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};B.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};B.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};B.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};B.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};B.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};B.ByteStringBuffer.prototype.getInt=function(t){gs(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};B.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};B.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};B.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};B.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};B.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};B.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};B.ByteStringBuffer.prototype.copy=function(){var t=B.createBuffer(this.data);return t.read=this.read,t};B.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};B.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};B.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};B.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};B.ByteStringBuffer.prototype.toString=function(){return B.decodeUtf8(this.bytes())};function a6(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=B.isArrayBuffer(t),i=B.isArrayBufferView(t);if(r||i){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}B.DataBuffer=a6;B.DataBuffer.prototype.length=function(){return this.write-this.read};B.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};B.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(r),this.data=new DataView(i.buffer),this};B.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};B.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};B.DataBuffer.prototype.putBytes=function(t,e){if(B.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=r.byteLength-r.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(r),this.write+=i,this}if(B.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof B.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&B.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var n=new Uint8Array(t.data.byteLength,this.write);return n.set(r),this.write+=r.byteLength,this}if(t instanceof B.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=B.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=B.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=B.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=B.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=B.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};B.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};B.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};B.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};B.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};B.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};B.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};B.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};B.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};B.DataBuffer.prototype.putInt=function(t,e){gs(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};B.DataBuffer.prototype.putSignedInt=function(t,e){return gs(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};B.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};B.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};B.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};B.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};B.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};B.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};B.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};B.DataBuffer.prototype.getInt=function(t){gs(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};B.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};B.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};B.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};B.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};B.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};B.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};B.DataBuffer.prototype.copy=function(){return new B.DataBuffer(this)};B.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};B.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};B.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};B.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};B.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return B.binary.raw.encode(e);if(t==="hex")return B.binary.hex.encode(e);if(t==="base64")return B.binary.base64.encode(e);if(t==="utf8")return B.text.utf8.decode(e);if(t==="utf16")return B.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};B.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=B.encodeUtf8(t)),new B.ByteBuffer(t)};B.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};B.xorBytes=function(t,e,r){for(var i="",n="",s="",a=0,o=0;r>0;--r,++a)n=t.charCodeAt(a)^e.charCodeAt(a),o>=10&&(i+=s,s="",o=0),s+=String.fromCharCode(n),++o;return i+=s,i};B.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};B.bytesToHex=function(t){return B.createBuffer(t).toHex()};B.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ei=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],ap="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";B.encode64=function(t,e){for(var r="",i="",n,s,a,o=0;o<t.length;)n=t.charCodeAt(o++),s=t.charCodeAt(o++),a=t.charCodeAt(o++),r+=_i.charAt(n>>2),r+=_i.charAt((n&3)<<4|s>>4),isNaN(s)?r+="==":(r+=_i.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":_i.charAt(a&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};B.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,i,n,s,a=0;a<t.length;)r=Ei[t.charCodeAt(a++)-43],i=Ei[t.charCodeAt(a++)-43],n=Ei[t.charCodeAt(a++)-43],s=Ei[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),s!==64&&(e+=String.fromCharCode((n&3)<<6|s)));return e};B.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};B.decodeUtf8=function(t){return decodeURIComponent(escape(t))};B.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:sp.encode,decode:sp.decode}};B.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};B.binary.raw.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,s=0;s<t.length;++s)i[n++]=t.charCodeAt(s);return e?n-r:i};B.binary.hex.encode=B.bytesToHex;B.binary.hex.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var n=0,s=r;for(t.length&1&&(n=1,i[s++]=parseInt(t[0],16));n<t.length;n+=2)i[s++]=parseInt(t.substr(n,2),16);return e?s-r:i};B.binary.base64.encode=function(t,e){for(var r="",i="",n,s,a,o=0;o<t.byteLength;)n=t[o++],s=t[o++],a=t[o++],r+=_i.charAt(n>>2),r+=_i.charAt((n&3)<<4|s>>4),isNaN(s)?r+="==":(r+=_i.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":_i.charAt(a&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};B.binary.base64.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var n,s,a,o,u=0,c=r;u<t.length;)n=Ei[t.charCodeAt(u++)-43],s=Ei[t.charCodeAt(u++)-43],a=Ei[t.charCodeAt(u++)-43],o=Ei[t.charCodeAt(u++)-43],i[c++]=n<<2|s>>4,a!==64&&(i[c++]=(s&15)<<4|a>>2,o!==64&&(i[c++]=(a&3)<<6|o));return e?c-r:i.subarray(0,c)};B.binary.base58.encode=function(t,e){return B.binary.baseN.encode(t,ap,e)};B.binary.base58.decode=function(t,e){return B.binary.baseN.decode(t,ap,e)};B.text={utf8:{},utf16:{}};B.text.utf8.encode=function(t,e,r){t=B.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,s=0;s<t.length;++s)i[n++]=t.charCodeAt(s);return e?n-r:i};B.text.utf8.decode=function(t){return B.decodeUtf8(String.fromCharCode.apply(null,t))};B.text.utf16.encode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length*2));var n=new Uint16Array(i.buffer);r=r||0;for(var s=r,a=r,o=0;o<t.length;++o)n[a++]=t.charCodeAt(o),s+=2;return e?s-r:i};B.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};B.deflate=function(t,e,r){if(e=B.decode64(t.deflate(B.encode64(e)).rval),r){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};B.inflate=function(t,e,r){var i=t.inflate(B.encode64(e)).rval;return i===null?null:B.decode64(i)};var H0=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var i;if(r===null?i=t.removeItem(e):(r=B.encode64(JSON.stringify(r)),i=t.setItem(e,r)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},j0=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(B.decode64(r))),r},o6=function(t,e,r,i){var n=j0(t,e);n===null&&(n={}),n[r]=i,H0(t,e,n)},f6=function(t,e,r){var i=j0(t,e);return i!==null&&(i=r in i?i[r]:null),i},c6=function(t,e,r){var i=j0(t,e);if(i!==null&&r in i){delete i[r];var n=!0;for(var s in i){n=!1;break}n&&(i=null),H0(t,e,i)}},u6=function(t,e){H0(t,e,null)},Ea=function(t,e,r){var i=null;typeof r=="undefined"&&(r=["web","flash"]);var n,s=!1,a=null;for(var o in r){n=r[o];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=t.apply(this,e),s=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=t.apply(this,e),s=!0)}catch(u){a=u}if(s)break}if(!s)throw a;return i};B.setItem=function(t,e,r,i,n){Ea(o6,arguments,n)};B.getItem=function(t,e,r,i){return Ea(f6,arguments,i)};B.removeItem=function(t,e,r,i){Ea(c6,arguments,i)};B.clearItems=function(t,e,r){Ea(u6,arguments,r)};B.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),i=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var Sa=null;B.getQueryVariables=function(t){var e=function(i){for(var n={},s=i.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("="),u,c;o>0?(u=s[a].substring(0,o),c=s[a].substring(o+1)):(u=s[a],c=null),u in n||(n[u]=[]),!(u in Object.prototype)&&c!==null&&n[u].push(unescape(c))}return n},r;return typeof t=="undefined"?(Sa===null&&(typeof window!="undefined"&&window.location&&window.location.search?Sa=e(window.location.search.substring(1)):Sa={}),r=Sa):r=e(t),r};B.parseFragment=function(t){var e=t,r="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),r=t.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var s=r===""?{}:B.getQueryVariables(r);return{pathString:e,queryString:r,path:n,query:s}};B.makeRequest=function(t){var e=B.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var s;return typeof i=="undefined"?s=e.query:(s=e.query[i],s&&typeof n!="undefined"&&(s=s[n])),s},getQueryLast:function(i,n){var s,a=r.getQuery(i);return a?s=a[a.length-1]:s=n,s}};return r};B.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var i=jQuery.param(e||{});return r=r||"",t+(i.length>0?"?"+i:"")+(r.length>0?"#"+r:"")};B.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};B.format=function(t){for(var e=/%./g,r,i,n=0,s=[],a=0;r=e.exec(t);){i=t.substring(a,e.lastIndex-2),i.length>0&&s.push(i),a=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":n<arguments.length?s.push(arguments[n+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(t.substring(a)),s.join("")};B.formatNumber=function(t,e,r,i){var n=t,s=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,o=i===void 0?".":i,u=n<0?"-":"",c=parseInt(n=Math.abs(+n||0).toFixed(s),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+o:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(n-c).toFixed(s).slice(2):"")};B.formatSize=function(t){return t>=1073741824?t=B.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=B.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=B.formatNumber(t/1024,0)+" KiB":t=B.formatNumber(t,0)+" bytes",t};B.bytesFromIP=function(t){return t.indexOf(".")!==-1?B.bytesFromIPv4(t):t.indexOf(":")!==-1?B.bytesFromIPv6(t):null};B.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=B.createBuffer(),r=0;r<t.length;++r){var i=parseInt(t[r],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};B.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,i=B.createBuffer(),n=0;n<8;++n){if(!t[n]||t[n].length===0){i.fillWithByte(0,r),r=0;continue}var s=B.hexToBytes(t[n]);s.length<2&&i.putByte(0),i.putBytes(s)}return i.getBytes()};B.bytesToIP=function(t){return t.length===4?B.bytesToIPv4(t):t.length===16?B.bytesToIPv6(t):null};B.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};B.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],i=0,n=0;n<t.length;n+=2){for(var s=B.bytesToHex(t[n]+t[n+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],o=e.length;!a||o!==a.end+1?r.push({start:o,end:o}):(a.end=o,a.end-a.start>r[i].end-r[i].start&&(i=r.length-1))}e.push(s)}if(r.length>0){var u=r[i];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};B.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in B&&!t.update)return e(null,B.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return B.cores=navigator.hardwareConcurrency,e(null,B.cores);if(typeof Worker=="undefined")return B.cores=1,e(null,B.cores);if(typeof Blob=="undefined")return B.cores=2,e(null,B.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var o=Date.now(),u=o+4;Date.now()<u;);self.postMessage({st:o,et:u})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(a,o,u){if(o===0){var c=Math.floor(a.reduce(function(f,h){return f+h},0)/a.length);return B.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,B.cores)}n(u,function(f,h){a.push(s(u,h)),i(a,o-1,u)})}function n(a,o){for(var u=[],c=[],f=0;f<a;++f){var h=new Worker(r);h.addEventListener("message",function(d){if(c.push(d.data),c.length===a){for(var y=0;y<a;++y)u[y].terminate();o(null,c)}}),u.push(h)}for(var f=0;f<a;++f)u[f].postMessage(f)}function s(a,o){for(var u=[],c=0;c<a;++c)for(var f=o[c],h=u[c]=[],d=0;d<a;++d)if(c!==d){var y=o[d];(f.st>y.st&&f.st<y.et||y.st>f.st&&y.st<f.et)&&h.push(d)}return u.reduce(function(g,S){return Math.max(g,S.length)},0)}}});var Ia=T((oE,op)=>{var vs=me();vs.pki=vs.pki||{};var W0=op.exports=vs.pki.oids=vs.oids=vs.oids||{};function K(t,e){W0[t]=e,W0[e]=t}function we(t,e){W0[t]=e}K("1.2.840.113549.1.1.1","rsaEncryption");K("1.2.840.113549.1.1.4","md5WithRSAEncryption");K("1.2.840.113549.1.1.5","sha1WithRSAEncryption");K("1.2.840.113549.1.1.7","RSAES-OAEP");K("1.2.840.113549.1.1.8","mgf1");K("1.2.840.113549.1.1.9","pSpecified");K("1.2.840.113549.1.1.10","RSASSA-PSS");K("1.2.840.113549.1.1.11","sha256WithRSAEncryption");K("1.2.840.113549.1.1.12","sha384WithRSAEncryption");K("1.2.840.113549.1.1.13","sha512WithRSAEncryption");K("1.3.101.112","EdDSA25519");K("1.2.840.10040.4.3","dsa-with-sha1");K("1.3.14.3.2.7","desCBC");K("1.3.14.3.2.26","sha1");K("2.16.840.1.101.3.4.2.1","sha256");K("2.16.840.1.101.3.4.2.2","sha384");K("2.16.840.1.101.3.4.2.3","sha512");K("1.2.840.113549.2.5","md5");K("1.2.840.113549.1.7.1","data");K("1.2.840.113549.1.7.2","signedData");K("1.2.840.113549.1.7.3","envelopedData");K("1.2.840.113549.1.7.4","signedAndEnvelopedData");K("1.2.840.113549.1.7.5","digestedData");K("1.2.840.113549.1.7.6","encryptedData");K("1.2.840.113549.1.9.1","emailAddress");K("1.2.840.113549.1.9.2","unstructuredName");K("1.2.840.113549.1.9.3","contentType");K("1.2.840.113549.1.9.4","messageDigest");K("1.2.840.113549.1.9.5","signingTime");K("1.2.840.113549.1.9.6","counterSignature");K("1.2.840.113549.1.9.7","challengePassword");K("1.2.840.113549.1.9.8","unstructuredAddress");K("1.2.840.113549.1.9.14","extensionRequest");K("1.2.840.113549.1.9.20","friendlyName");K("1.2.840.113549.1.9.21","localKeyId");K("1.2.840.113549.1.9.22.1","x509Certificate");K("1.2.840.113549.1.12.10.1.1","keyBag");K("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");K("1.2.840.113549.1.12.10.1.3","certBag");K("1.2.840.113549.1.12.10.1.4","crlBag");K("1.2.840.113549.1.12.10.1.5","secretBag");K("1.2.840.113549.1.12.10.1.6","safeContentsBag");K("1.2.840.113549.1.5.13","pkcs5PBES2");K("1.2.840.113549.1.5.12","pkcs5PBKDF2");K("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");K("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");K("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");K("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");K("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");K("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");K("1.2.840.113549.2.7","hmacWithSHA1");K("1.2.840.113549.2.8","hmacWithSHA224");K("1.2.840.113549.2.9","hmacWithSHA256");K("1.2.840.113549.2.10","hmacWithSHA384");K("1.2.840.113549.2.11","hmacWithSHA512");K("1.2.840.113549.3.7","des-EDE3-CBC");K("2.16.840.1.101.3.4.1.2","aes128-CBC");K("2.16.840.1.101.3.4.1.22","aes192-CBC");K("2.16.840.1.101.3.4.1.42","aes256-CBC");K("2.5.4.3","commonName");K("2.5.4.5","serialName");K("2.5.4.6","countryName");K("2.5.4.7","localityName");K("2.5.4.8","stateOrProvinceName");K("2.5.4.9","streetAddress");K("2.5.4.10","organizationName");K("2.5.4.11","organizationalUnitName");K("2.5.4.13","description");K("2.5.4.15","businessCategory");K("2.5.4.17","postalCode");K("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");K("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");K("2.16.840.1.113730.1.1","nsCertType");K("2.16.840.1.113730.1.13","nsComment");we("2.5.29.1","authorityKeyIdentifier");we("2.5.29.2","keyAttributes");we("2.5.29.3","certificatePolicies");we("2.5.29.4","keyUsageRestriction");we("2.5.29.5","policyMapping");we("2.5.29.6","subtreesConstraint");we("2.5.29.7","subjectAltName");we("2.5.29.8","issuerAltName");we("2.5.29.9","subjectDirectoryAttributes");we("2.5.29.10","basicConstraints");we("2.5.29.11","nameConstraints");we("2.5.29.12","policyConstraints");we("2.5.29.13","basicConstraints");K("2.5.29.14","subjectKeyIdentifier");K("2.5.29.15","keyUsage");we("2.5.29.16","privateKeyUsagePeriod");K("2.5.29.17","subjectAltName");K("2.5.29.18","issuerAltName");K("2.5.29.19","basicConstraints");we("2.5.29.20","cRLNumber");we("2.5.29.21","cRLReason");we("2.5.29.22","expirationDate");we("2.5.29.23","instructionCode");we("2.5.29.24","invalidityDate");we("2.5.29.25","cRLDistributionPoints");we("2.5.29.26","issuingDistributionPoint");we("2.5.29.27","deltaCRLIndicator");we("2.5.29.28","issuingDistributionPoint");we("2.5.29.29","certificateIssuer");we("2.5.29.30","nameConstraints");K("2.5.29.31","cRLDistributionPoints");K("2.5.29.32","certificatePolicies");we("2.5.29.33","policyMappings");we("2.5.29.34","policyConstraints");K("2.5.29.35","authorityKeyIdentifier");we("2.5.29.36","policyConstraints");K("2.5.29.37","extKeyUsage");we("2.5.29.46","freshestCRL");we("2.5.29.54","inhibitAnyPolicy");K("1.3.6.1.4.1.11129.2.4.2","timestampList");K("1.3.6.1.5.5.7.1.1","authorityInfoAccess");K("1.3.6.1.5.5.7.3.1","serverAuth");K("1.3.6.1.5.5.7.3.2","clientAuth");K("1.3.6.1.5.5.7.3.3","codeSigning");K("1.3.6.1.5.5.7.3.4","emailProtection");K("1.3.6.1.5.5.7.3.8","timeStamping")});var Pn=T((fE,fp)=>{var Pe=me();Fe();Ia();var H=fp.exports=Pe.asn1=Pe.asn1||{};H.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};H.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};H.create=function(t,e,r,i,n){if(Pe.util.isArray(i)){for(var s=[],a=0;a<i.length;++a)i[a]!==void 0&&s.push(i[a]);i=s}var o={tagClass:t,type:e,constructed:r,composed:r||Pe.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(o.bitStringContents=n.bitStringContents,o.original=H.copy(o)),o};H.copy=function(t,e){var r;if(Pe.util.isArray(t)){r=[];for(var i=0;i<t.length;++i)r.push(H.copy(t[i],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:H.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};H.equals=function(t,e,r){if(Pe.util.isArray(t)){if(!Pe.util.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!H.equals(t[i],e[i]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var n=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&H.equals(t.value,e.value);return r&&r.includeBitStringContents&&(n=n&&t.bitStringContents===e.bitStringContents),n};H.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,i=e&128;return i?r=t.getInt((e&127)<<3):r=e,r}};function xs(t,e,r){if(r>e){var i=new Error("Too few bytes to parse DER.");throw i.available=t.length(),i.remaining=e,i.requested=r,i}}var h6=function(t,e){var r=t.getByte();if(e--,r!==128){var i,n=r&128;if(!n)i=r;else{var s=r&127;xs(t,e,s),i=t.getInt(s<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};H.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Pe.util.createBuffer(t)),Aa(t,t.length(),0,e)};function Aa(t,e,r,i){var n;xs(t,e,2);var s=t.getByte();e--;var a=s&192,o=s&31;n=t.length();var u=h6(t,e);if(e-=n-t.length(),u!==void 0&&u>e){if(i.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=u,c}u=e}var f,h,d=(s&32)==32;if(d)if(f=[],u===void 0)for(;;){if(xs(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}n=t.length(),f.push(Aa(t,e,r+1,i)),e-=n-t.length()}else for(;u>0;)n=t.length(),f.push(Aa(t,u,r+1,i)),e-=n-t.length(),u-=n-t.length();if(f===void 0&&a===H.Class.UNIVERSAL&&o===H.Type.BITSTRING&&(h=t.bytes(u)),f===void 0&&i.decodeBitStrings&&a===H.Class.UNIVERSAL&&o===H.Type.BITSTRING&&u>1){var y=t.read,g=e,S=0;if(o===H.Type.BITSTRING&&(xs(t,e,1),S=t.getByte(),e--),S===0)try{n=t.length();var I={verbose:i.verbose,strict:!0,decodeBitStrings:!0},k=Aa(t,e,r+1,I),R=n-t.length();e-=R,o==H.Type.BITSTRING&&R++;var M=k.tagClass;R===u&&(M===H.Class.UNIVERSAL||M===H.Class.CONTEXT_SPECIFIC)&&(f=[k])}catch(L){}f===void 0&&(t.read=y,e=g)}if(f===void 0){if(u===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(o===H.Type.BMPSTRING)for(f="";u>0;u-=2)xs(t,e,2),f+=String.fromCharCode(t.getInt16()),e-=2;else f=t.getBytes(u)}var F=h===void 0?null:{bitStringContents:h};return H.create(a,o,d,f,F)}H.toDer=function(t){var e=Pe.util.createBuffer(),r=t.tagClass|t.type,i=Pe.util.createBuffer(),n=!1;if("bitStringContents"in t&&(n=!0,t.original&&(n=H.equals(t,t.original))),n)i.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:i.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&i.putBuffer(H.toDer(t.value[s]))}else if(t.type===H.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)i.putInt16(t.value.charCodeAt(s));else t.type===H.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?i.putBytes(t.value.substr(1)):i.putBytes(t.value);if(e.putByte(r),i.length()<=127)e.putByte(i.length()&127);else{var a=i.length(),o="";do o+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(o.length|128);for(var s=o.length-1;s>=0;--s)e.putByte(o.charCodeAt(s))}return e.putBuffer(i),e};H.oidToDer=function(t){var e=t.split("."),r=Pe.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,s,a,o=2;o<e.length;++o){i=!0,n=[],s=parseInt(e[o],10);do a=s&127,s=s>>>7,i||(a|=128),n.push(a),i=!1;while(s>0);for(var u=n.length-1;u>=0;--u)r.putByte(n[u])}return r};H.derToOid=function(t){var e;typeof t=="string"&&(t=Pe.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)r=t.getByte(),i=i<<7,r&128?i+=r&127:(e+="."+(i+r),i=0);return e};H.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(t.substr(2,2),10)-1,n=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var u=t.charAt(10),c=10;u!=="+"&&u!=="-"&&(o=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,i,n),e.setUTCHours(s,a,o,0),c&&(u=t.charAt(c),u==="+"||u==="-")){var f=parseInt(t.substr(c+1,2),10),h=parseInt(t.substr(c+4,2),10),d=f*60+h;d*=6e4,u==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};H.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),i=parseInt(t.substr(4,2),10)-1,n=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;t.charAt(t.length-1)==="Z"&&(f=!0);var h=t.length-5,d=t.charAt(h);if(d==="+"||d==="-"){var y=parseInt(t.substr(h+1,2),10),g=parseInt(t.substr(h+4,2),10);c=y*60+g,c*=6e4,d==="+"&&(c*=-1),f=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),f?(e.setUTCFullYear(r,i,n),e.setUTCHours(s,a,o,u),e.setTime(+e+c)):(e.setFullYear(r,i,n),e.setHours(s,a,o,u)),e};H.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};H.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};H.integerToDer=function(t){var e=Pe.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};H.derToInteger=function(t){typeof t=="string"&&(t=Pe.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};H.validate=function(t,e,r,i){var n=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&Pe.util.isArray(e.value))for(var s=0,a=0;n&&a<e.value.length;++a)n=e.value[a].optional||!1,t.value[s]&&(n=H.validate(t.value[s],e.value[a],r,i),n?++s:e.value[a].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(n&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else i&&(t.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return n};var cp=/[^\\u0000-\\u00ff]/;H.prettyPrint=function(t,e,r){var i="";e=e||0,r=r||2,e>0&&(i+=`
`);for(var n="",s=0;s<e*r;++s)n+=" ";switch(i+=n+"Tag: ",t.tagClass){case H.Class.UNIVERSAL:i+="Universal:";break;case H.Class.APPLICATION:i+="Application:";break;case H.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case H.Class.PRIVATE:i+="Private:";break}if(t.tagClass===H.Class.UNIVERSAL)switch(i+=t.type,t.type){case H.Type.NONE:i+=" (None)";break;case H.Type.BOOLEAN:i+=" (Boolean)";break;case H.Type.INTEGER:i+=" (Integer)";break;case H.Type.BITSTRING:i+=" (Bit string)";break;case H.Type.OCTETSTRING:i+=" (Octet string)";break;case H.Type.NULL:i+=" (Null)";break;case H.Type.OID:i+=" (Object Identifier)";break;case H.Type.ODESC:i+=" (Object Descriptor)";break;case H.Type.EXTERNAL:i+=" (External or Instance of)";break;case H.Type.REAL:i+=" (Real)";break;case H.Type.ENUMERATED:i+=" (Enumerated)";break;case H.Type.EMBEDDED:i+=" (Embedded PDV)";break;case H.Type.UTF8:i+=" (UTF8)";break;case H.Type.ROID:i+=" (Relative Object Identifier)";break;case H.Type.SEQUENCE:i+=" (Sequence)";break;case H.Type.SET:i+=" (Set)";break;case H.Type.PRINTABLESTRING:i+=" (Printable String)";break;case H.Type.IA5String:i+=" (IA5String (ASCII))";break;case H.Type.UTCTIME:i+=" (UTC time)";break;case H.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case H.Type.BMPSTRING:i+=" (BMP String)";break}else i+=t.type;if(i+=`
`,i+=n+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,o="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(a+=1,o+=H.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(o+=","));i+=n+"Sub values: "+a+o}else{if(i+=n+"Value: ",t.type===H.Type.OID){var u=H.derToOid(t.value);i+=u,Pe.pki&&Pe.pki.oids&&u in Pe.pki.oids&&(i+=" ("+Pe.pki.oids[u]+") ")}if(t.type===H.Type.INTEGER)try{i+=H.derToInteger(t.value)}catch(f){i+="0x"+Pe.util.bytesToHex(t.value)}else if(t.type===H.Type.BITSTRING){if(t.value.length>1?i+="0x"+Pe.util.bytesToHex(t.value.slice(1)):i+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else t.type===H.Type.OCTETSTRING?(cp.test(t.value)||(i+="("+t.value+") "),i+="0x"+Pe.util.bytesToHex(t.value)):t.type===H.Type.UTF8?i+=Pe.util.decodeUtf8(t.value):t.type===H.Type.PRINTABLESTRING||t.type===H.Type.IA5String?i+=t.value:cp.test(t.value)?i+="0x"+Pe.util.bytesToHex(t.value):t.value.length===0?i+="[null]":i+=t.value}return i}});var J0=T((cE,up)=>{var _t=me();Fe();up.exports=_t.cipher=_t.cipher||{};_t.cipher.algorithms=_t.cipher.algorithms||{};_t.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=_t.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new _t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};_t.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=_t.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new _t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};_t.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),_t.cipher.algorithms[t]=e};_t.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in _t.cipher.algorithms?_t.cipher.algorithms[t]:null};var Y0=_t.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Y0.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=_t.util.createBuffer(),this.output=t.output||_t.util.createBuffer(),this.mode.start(e)};Y0.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Y0.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var Z0=T((uE,hp)=>{var Et=me();Fe();Et.cipher=Et.cipher||{};var ue=hp.exports=Et.cipher.modes=Et.cipher.modes||{};ue.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ue.ecb.prototype.start=function(t){};ue.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ue.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ue.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ue.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ue.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ue.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=ka(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ue.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};ue.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};ue.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ue.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ue.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0};ue.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ka(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.cfb.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.cfb.prototype.decrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0};ue.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ka(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.ofb.prototype.encrypt=function(t,e,r){var i=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.ofb.prototype.decrypt=ue.ofb.prototype.encrypt;ue.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0};ue.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ka(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.ctr.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]);else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}Ca(this._inBlock)};ue.ctr.prototype.decrypt=ue.ctr.prototype.encrypt;ue.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ue.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Et.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Et.util.createBuffer(t.additionalData):r=Et.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Et.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat($0(i*8)))}this._inBlock=this._j0.slice(0),Ca(this._inBlock),this._partialBytes=0,r=Et.util.createBuffer(r),this._aDataLength=$0(r.length()*8);var n=r.length()%this.blockSize;for(n&&r.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ue.gcm.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s<=0||r){if(r){var a=i%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Ca(this._inBlock)};ue.gcm.prototype.decrypt=function(t,e,r){var i=t.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Ca(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};ue.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Et.util.createBuffer();var i=this._aDataLength.concat($0(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^n[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ue.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var s=t[n/32|0]&1<<31-n%32;s&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),this.pow(i,i)}return r};ue.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,i=3;i>0;--i)e[i]=t[i]>>>1|(t[i-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};ue.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var i=r/8|0,n=t[i]>>>(7-r%8)*4&15,s=this._m[r][n];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};ue.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};ue.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,i=4*r,n=16*r,s=new Array(n),a=0;a<n;++a){var o=[0,0,0,0],u=a/i|0,c=(i-1-a%i)*e;o[u]=1<<e-1<<c,s[a]=this.generateSubHashTable(this.multiply(o,t),e)}return s};ue.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,i=r>>>1,n=new Array(r);n[i]=t.slice(0);for(var s=i>>>1;s>0;)this.pow(n[2*s],n[s]=[]),s>>=1;for(s=2;s<i;){for(var a=1;a<s;++a){var o=n[s],u=n[a];n[s+a]=[o[0]^u[0],o[1]^u[1],o[2]^u[2],o[3]^u[3]]}s*=2}for(n[0]=[0,0,0,0],s=i+1;s<r;++s){var c=n[s^i];n[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return n};function ka(t,e){if(typeof t=="string"&&(t=Et.util.createBuffer(t)),Et.util.isArray(t)&&t.length>4){var r=t;t=Et.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Et.util.isArray(t)){for(var n=[],s=e/4,i=0;i<s;++i)n.push(t.getInt32());t=n}return t}function Ca(t){t[t.length-1]=t[t.length-1]+1&4294967295}function $0(t){return[t/4294967296|0,t&4294967295]}});var tf=T((hE,lp)=>{var Be=me();J0();Z0();Fe();lp.exports=Be.aes=Be.aes||{};Be.aes.startEncrypting=function(t,e,r,i){var n=Ba({key:t,output:r,decrypt:!1,mode:i});return n.start(e),n};Be.aes.createEncryptionCipher=function(t,e){return Ba({key:t,output:null,decrypt:!1,mode:e})};Be.aes.startDecrypting=function(t,e,r,i){var n=Ba({key:t,output:r,decrypt:!0,mode:i});return n.start(e),n};Be.aes.createDecryptionCipher=function(t,e){return Ba({key:t,output:null,decrypt:!0,mode:e})};Be.aes.Algorithm=function(t,e){X0||dp();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return Q0(r._w,i,n,!1)},decrypt:function(i,n){return Q0(r._w,i,n,!0)}}}),r._init=!1};Be.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Be.util.createBuffer(e);else if(Be.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Be.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(!Be.util.isArray(e)){r=e,e=[];var n=r.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(r.getInt32())}}if(!Be.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=pp(e,t.decrypt&&!a),this._init=!0}};Be.aes._expandKey=function(t,e){return X0||dp(),pp(t,e)};Be.aes._updateBlock=Q0;Dn("AES-ECB",Be.cipher.modes.ecb);Dn("AES-CBC",Be.cipher.modes.cbc);Dn("AES-CFB",Be.cipher.modes.cfb);Dn("AES-OFB",Be.cipher.modes.ofb);Dn("AES-CTR",Be.cipher.modes.ctr);Dn("AES-GCM",Be.cipher.modes.gcm);function Dn(t,e){var r=function(){return new Be.aes.Algorithm(t,e)};Be.cipher.registerAlgorithm(t,r)}var X0=!1,On=4,qt,ef,bp,$i,dr;function dp(){X0=!0,bp=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;qt=new Array(256),ef=new Array(256),$i=new Array(4),dr=new Array(4);for(var e=0;e<4;++e)$i[e]=new Array(256),dr[e]=new Array(256);for(var r=0,i=0,n,s,a,o,u,c,f,e=0;e<256;++e){o=i^i<<1^i<<2^i<<3^i<<4,o=o>>8^o&255^99,qt[r]=o,ef[o]=r,u=t[o],n=t[r],s=t[n],a=t[s],c=u<<24^o<<16^o<<8^(o^u),f=(n^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^n^a);for(var h=0;h<4;++h)$i[h][r]=c,dr[h][o]=f,c=c<<24|c>>>8,f=f<<24|f>>>8;r===0?r=i=1:(r=n^t[t[t[n^a]]],i^=t[t[i]])}}function pp(t,e){for(var r=t.slice(0),i,n=1,s=r.length,a=s+6+1,o=On*a,u=s;u<o;++u)i=r[u-1],u%s==0?(i=qt[i>>>16&255]<<24^qt[i>>>8&255]<<16^qt[i&255]<<8^qt[i>>>24]^bp[n]<<24,n++):s>6&&u%s==4&&(i=qt[i>>>24]<<24^qt[i>>>16&255]<<16^qt[i>>>8&255]<<8^qt[i&255]),r[u]=r[u-s]^i;if(e){var c,f=dr[0],h=dr[1],d=dr[2],y=dr[3],g=r.slice(0);o=r.length;for(var u=0,S=o-On;u<o;u+=On,S-=On)if(u===0||u===o-On)g[u]=r[S],g[u+1]=r[S+3],g[u+2]=r[S+2],g[u+3]=r[S+1];else for(var I=0;I<On;++I)c=r[S+I],g[u+(3&-I)]=f[qt[c>>>24]]^h[qt[c>>>16&255]]^d[qt[c>>>8&255]]^y[qt[c&255]];r=g}return r}function Q0(t,e,r,i){var n=t.length/4-1,s,a,o,u,c;i?(s=dr[0],a=dr[1],o=dr[2],u=dr[3],c=ef):(s=$i[0],a=$i[1],o=$i[2],u=$i[3],c=qt);var f,h,d,y,g,S,I;f=e[0]^t[0],h=e[i?3:1]^t[1],d=e[2]^t[2],y=e[i?1:3]^t[3];for(var k=3,R=1;R<n;++R)g=s[f>>>24]^a[h>>>16&255]^o[d>>>8&255]^u[y&255]^t[++k],S=s[h>>>24]^a[d>>>16&255]^o[y>>>8&255]^u[f&255]^t[++k],I=s[d>>>24]^a[y>>>16&255]^o[f>>>8&255]^u[h&255]^t[++k],y=s[y>>>24]^a[f>>>16&255]^o[h>>>8&255]^u[d&255]^t[++k],f=g,h=S,d=I;r[0]=c[f>>>24]<<24^c[h>>>16&255]<<16^c[d>>>8&255]<<8^c[y&255]^t[++k],r[i?3:1]=c[h>>>24]<<24^c[d>>>16&255]<<16^c[y>>>8&255]<<8^c[f&255]^t[++k],r[2]=c[d>>>24]<<24^c[y>>>16&255]<<16^c[f>>>8&255]<<8^c[h&255]^t[++k],r[i?1:3]=c[y>>>24]<<24^c[f>>>16&255]<<16^c[h>>>8&255]<<8^c[d&255]^t[++k]}function Ba(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,i;t.decrypt?i=Be.cipher.createDecipher(r,t.key):i=Be.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(s,a){var o=null;a instanceof Be.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,n.call(i,a)},i}});var vp=T((lE,yp)=>{var De=me();J0();Z0();Fe();yp.exports=De.des=De.des||{};De.des.startEncrypting=function(t,e,r,i){var n=Ta({key:t,output:r,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};De.des.createEncryptionCipher=function(t,e){return Ta({key:t,output:null,decrypt:!1,mode:e})};De.des.startDecrypting=function(t,e,r,i){var n=Ta({key:t,output:r,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};De.des.createDecryptionCipher=function(t,e){return Ta({key:t,output:null,decrypt:!0,mode:e})};De.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return gp(r._keys,i,n,!1)},decrypt:function(i,n){return gp(r._keys,i,n,!0)}}}),r._init=!1};De.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=De.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=l6(e),this._init=!0}};Br("DES-ECB",De.cipher.modes.ecb);Br("DES-CBC",De.cipher.modes.cbc);Br("DES-CFB",De.cipher.modes.cfb);Br("DES-OFB",De.cipher.modes.ofb);Br("DES-CTR",De.cipher.modes.ctr);Br("3DES-ECB",De.cipher.modes.ecb);Br("3DES-CBC",De.cipher.modes.cbc);Br("3DES-CFB",De.cipher.modes.cfb);Br("3DES-OFB",De.cipher.modes.ofb);Br("3DES-CTR",De.cipher.modes.ctr);function Br(t,e){var r=function(){return new De.des.Algorithm(t,e)};De.cipher.registerAlgorithm(t,r)}var d6=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],p6=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],b6=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],y6=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],g6=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],v6=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],x6=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],m6=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function l6(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],S=t.length()>8?3:1,I=[],k=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],R=0,M,F=0;F<S;F++){var L=t.getInt32(),D=t.getInt32();M=(L>>>4^D)&252645135,D^=M,L^=M<<4,M=(D>>>-16^L)&65535,L^=M,D^=M<<-16,M=(L>>>2^D)&858993459,D^=M,L^=M<<2,M=(D>>>-16^L)&65535,L^=M,D^=M<<-16,M=(L>>>1^D)&1431655765,D^=M,L^=M<<1,M=(D>>>8^L)&16711935,L^=M,D^=M<<8,M=(L>>>1^D)&1431655765,D^=M,L^=M<<1,M=L<<8|D>>>20&240,L=D<<24|D<<8&16711680|D>>>8&65280|D>>>24&240,D=M;for(var j=0;j<k.length;++j){k[j]?(L=L<<2|L>>>26,D=D<<2|D>>>26):(L=L<<1|L>>>27,D=D<<1|D>>>27),L&=-15,D&=-15;var z=e[L>>>28]|r[L>>>24&15]|i[L>>>20&15]|n[L>>>16&15]|s[L>>>12&15]|a[L>>>8&15]|o[L>>>4&15],Q=u[D>>>28]|c[D>>>24&15]|f[D>>>20&15]|h[D>>>16&15]|d[D>>>12&15]|y[D>>>8&15]|g[D>>>4&15];M=(Q>>>16^z)&65535,I[R++]=z^M,I[R++]=Q^M<<16}}return I}function gp(t,e,r,i){var n=t.length===32?3:9,s;n===3?s=i?[30,-2,-2]:[0,32,2]:s=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,o=e[0],u=e[1];a=(o>>>4^u)&252645135,u^=a,o^=a<<4,a=(o>>>16^u)&65535,u^=a,o^=a<<16,a=(u>>>2^o)&858993459,o^=a,u^=a<<2,a=(u>>>8^o)&16711935,o^=a,u^=a<<8,a=(o>>>1^u)&1431655765,u^=a,o^=a<<1,o=o<<1|o>>>31,u=u<<1|u>>>31;for(var c=0;c<n;c+=3){for(var f=s[c+1],h=s[c+2],d=s[c];d!=f;d+=h){var y=u^t[d],g=(u>>>4|u<<28)^t[d+1];a=o,o=u,u=a^(p6[y>>>24&63]|y6[y>>>16&63]|v6[y>>>8&63]|m6[y&63]|d6[g>>>24&63]|b6[g>>>16&63]|g6[g>>>8&63]|x6[g&63])}a=o,o=u,u=a}o=o>>>1|o<<31,u=u>>>1|u<<31,a=(o>>>1^u)&1431655765,u^=a,o^=a<<1,a=(u>>>8^o)&16711935,o^=a,u^=a<<8,a=(u>>>2^o)&858993459,o^=a,u^=a<<2,a=(o>>>16^u)&65535,u^=a,o^=a<<16,a=(o>>>4^u)&252645135,u^=a,o^=a<<4,r[0]=o,r[1]=u}function Ta(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,i;t.decrypt?i=De.cipher.createDecipher(r,t.key):i=De.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(s,a){var o=null;a instanceof De.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,n.call(i,a)},i}});var Zi=T((dE,xp)=>{var Ra=me();xp.exports=Ra.md=Ra.md||{};Ra.md.algorithms=Ra.md.algorithms||{}});var wp=T((pE,mp)=>{var Qr=me();Zi();Fe();var w6=mp.exports=Qr.hmac=Qr.hmac||{};w6.create=function(){var t=null,e=null,r=null,i=null,n={};return n.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in Qr.md.algorithms)e=Qr.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(a===null)a=t;else{if(typeof a=="string")a=Qr.util.createBuffer(a);else if(Qr.util.isArray(a)){var o=a;a=Qr.util.createBuffer();for(var u=0;u<o.length;++u)a.putByte(o[u])}var c=a.length();c>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=Qr.util.createBuffer(),i=Qr.util.createBuffer(),c=a.length();for(var u=0;u<c;++u){var o=a.at(u);r.putByte(54^o),i.putByte(92^o)}if(c<e.blockLength)for(var o=e.blockLength-c,u=0;u<o;++u)r.putByte(54),i.putByte(92);t=a,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},n.update=function(s){e.update(s)},n.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(i),e.update(s),e.digest()},n.digest=n.getMac,n}});var ms=T(()=>{});var Ep=T((gE,_p)=>{var Ft=me();wp();Zi();Fe();var _6=Ft.pkcs5=Ft.pkcs5||{},ei;Ft.util.isNodejs&&!Ft.options.usePureJavaScript&&(ei=ms());_p.exports=Ft.pbkdf2=_6.pbkdf2=function(t,e,r,i,n,s){if(typeof n=="function"&&(s=n,n=null),Ft.util.isNodejs&&!Ft.options.usePureJavaScript&&ei.pbkdf2&&(n===null||typeof n!="object")&&(ei.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?ei.pbkdf2Sync.length===4?ei.pbkdf2(t,e,r,i,function(M,F){if(M)return s(M);s(null,F.toString("binary"))}):ei.pbkdf2(t,e,r,i,n,function(M,F){if(M)return s(M);s(null,F.toString("binary"))}):ei.pbkdf2Sync.length===4?ei.pbkdf2Sync(t,e,r,i).toString("binary"):ei.pbkdf2Sync(t,e,r,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in Ft.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=Ft.md[n].create()}var a=n.digestLength;if(i>4294967295*a){var o=new Error("Derived key is too long.");if(s)return s(o);throw o}var u=Math.ceil(i/a),c=i-(u-1)*a,f=Ft.hmac.create();f.start(n,t);var h="",d,y,g;if(!s){for(var S=1;S<=u;++S){f.start(null,null),f.update(e),f.update(Ft.util.int32ToBytes(S)),d=g=f.digest().getBytes();for(var I=2;I<=r;++I)f.start(null,null),f.update(g),y=f.digest().getBytes(),d=Ft.util.xorBytes(d,y,a),g=y;h+=S<u?d:d.substr(0,c)}return h}var S=1,I;function k(){if(S>u)return s(null,h);f.start(null,null),f.update(e),f.update(Ft.util.int32ToBytes(S)),d=g=f.digest().getBytes(),I=2,R()}function R(){if(I<=r)return f.start(null,null),f.update(g),y=f.digest().getBytes(),d=Ft.util.xorBytes(d,y,a),g=y,++I,Ft.util.setImmediate(R);h+=S<u?d:d.substr(0,c),++S,k()}k()}});var Ap=T((vE,Sp)=>{var Ma=me();Fe();var Ip=Sp.exports=Ma.pem=Ma.pem||{};Ip.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,i;if(t.procType&&(i={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Pa(i)),t.contentDomain&&(i={name:"Content-Domain",values:[t.contentDomain]},r+=Pa(i)),t.dekInfo&&(i={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&i.values.push(t.dekInfo.parameters),r+=Pa(i)),t.headers)for(var n=0;n<t.headers.length;++n)r+=Pa(t.headers[n]);return t.procType&&(r+=`\r
`),r+=Ma.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Ip.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,s;s=r.exec(t),!!s;){var a={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:Ma.util.decode64(s[3])};if(e.push(a),!!s[2]){for(var o=s[2].split(n),u=0;s&&u<o.length;){for(var c=o[u].replace(/\s+$/,""),f=u+1;f<o.length;++f){var h=o[f];if(!/\s/.test(h[0]))break;c+=h,u=f}if(s=c.match(i),s){for(var d={name:s[1],values:[]},y=s[2].split(","),g=0;g<y.length;++g)d.values.push(E6(y[g]));if(a.procType)if(!a.contentDomain&&d.name==="Content-Domain")a.contentDomain=y[0]||"";else if(!a.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:y[0],parameters:y[1]||null}}else a.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:y[0],type:y[1]}}}++u}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Pa(t){for(var e=t.name+": ",r=[],i=function(u,c){return" "+c},n=0;n<t.values.length;++n)r.push(t.values[n].replace(/^(\S+\r\n)/,i));e+=r.join(",")+`\r
`;for(var s=0,a=-1,n=0;n<e.length;++n,++s)if(s>65&&a!==-1){var o=e[a];o===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+o+e.substr(a+1),s=n-a-1,a=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(a=n);return e}function E6(t){return t.replace(/^\s+/,"")}});var Mp=T((xE,kp)=>{var Tr=me();Zi();Fe();var Cp=kp.exports=Tr.sha256=Tr.sha256||{};Tr.md.sha256=Tr.md.algorithms.sha256=Cp;Cp.create=function(){Bp||S6();var t=null,e=Tr.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=Tr.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=Tr.util.encodeUtf8(n));var a=n.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=a[1],a[1]=a[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(n),Tp(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Tr.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,a=s&i.blockLength-1;n.putBytes(rf.substr(0,i.blockLength-a));for(var o,u,c=i.fullMessageLength[0]*8,f=0;f<i.fullMessageLength.length-1;++f)o=i.fullMessageLength[f+1]*8,u=o/4294967296>>>0,c+=u,n.putInt32(c>>>0),c=o>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Tp(h,r,n);var d=Tr.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d.putInt32(h.h5),d.putInt32(h.h6),d.putInt32(h.h7),d},i};var rf=null,Bp=!1,Rp=null;function S6(){rf=String.fromCharCode(128),rf+=Tr.util.fillString(String.fromCharCode(0),64),Rp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Bp=!0}function Tp(t,e,r){for(var i,n,s,a,o,u,c,f,h,d,y,g,S,I,k,R=r.length();R>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)i=e[c-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[c-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[c]=i+e[c-7]+n+e[c-16]|0;for(f=t.h0,h=t.h1,d=t.h2,y=t.h3,g=t.h4,S=t.h5,I=t.h6,k=t.h7,c=0;c<64;++c)a=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),o=I^g&(S^I),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),u=f&h|d&(f^h),i=k+a+o+Rp[c]+e[c],n=s+u,k=I,I=S,S=g,g=y+i>>>0,y=d,d=h,h=f,f=i+n>>>0;t.h0=t.h0+f|0,t.h1=t.h1+h|0,t.h2=t.h2+d|0,t.h3=t.h3+y|0,t.h4=t.h4+g|0,t.h5=t.h5+S|0,t.h6=t.h6+I|0,t.h7=t.h7+k|0,R-=64}}});var Dp=T((mE,Pp)=>{var Rr=me();Fe();var Da=null;Rr.util.isNodejs&&!Rr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Da=ms());var I6=Pp.exports=Rr.prng=Rr.prng||{};I6.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,i=new Array(32),n=0;n<32;++n)i[n]=r.create();e.pools=i,e.pool=0,e.generate=function(c,f){if(!f)return e.generateSync(c);var h=e.plugin.cipher,d=e.plugin.increment,y=e.plugin.formatKey,g=e.plugin.formatSeed,S=Rr.util.createBuffer();e.key=null,I();function I(k){if(k)return f(k);if(S.length()>=c)return f(null,S.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Rr.util.nextTick(function(){s(I)});var R=h(e.key,e.seed);e.generated+=R.length,S.putBytes(R),e.key=y(h(e.key,d(e.seed))),e.seed=g(h(e.key,e.seed)),Rr.util.setImmediate(I)}},e.generateSync=function(c){var f=e.plugin.cipher,h=e.plugin.increment,d=e.plugin.formatKey,y=e.plugin.formatSeed;e.key=null;for(var g=Rr.util.createBuffer();g.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&a();var S=f(e.key,e.seed);e.generated+=S.length,g.putBytes(S),e.key=d(f(e.key,h(e.seed))),e.seed=y(f(e.key,e.seed))}return g.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return o(),c();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(h,d){if(h)return c(h);e.collect(d),o(),c()})}function a(){if(e.pools[0].messageLength>=32)return o();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var f=1,h=0;h<32;++h)e.reseeds%f==0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),f=f<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var d=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function u(c){var f=null,h=Rr.util.globalScope,d=h.crypto||h.msCrypto;d&&d.getRandomValues&&(f=function(L){return d.getRandomValues(L)});var y=Rr.util.createBuffer();if(f)for(;y.length()<c;){var g=Math.max(1,Math.min(c-y.length(),65536)/4),S=new Uint32Array(Math.floor(g));try{f(S);for(var I=0;I<S.length;++I)y.putInt32(S[I])}catch(L){if(!(typeof QuotaExceededError!="undefined"&&L instanceof QuotaExceededError))throw L}}if(y.length()<c)for(var k,R,M,F=Math.floor(Math.random()*65536);y.length()<c;){R=16807*(F&65535),k=16807*(F>>16),R+=(k&32767)<<16,R+=k>>15,R=(R&2147483647)+(R>>31),F=R&4294967295;for(var I=0;I<3;++I)M=F>>>(I<<3),M^=Math.floor(Math.random()*256),y.putByte(String.fromCharCode(M&255))}return y.getBytes(c)}return Da?(e.seedFile=function(c,f){Da.randomBytes(c,function(h,d){if(h)return f(h);f(null,d.toString())})},e.seedFileSync=function(c){return Da.randomBytes(c).toString()}):(e.seedFile=function(c,f){try{f(null,u(c))}catch(h){f(h)}},e.seedFileSync=u),e.collect=function(c){for(var f=c.length,h=0;h<f;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,f){for(var h="",d=0;d<f;d+=8)h+=String.fromCharCode(c>>d&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,d){function y(g){var S=g.data;S.forge&&S.forge.prng&&(self.removeEventListener("message",y),d(S.forge.prng.err,S.forge.prng.bytes))}self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:h}}})};else{var f=function(h){var d=h.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(y,g){c.postMessage({forge:{prng:{err:y,bytes:g}}})})};c.addEventListener("message",f)}},e}});var Nn=T((wE,nf)=>{var St=me();tf();Mp();Dp();Fe();(function(){if(St.random&&St.random.getBytes){nf.exports=St.random;return}(function(t){var e={},r=new Array(4),i=St.util.createBuffer();e.formatKey=function(h){var d=St.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),St.aes._expandKey(h,!1)},e.formatSeed=function(h){var d=St.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),h},e.cipher=function(h,d){return St.aes._updateBlock(h,d,r,!1),i.putInt32(r[0]),i.putInt32(r[1]),i.putInt32(r[2]),i.putInt32(r[3]),i.getBytes()},e.increment=function(h){return++h[3],h},e.md=St.md.sha256;function n(){var h=St.prng.create(e);return h.getBytes=function(d,y){return h.generate(d,y)},h.getBytesSync=function(d){return h.generate(d)},h}var s=n(),a=null,o=St.util.globalScope,u=o.crypto||o.msCrypto;if(u&&u.getRandomValues&&(a=function(h){return u.getRandomValues(h)}),St.options.usePureJavaScript||!St.util.isNodejs&&!a){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var c="";for(var f in navigator)try{typeof navigator[f]=="string"&&(c+=navigator[f])}catch(h){}s.collect(c),c=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!St.random)St.random=s;else for(var f in s)St.random[f]=s[f];St.random.createInstance=n,nf.exports=St.random})(typeof jQuery!="undefined"?jQuery:null)})()});var qp=T((_E,Op)=>{var Gt=me();Fe();var sf=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Np=[1,2,3,5],A6=function(t,e){return t<<e&65535|(t&65535)>>16-e},k6=function(t,e){return(t&65535)>>e|t<<16-e&65535};Op.exports=Gt.rc2=Gt.rc2||{};Gt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Gt.util.createBuffer(t)),e=e||128;var r=t,i=t.length(),n=e,s=Math.ceil(n/8),a=255>>(n&7),o;for(o=i;o<128;o++)r.putByte(sf[r.at(o-1)+r.at(o-i)&255]);for(r.setAt(128-s,sf[r.at(128-s)&a]),o=127-s;o>=0;o--)r.setAt(o,sf[r.at(o+1)^r.at(o+s)]);return r};var Lp=function(t,e,r){var i=!1,n=null,s=null,a=null,o,u,c,f,h=[];for(t=Gt.rc2.expandKey(t,e),c=0;c<64;c++)h.push(t.getInt16Le());r?(o=function(g){for(c=0;c<4;c++)g[c]+=h[f]+(g[(c+3)%4]&g[(c+2)%4])+(~g[(c+3)%4]&g[(c+1)%4]),g[c]=A6(g[c],Np[c]),f++},u=function(g){for(c=0;c<4;c++)g[c]+=h[g[(c+3)%4]&63]}):(o=function(g){for(c=3;c>=0;c--)g[c]=k6(g[c],Np[c]),g[c]-=h[f]+(g[(c+3)%4]&g[(c+2)%4])+(~g[(c+3)%4]&g[(c+1)%4]),f--},u=function(g){for(c=3;c>=0;c--)g[c]-=h[g[(c+3)%4]&63]});var d=function(g){var S=[];for(c=0;c<4;c++){var I=n.getInt16Le();a!==null&&(r?I^=a.getInt16Le():a.putInt16Le(I)),S.push(I&65535)}f=r?0:63;for(var k=0;k<g.length;k++)for(var R=0;R<g[k][0];R++)g[k][1](S);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(S[c]):S[c]^=a.getInt16Le()),s.putInt16Le(S[c])},y=null;return y={start:function(g,S){g&&typeof g=="string"&&(g=Gt.util.createBuffer(g)),i=!1,n=Gt.util.createBuffer(),s=S||new Gt.util.createBuffer,a=g,y.output=s},update:function(g){for(i||n.putBuffer(g);n.length()>=8;)d([[5,o],[1,u],[6,o],[1,u],[5,o]])},finish:function(g){var S=!0;if(r)if(g)S=g(8,n,!r);else{var I=n.length()===8?8:8-n.length();n.fillWithByte(I,I)}if(S&&(i=!0,y.update()),!r&&(S=n.length()===0,S))if(g)S=g(8,s,!r);else{var k=s.length(),R=s.at(k-1);R>k?S=!1:s.truncate(R)}return S}},y};Gt.rc2.startEncrypting=function(t,e,r){var i=Gt.rc2.createEncryptionCipher(t,128);return i.start(e,r),i};Gt.rc2.createEncryptionCipher=function(t,e){return Lp(t,e,!0)};Gt.rc2.startDecrypting=function(t,e,r){var i=Gt.rc2.createDecryptionCipher(t,128);return i.start(e,r),i};Gt.rc2.createDecryptionCipher=function(t,e){return Lp(t,e,!1)}});var _s=T((EE,Fp)=>{var af=me();Fp.exports=af.jsbn=af.jsbn||{};var ti,C6=244837814094590,Kp=(C6&16777215)==15715070;function q(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}af.jsbn.BigInteger=q;function ge(){return new q(null)}function B6(t,e,r,i,n,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[i]+n;n=Math.floor(a/67108864),r.data[i++]=a&67108863}return n}function T6(t,e,r,i,n,s){for(var a=e&32767,o=e>>15;--s>=0;){var u=this.data[t]&32767,c=this.data[t++]>>15,f=o*u+c*a;u=a*u+((f&32767)<<15)+r.data[i]+(n&1073741823),n=(u>>>30)+(f>>>15)+o*c+(n>>>30),r.data[i++]=u&1073741823}return n}function Up(t,e,r,i,n,s){for(var a=e&16383,o=e>>14;--s>=0;){var u=this.data[t]&16383,c=this.data[t++]>>14,f=o*u+c*a;u=a*u+((f&16383)<<14)+r.data[i]+n,n=(u>>28)+(f>>14)+o*c,r.data[i++]=u&268435455}return n}typeof navigator=="undefined"?(q.prototype.am=Up,ti=28):Kp&&navigator.appName=="Microsoft Internet Explorer"?(q.prototype.am=T6,ti=30):Kp&&navigator.appName!="Netscape"?(q.prototype.am=B6,ti=26):(q.prototype.am=Up,ti=28);q.prototype.DB=ti;q.prototype.DM=(1<<ti)-1;q.prototype.DV=1<<ti;var of=52;q.prototype.FV=Math.pow(2,of);q.prototype.F1=of-ti;q.prototype.F2=2*ti-of;var R6="0123456789abcdefghijklmnopqrstuvwxyz",Oa=new Array,Ln,rr;Ln="0".charCodeAt(0);for(rr=0;rr<=9;++rr)Oa[Ln++]=rr;Ln="a".charCodeAt(0);for(rr=10;rr<36;++rr)Oa[Ln++]=rr;Ln="A".charCodeAt(0);for(rr=10;rr<36;++rr)Oa[Ln++]=rr;function Gp(t){return R6.charAt(t)}function zp(t,e){var r=Oa[t.charCodeAt(e)];return r??-1}function M6(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function P6(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function Si(t){var e=ge();return e.fromInt(t),e}function D6(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var i=t.length,n=!1,s=0;--i>=0;){var a=r==8?t[i]&255:zp(t,i);if(a<0){t.charAt(i)=="-"&&(n=!0);continue}n=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&q.ZERO.subTo(this,this)}function O6(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function N6(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,i,n=!1,s="",a=this.t,o=this.DB-a*this.DB%e;if(a-- >0)for(o<this.DB&&(i=this.data[a]>>o)>0&&(n=!0,s=Gp(i));a>=0;)o<e?(i=(this.data[a]&(1<<o)-1)<<e-o,i|=this.data[--a]>>(o+=this.DB-e)):(i=this.data[a]>>(o-=e)&r,o<=0&&(o+=this.DB,--a)),i>0&&(n=!0),n&&(s+=Gp(i));return n?s:"0"}function L6(){var t=ge();return q.ZERO.subTo(this,t),t}function q6(){return this.s<0?this.negate():this}function F6(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Na(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function K6(){return this.t<=0?0:this.DB*(this.t-1)+Na(this.data[this.t-1]^this.s&this.DM)}function U6(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function G6(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function z6(t,e){var r=t%this.DB,i=this.DB-r,n=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+s+1]=this.data[o]>>i|a,a=(this.data[o]&n)<<r;for(o=s-1;o>=0;--o)e.data[o]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function V6(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var i=t%this.DB,n=this.DB-i,s=(1<<i)-1;e.data[0]=this.data[r]>>i;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<n,e.data[a-r]=this.data[a]>>i;i>0&&(e.data[this.t-r-1]|=(this.s&s)<<n),e.t=this.t-r,e.clamp()}function H6(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]-t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e.data[r++]=this.DV+i:i>0&&(e.data[r++]=i),e.t=r,e.clamp()}function j6(t,e){var r=this.abs(),i=t.abs(),n=r.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+r.t]=r.am(0,i.data[n],e,n,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&q.ZERO.subTo(e,e)}function W6(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Y6(t,e,r){var i=t.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ge());var s=ge(),a=this.s,o=t.s,u=this.DB-Na(i.data[i.t-1]);u>0?(i.lShiftTo(u,s),n.lShiftTo(u,r)):(i.copyTo(s),n.copyTo(r));var c=s.t,f=s.data[c-1];if(f!=0){var h=f*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),d=this.FV/h,y=(1<<this.F1)/h,g=1<<this.F2,S=r.t,I=S-c,k=e??ge();for(s.dlShiftTo(I,k),r.compareTo(k)>=0&&(r.data[r.t++]=1,r.subTo(k,r)),q.ONE.dlShiftTo(c,k),k.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--I>=0;){var R=r.data[--S]==f?this.DM:Math.floor(r.data[S]*d+(r.data[S-1]+g)*y);if((r.data[S]+=s.am(0,R,r,I,0,c))<R)for(s.dlShiftTo(I,k),r.subTo(k,r);r.data[S]<--R;)r.subTo(k,r)}e!=null&&(r.drShiftTo(c,e),a!=o&&q.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&q.ZERO.subTo(r,r)}}}function J6(t){var e=ge();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(q.ZERO)>0&&t.subTo(e,e),e}function Xi(t){this.m=t}function $6(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Z6(t){return t}function X6(t){t.divRemTo(this.m,null,t)}function Q6(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function ex(t,e){t.squareTo(e),this.reduce(e)}Xi.prototype.convert=$6;Xi.prototype.revert=Z6;Xi.prototype.reduce=X6;Xi.prototype.mulTo=Q6;Xi.prototype.sqrTo=ex;function tx(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Qi(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function rx(t){var e=ge();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(q.ZERO)>0&&this.m.subTo(e,e),e}function ix(t){var e=ge();return t.copyTo(e),this.reduce(e),e}function nx(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,i=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,i,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function sx(t,e){t.squareTo(e),this.reduce(e)}function ax(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Qi.prototype.convert=rx;Qi.prototype.revert=ix;Qi.prototype.reduce=nx;Qi.prototype.mulTo=ax;Qi.prototype.sqrTo=sx;function ox(){return(this.t>0?this.data[0]&1:this.s)==0}function fx(t,e){if(t>4294967295||t<1)return q.ONE;var r=ge(),i=ge(),n=e.convert(this),s=Na(t)-1;for(n.copyTo(r);--s>=0;)if(e.sqrTo(r,i),(t&1<<s)>0)e.mulTo(i,n,r);else{var a=r;r=i,i=a}return e.revert(r)}function cx(t,e){var r;return t<256||e.isEven()?r=new Xi(e):r=new Qi(e),this.exp(t,r)}q.prototype.copyTo=M6;q.prototype.fromInt=P6;q.prototype.fromString=D6;q.prototype.clamp=O6;q.prototype.dlShiftTo=U6;q.prototype.drShiftTo=G6;q.prototype.lShiftTo=z6;q.prototype.rShiftTo=V6;q.prototype.subTo=H6;q.prototype.multiplyTo=j6;q.prototype.squareTo=W6;q.prototype.divRemTo=Y6;q.prototype.invDigit=tx;q.prototype.isEven=ox;q.prototype.exp=fx;q.prototype.toString=N6;q.prototype.negate=L6;q.prototype.abs=q6;q.prototype.compareTo=F6;q.prototype.bitLength=K6;q.prototype.mod=J6;q.prototype.modPowInt=cx;q.ZERO=Si(0);q.ONE=Si(1);function ux(){var t=ge();return this.copyTo(t),t}function hx(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function lx(){return this.t==0?this.s:this.data[0]<<24>>24}function dx(){return this.t==0?this.s:this.data[0]<<16>>16}function px(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function bx(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function yx(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=Si(r),n=ge(),s=ge(),a="";for(this.divRemTo(i,n,s);n.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,n.divRemTo(i,n,s);return s.intValue().toString(t)+a}function gx(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),n=!1,s=0,a=0,o=0;o<t.length;++o){var u=zp(t,o);if(u<0){t.charAt(o)=="-"&&this.signum()==0&&(n=!0);continue}a=e*a+u,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),n&&q.ZERO.subTo(this,this)}function vx(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(q.ONE.shiftLeft(t-1),ff,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(q.ONE.shiftLeft(t-1),this);else{var i=new Array,n=t&7;i.length=(t>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function xx(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,i,n=0;if(t-- >0)for(r<this.DB&&(i=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this.data[t]&(1<<r)-1)<<8-r,i|=this.data[--t]>>(r+=this.DB-8)):(i=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function mx(t){return this.compareTo(t)==0}function wx(t){return this.compareTo(t)<0?this:t}function _x(t){return this.compareTo(t)>0?this:t}function Ex(t,e,r){var i,n,s=Math.min(t.t,this.t);for(i=0;i<s;++i)r.data[i]=e(this.data[i],t.data[i]);if(t.t<this.t){for(n=t.s&this.DM,i=s;i<this.t;++i)r.data[i]=e(this.data[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=s;i<t.t;++i)r.data[i]=e(n,t.data[i]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Sx(t,e){return t&e}function Ix(t){var e=ge();return this.bitwiseTo(t,Sx,e),e}function ff(t,e){return t|e}function Ax(t){var e=ge();return this.bitwiseTo(t,ff,e),e}function Vp(t,e){return t^e}function kx(t){var e=ge();return this.bitwiseTo(t,Vp,e),e}function Hp(t,e){return t&~e}function Cx(t){var e=ge();return this.bitwiseTo(t,Hp,e),e}function Bx(){for(var t=ge(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Tx(t){var e=ge();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Rx(t){var e=ge();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Mx(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function Px(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Mx(this.data[t]);return this.s<0?this.t*this.DB:-1}function Dx(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Ox(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Dx(this.data[r]^e);return t}function Nx(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Lx(t,e){var r=q.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function qx(t){return this.changeBit(t,ff)}function Fx(t){return this.changeBit(t,Hp)}function Kx(t){return this.changeBit(t,Vp)}function Ux(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]+t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i+=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e.data[r++]=i:i<-1&&(e.data[r++]=this.DV+i),e.t=r,e.clamp()}function Gx(t){var e=ge();return this.addTo(t,e),e}function zx(t){var e=ge();return this.subTo(t,e),e}function Vx(t){var e=ge();return this.multiplyTo(t,e),e}function Hx(t){var e=ge();return this.divRemTo(t,e,null),e}function jx(t){var e=ge();return this.divRemTo(t,null,e),e}function Wx(t){var e=ge(),r=ge();return this.divRemTo(t,e,r),new Array(e,r)}function Yx(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Jx(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function ws(){}function jp(t){return t}function $x(t,e,r){t.multiplyTo(e,r)}function Zx(t,e){t.squareTo(e)}ws.prototype.convert=jp;ws.prototype.revert=jp;ws.prototype.mulTo=$x;ws.prototype.sqrTo=Zx;function Xx(t){return this.exp(t,new ws)}function Qx(t,e,r){var i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;var n;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()}function e8(t,e,r){--e;var i=r.t=this.t+t.t-e;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)r.data[this.t+i-e]=this.am(e-i,t.data[i],r,0,0,this.t+i-e);r.clamp(),r.drShiftTo(1,r)}function qn(t){this.r2=ge(),this.q3=ge(),q.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function t8(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ge();return t.copyTo(e),this.reduce(e),e}function r8(t){return t}function i8(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function n8(t,e){t.squareTo(e),this.reduce(e)}function s8(t,e,r){t.multiplyTo(e,r),this.reduce(r)}qn.prototype.convert=t8;qn.prototype.revert=r8;qn.prototype.reduce=i8;qn.prototype.mulTo=s8;qn.prototype.sqrTo=n8;function a8(t,e){var r=t.bitLength(),i,n=Si(1),s;if(r<=0)return n;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?s=new Xi(e):e.isEven()?s=new qn(e):s=new Qi(e);var a=new Array,o=3,u=i-1,c=(1<<i)-1;if(a[1]=s.convert(this),i>1){var f=ge();for(s.sqrTo(a[1],f);o<=c;)a[o]=ge(),s.mulTo(f,a[o-2],a[o]),o+=2}var h=t.t-1,d,y=!0,g=ge(),S;for(r=Na(t.data[h])-1;h>=0;){for(r>=u?d=t.data[h]>>r-u&c:(d=(t.data[h]&(1<<r+1)-1)<<u-r,h>0&&(d|=t.data[h-1]>>this.DB+r-u)),o=i;(d&1)==0;)d>>=1,--o;if((r-=o)<0&&(r+=this.DB,--h),y)a[d].copyTo(n),y=!1;else{for(;o>1;)s.sqrTo(n,g),s.sqrTo(g,n),o-=2;o>0?s.sqrTo(n,g):(S=n,n=g,g=S),s.mulTo(g,a[d],n)}for(;h>=0&&(t.data[h]&1<<r)==0;)s.sqrTo(n,g),S=n,n=g,g=S,--r<0&&(r=this.DB-1,--h)}return s.revert(n)}function o8(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var i=e;e=r,r=i}var n=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function f8(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var i=this.t-1;i>=0;--i)r=(e*r+this.data[i])%t;return r}function c8(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return q.ZERO;for(var r=t.clone(),i=this.clone(),n=Si(1),s=Si(0),a=Si(0),o=Si(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!n.isEven()||!s.isEven())&&(n.addTo(this,n),s.subTo(t,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?((!a.isEven()||!o.isEven())&&(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(i)>=0?(r.subTo(i,r),e&&n.subTo(a,n),s.subTo(o,s)):(i.subTo(r,i),e&&a.subTo(n,a),o.subTo(s,o))}if(i.compareTo(q.ONE)!=0)return q.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var pr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],u8=(1<<26)/pr[pr.length-1];function h8(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=pr[pr.length-1]){for(e=0;e<pr.length;++e)if(r.data[0]==pr[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<pr.length;){for(var i=pr[e],n=e+1;n<pr.length&&i<u8;)i*=pr[n++];for(i=r.modInt(i);e<n;)if(i%pr[e++]==0)return!1}return r.millerRabin(t)}function d8(t){var e=this.subtract(q.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var i=e.shiftRight(r),n=l8(),s,a=0;a<t;++a){do s=new q(this.bitLength(),n);while(s.compareTo(q.ONE)<=0||s.compareTo(e)>=0);var o=s.modPow(i,this);if(o.compareTo(q.ONE)!=0&&o.compareTo(e)!=0){for(var u=1;u++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(q.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function l8(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}q.prototype.chunkSize=px;q.prototype.toRadix=yx;q.prototype.fromRadix=gx;q.prototype.fromNumber=vx;q.prototype.bitwiseTo=Ex;q.prototype.changeBit=Lx;q.prototype.addTo=Ux;q.prototype.dMultiply=Yx;q.prototype.dAddOffset=Jx;q.prototype.multiplyLowerTo=Qx;q.prototype.multiplyUpperTo=e8;q.prototype.modInt=f8;q.prototype.millerRabin=d8;q.prototype.clone=ux;q.prototype.intValue=hx;q.prototype.byteValue=lx;q.prototype.shortValue=dx;q.prototype.signum=bx;q.prototype.toByteArray=xx;q.prototype.equals=mx;q.prototype.min=wx;q.prototype.max=_x;q.prototype.and=Ix;q.prototype.or=Ax;q.prototype.xor=kx;q.prototype.andNot=Cx;q.prototype.not=Bx;q.prototype.shiftLeft=Tx;q.prototype.shiftRight=Rx;q.prototype.getLowestSetBit=Px;q.prototype.bitCount=Ox;q.prototype.testBit=Nx;q.prototype.setBit=qx;q.prototype.clearBit=Fx;q.prototype.flipBit=Kx;q.prototype.add=Gx;q.prototype.subtract=zx;q.prototype.multiply=Vx;q.prototype.divide=Hx;q.prototype.remainder=jx;q.prototype.divideAndRemainder=Wx;q.prototype.modPow=a8;q.prototype.modInverse=c8;q.prototype.pow=Xx;q.prototype.gcd=o8;q.prototype.isProbablePrime=h8});var Zp=T((SE,Wp)=>{var Mr=me();Zi();Fe();var Yp=Wp.exports=Mr.sha1=Mr.sha1||{};Mr.md.sha1=Mr.md.algorithms.sha1=Yp;Yp.create=function(){Jp||p8();var t=null,e=Mr.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=Mr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=Mr.util.encodeUtf8(n));var a=n.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=a[1],a[1]=a[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(n),$p(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Mr.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,a=s&i.blockLength-1;n.putBytes(cf.substr(0,i.blockLength-a));for(var o,u,c=i.fullMessageLength[0]*8,f=0;f<i.fullMessageLength.length-1;++f)o=i.fullMessageLength[f+1]*8,u=o/4294967296>>>0,c+=u,n.putInt32(c>>>0),c=o>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};$p(h,r,n);var d=Mr.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d},i};var cf=null,Jp=!1;function p8(){cf=String.fromCharCode(128),cf+=Mr.util.fillString(String.fromCharCode(0),64),Jp=!0}function $p(t,e,r){for(var i,n,s,a,o,u,c,f,h=r.length();h>=64;){for(n=t.h0,s=t.h1,a=t.h2,o=t.h3,u=t.h4,f=0;f<16;++f)i=r.getInt32(),e[f]=i,c=o^s&(a^o),i=(n<<5|n>>>27)+c+u+1518500249+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<20;++f)i=e[f-3]^e[f-8]^e[f-14]^e[f-16],i=i<<1|i>>>31,e[f]=i,c=o^s&(a^o),i=(n<<5|n>>>27)+c+u+1518500249+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<32;++f)i=e[f-3]^e[f-8]^e[f-14]^e[f-16],i=i<<1|i>>>31,e[f]=i,c=s^a^o,i=(n<<5|n>>>27)+c+u+1859775393+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<40;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,c=s^a^o,i=(n<<5|n>>>27)+c+u+1859775393+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<60;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,c=s&a|o&(s^a),i=(n<<5|n>>>27)+c+u+2400959708+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<80;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,c=s^a^o,i=(n<<5|n>>>27)+c+u+3395469782+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;t.h0=t.h0+n|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+o|0,t.h4=t.h4+u|0,h-=64}}});var e1=T((IE,Xp)=>{var Pr=me();Fe();Nn();Zp();var Qp=Xp.exports=Pr.pkcs1=Pr.pkcs1||{};Qp.encode_rsa_oaep=function(t,e,r){var i,n,s,a;typeof r=="string"?(i=r,n=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,n=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=Pr.md.sha1.create(),a||(a=s);var o=Math.ceil(t.n.bitLength()/8),u=o-2*s.digestLength-2;if(e.length>u){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=u,c}i||(i=""),s.update(i,"raw");for(var f=s.digest(),h="",d=u-e.length,y=0;y<d;y++)h+="\0";var g=f.getBytes()+h+""+e;if(!n)n=Pr.random.getBytes(s.digestLength);else if(n.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=n.length,c.digestLength=s.digestLength,c}var S=La(n,o-s.digestLength-1,a),I=Pr.util.xorBytes(g,S,g.length),k=La(I,s.digestLength,a),R=Pr.util.xorBytes(n,k,n.length);return"\0"+R+I};Qp.decode_rsa_oaep=function(t,e,r){var i,n,s;typeof r=="string"?(i=r,n=arguments[3]||void 0):r&&(i=r.label||void 0,n=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var I=new Error("RSAES-OAEP encoded message length is invalid.");throw I.length=e.length,I.expectedLength=a,I}if(n===void 0?n=Pr.md.sha1.create():n.start(),s||(s=n),a<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var o=n.digest().getBytes(),u=e.charAt(0),c=e.substring(1,n.digestLength+1),f=e.substring(1+n.digestLength),h=La(f,n.digestLength,s),d=Pr.util.xorBytes(c,h,c.length),y=La(d,a-n.digestLength-1,s),g=Pr.util.xorBytes(f,y,f.length),S=g.substring(0,n.digestLength),I=u!=="\0",k=0;k<n.digestLength;++k)I|=o.charAt(k)!==S.charAt(k);for(var R=1,M=n.digestLength,F=n.digestLength;F<g.length;F++){var L=g.charCodeAt(F),D=L&1^1,j=R?65534:0;I|=L&j,R=R&D,M+=R}if(I||g.charCodeAt(M)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(M+1)};function La(t,e,r){r||(r=Pr.md.sha1.create());for(var i="",n=Math.ceil(e/r.digestLength),s=0;s<n;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}});var t1=T((AE,uf)=>{var Ii=me();Fe();_s();Nn();(function(){if(Ii.prime){uf.exports=Ii.prime;return}var t=uf.exports=Ii.prime=Ii.prime||{},e=Ii.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(h,d){return h|d};t.generateProbablePrime=function(h,d,y){typeof d=="function"&&(y=d,d={}),d=d||{};var g=d.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var S=d.prng||Ii.random,I={nextBytes:function(k){for(var R=S.getBytesSync(k.length),M=0;M<k.length;++M)k[M]=R.charCodeAt(M)}};if(g.name==="PRIMEINC")return s(h,I,g.options,y);throw new Error("Invalid prime generation algorithm: "+g.name)};function s(h,d,y,g){return"workers"in y?u(h,d,y,g):a(h,d,y,g)}function a(h,d,y,g){var S=c(h,d),I=0,k=f(S.bitLength());"millerRabinTests"in y&&(k=y.millerRabinTests);var R=10;"maxBlockTime"in y&&(R=y.maxBlockTime),o(S,h,d,I,k,R,g)}function o(h,d,y,g,S,I,k){var R=+new Date;do{if(h.bitLength()>d&&(h=c(d,y)),h.isProbablePrime(S))return k(null,h);h.dAddOffset(r[g++%8],0)}while(I<0||+new Date-R<I);Ii.util.setImmediate(function(){o(h,d,y,g,S,I,k)})}function u(h,d,y,g){if(typeof Worker=="undefined")return a(h,d,y,g);var S=c(h,d),I=y.workers,k=y.workLoad||100,R=k*30/8,M=y.workerScript||"forge/prime.worker.js";if(I===-1)return Ii.util.estimateCores(function(L,D){L&&(D=2),I=D-1,F()});F();function F(){I=Math.max(1,I);for(var L=[],D=0;D<I;++D)L[D]=new Worker(M);for(var j=I,D=0;D<I;++D)L[D].addEventListener("message",Q);var z=!1;function Q(E){if(!z){--j;var l=E.data;if(l.found){for(var b=0;b<L.length;++b)L[b].terminate();return z=!0,g(null,new e(l.prime,16))}S.bitLength()>h&&(S=c(h,d));var v=S.toString(16);E.target.postMessage({hex:v,workLoad:k}),S.dAddOffset(R,0)}}}}function c(h,d){var y=new e(h,d),g=h-1;return y.testBit(g)||y.bitwiseTo(e.ONE.shiftLeft(g),n,y),y.dAddOffset(31-y.mod(i).byteValue(),0),y}function f(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var Fa=T((kE,r1)=>{var re=me();Pn();_s();Ia();e1();t1();Nn();Fe();typeof de=="undefined"&&(de=re.jsbn.BigInteger);var de,hf=re.util.isNodejs?ms():null,P=re.asn1,ir=re.util;re.pki=re.pki||{};r1.exports=re.pki.rsa=re.rsa=re.rsa||{};var ie=re.pki,b8=[6,4,2,4,2,4,6,2],y8={name:"PrivateKeyInfo",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:P.Class.UNIVERSAL,type:P.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:P.Class.UNIVERSAL,type:P.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},g8={name:"RSAPrivateKey",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},v8={name:"RSAPublicKey",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},x8=re.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:P.Class.UNIVERSAL,type:P.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:P.Class.UNIVERSAL,type:P.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},m8=function(t){var e;if(t.algorithm in ie.oids)e=ie.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var i=P.oidToDer(e).getBytes(),n=P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[]),s=P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[]);s.value.push(P.create(P.Class.UNIVERSAL,P.Type.OID,!1,i)),s.value.push(P.create(P.Class.UNIVERSAL,P.Type.NULL,!1,""));var a=P.create(P.Class.UNIVERSAL,P.Type.OCTETSTRING,!1,t.digest().getBytes());return n.value.push(s),n.value.push(a),P.toDer(n).getBytes()},i1=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(de.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(de.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new de(re.util.bytesToHex(re.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(de.ONE));t=t.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);n.compareTo(s)<0;)n=n.add(e.p);var a=n.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(i.modInverse(e.n)).mod(e.n),a};ie.rsa.encrypt=function(t,e,r){var i=r,n,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(i=r===2,n=n1(t,e,r)):(n=re.util.createBuffer(),n.putBytes(t));for(var a=new de(n.toHex(),16),o=i1(a,e,i),u=o.toString(16),c=re.util.createBuffer(),f=s-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(re.util.hexToBytes(u)),c.getBytes()};ie.rsa.decrypt=function(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8);if(t.length!==n){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=n,s}var a=new de(re.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=i1(a,e,r),u=o.toString(16),c=re.util.createBuffer(),f=n-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(re.util.hexToBytes(u)),i!==!1?qa(c.getBytes(),e,r):c.getBytes()};ie.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var i=r.prng||re.random,n={nextBytes:function(o){for(var u=i.getBytesSync(o.length),c=0;c<o.length;++c)o[c]=u.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:t,rng:n,eInt:e||65537,e:new de(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};ie.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new de(null);r.fromInt(30);for(var i=0,n=function(h,d){return h|d},s=+new Date,a,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,c=u-1;t.pqState===0?(t.num=new de(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(de.ONE.shiftLeft(c),n,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(w8(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(b8[i++%8],0):t.pqState===2?t.pqState=t.num.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(de.ONE),t.q1=t.q.subtract(de.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(de.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var f=t.e.modInverse(t.phi);t.keys={privateKey:ie.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:ie.rsa.setPublicKey(t.n,t.e)}}a=+new Date,o+=a-s,s=a}return t.keys!==null};ie.rsa.generateKeyPair=function(t,e,r,i){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(i=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!re.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(i){if(s1("generateKeyPair"))return hf.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,u,c){if(o)return i(o);i(null,{privateKey:ie.privateKeyFromPem(c),publicKey:ie.publicKeyFromPem(u)})});if(a1("generateKey")&&a1("exportKey"))return ir.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:f1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return ir.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){i(o)}).then(function(o){if(o){var u=ie.privateKeyFromAsn1(P.fromDer(re.util.createBuffer(o)));i(null,{privateKey:u,publicKey:ie.setRsaPublicKey(u.n,u.e)})}});if(o1("generateKey")&&o1("exportKey")){var n=ir.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:f1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(o){var u=o.target.result,c=ir.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);c.oncomplete=function(f){var h=f.target.result,d=ie.privateKeyFromAsn1(P.fromDer(re.util.createBuffer(h)));i(null,{privateKey:d,publicKey:ie.setRsaPublicKey(d.n,d.e)})},c.onerror=function(f){i(f)}},n.onerror=function(o){i(o)};return}}else if(s1("generateKeyPairSync")){var s=hf.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ie.privateKeyFromPem(s.privateKey),publicKey:ie.publicKeyFromPem(s.publicKey)}}}var a=ie.rsa.createKeyPairGenerationState(t,e,r);if(!i)return ie.rsa.stepKeyPairGenerationState(a,0),a.keys;_8(a,r,i)};ie.setRsaPublicKey=ie.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(i,n,s){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(o,u,c){return n1(o,u,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(o,u){return re.pkcs1.encode_rsa_oaep(u,o,s)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(o){return o}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var a=n.encode(i,r,!0);return ie.rsa.encrypt(a,r,!0)},r.verify=function(i,n,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(o,u){u=qa(u,r,!0);var c=P.fromDer(u);return o===c.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(o,u){return u=qa(u,r,!0),o===u}});var a=ie.rsa.decrypt(n,r,!0,!1);return s.verify(i,a,r.n.bitLength())},r};ie.setRsaPrivateKey=ie.rsa.setPrivateKey=function(t,e,r,i,n,s,a,o){var u={n:t,e,d:r,p:i,q:n,dP:s,dQ:a,qInv:o};return u.decrypt=function(c,f,h){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var d=ie.rsa.decrypt(c,u,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:qa};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(y,g){return re.pkcs1.decode_rsa_oaep(g,y,h)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(y){return y}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(d,u,!1)},u.sign=function(c,f){var h=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:m8},h=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return c}},h=1);var d=f.encode(c,u.n.bitLength());return ie.rsa.encrypt(d,u,h)},u};ie.wrapRsaPrivateKey=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,P.integerToDer(0).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.OID,!1,P.oidToDer(ie.oids.rsaEncryption).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.NULL,!1,"")]),P.create(P.Class.UNIVERSAL,P.Type.OCTETSTRING,!1,P.toDer(t).getBytes())])};ie.privateKeyFromAsn1=function(t){var e={},r=[];if(P.validate(t,y8,e,r)&&(t=P.fromDer(re.util.createBuffer(e.privateKey))),e={},r=[],!P.validate(t,g8,e,r)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=r,i}var n,s,a,o,u,c,f,h;return n=re.util.createBuffer(e.privateKeyModulus).toHex(),s=re.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=re.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=re.util.createBuffer(e.privateKeyPrime1).toHex(),u=re.util.createBuffer(e.privateKeyPrime2).toHex(),c=re.util.createBuffer(e.privateKeyExponent1).toHex(),f=re.util.createBuffer(e.privateKeyExponent2).toHex(),h=re.util.createBuffer(e.privateKeyCoefficient).toHex(),ie.setRsaPrivateKey(new de(n,16),new de(s,16),new de(a,16),new de(o,16),new de(u,16),new de(c,16),new de(f,16),new de(h,16))};ie.privateKeyToAsn1=ie.privateKeyToRSAPrivateKey=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,P.integerToDer(0).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.n)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.e)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.d)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.p)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.q)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.dP)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.dQ)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.qInv))])};ie.publicKeyFromAsn1=function(t){var e={},r=[];if(P.validate(t,x8,e,r)){var i=P.derToOid(e.publicKeyOid);if(i!==ie.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}t=e.rsaPublicKey}if(r=[],!P.validate(t,v8,e,r)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=r,n}var s=re.util.createBuffer(e.publicKeyModulus).toHex(),a=re.util.createBuffer(e.publicKeyExponent).toHex();return ie.setRsaPublicKey(new de(s,16),new de(a,16))};ie.publicKeyToAsn1=ie.publicKeyToSubjectPublicKeyInfo=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.OID,!1,P.oidToDer(ie.oids.rsaEncryption).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.NULL,!1,"")]),P.create(P.Class.UNIVERSAL,P.Type.BITSTRING,!1,[ie.publicKeyToRSAPublicKey(t)])])};ie.publicKeyToRSAPublicKey=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.n)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Dr(t.e))])};function n1(t,e,r){var i=re.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(t.length>n-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=n-11,s}i.putByte(0),i.putByte(r);var a=n-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var u=0;u<a;++u)i.putByte(o)}else for(;a>0;){for(var c=0,f=re.random.getBytes(a),u=0;u<a;++u)o=f.charCodeAt(u),o===0?++c:i.putByte(o);a=c}return i.putByte(0),i.putBytes(t),i}function qa(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8),s=re.util.createBuffer(t),a=s.getByte(),o=s.getByte();if(a!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var u=0;if(o===0){u=n-3-i;for(var c=0;c<u;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(u=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++u}else if(o===2)for(u=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++u}var f=s.getByte();if(f!==0||u!==n-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function _8(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){s(t.pBits,function(o,u){if(o)return r(o);if(t.p=u,t.q!==null)return a(o,t.q);s(t.qBits,a)})}function s(o,u){re.prime.generateProbablePrime(o,i,u)}function a(o,u){if(o)return r(o);if(t.q=u,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)!==0){t.p=null,n();return}if(t.q.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)!==0){t.q=null,s(t.qBits,a);return}if(t.p1=t.p.subtract(de.ONE),t.q1=t.q.subtract(de.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(de.ONE)!==0){t.p=t.q=null,n();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,a);return}var f=t.e.modInverse(t.phi);t.keys={privateKey:ie.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:ie.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Dr(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=re.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function w8(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function s1(t){return re.util.isNodejs&&typeof hf[t]=="function"}function a1(t){return typeof ir.globalScope!="undefined"&&typeof ir.globalScope.crypto=="object"&&typeof ir.globalScope.crypto.subtle=="object"&&typeof ir.globalScope.crypto.subtle[t]=="function"}function o1(t){return typeof ir.globalScope!="undefined"&&typeof ir.globalScope.msCrypto=="object"&&typeof ir.globalScope.msCrypto.subtle=="object"&&typeof ir.globalScope.msCrypto.subtle[t]=="function"}function f1(t){for(var e=re.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}});var p1=T((CE,c1)=>{var Y=me();tf();Pn();vp();Zi();Ia();Ep();Ap();Nn();qp();Fa();Fe();typeof u1=="undefined"&&(u1=Y.jsbn.BigInteger);var u1,N=Y.asn1,se=Y.pki=Y.pki||{};c1.exports=se.pbe=Y.pbe=Y.pbe||{};var en=se.oids,E8={name:"EncryptedPrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},S8={name:"PBES2Algorithms",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},I8={name:"pkcs-12PbeParams",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"iterations"}]};se.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i=Y.random.getBytesSync(r.saltSize),n=r.count,s=N.integerToDer(n),a,o,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,f,h;switch(r.algorithm){case"aes128":a=16,c=16,f=en["aes128-CBC"],h=Y.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,f=en["aes192-CBC"],h=Y.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,f=en["aes256-CBC"],h=Y.aes.createEncryptionCipher;break;case"des":a=8,c=8,f=en.desCBC,h=Y.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),g=h1(y),S=Y.pkcs5.pbkdf2(e,i,n,a,g),I=Y.random.getBytesSync(c),k=h(S);k.start(I),k.update(N.toDer(t)),k.finish(),u=k.output.getBytes();var R=A8(i,s,a,y);o=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(en.pkcs5PBES2).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(en.pkcs5PBKDF2).getBytes()),R]),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(f).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,I)])])])}else if(r.algorithm==="3des"){a=24;var M=new Y.util.ByteBuffer(i),S=se.pbe.generatePkcs12Key(e,M,1,n,a),I=se.pbe.generatePkcs12Key(e,M,2,n,a),k=Y.des.createEncryptionCipher(S);k.start(I),k.update(N.toDer(t)),k.finish(),u=k.output.getBytes(),o=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(en["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,i),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,s.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var F=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[o,N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,u)]);return F};se.decryptPrivateKeyInfo=function(t,e){var r=null,i={},n=[];if(!N.validate(t,E8,i,n)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var a=N.derToOid(i.encryptionOid),o=se.pbe.getCipher(a,i.encryptionParams,e),u=Y.util.createBuffer(i.encryptedData);return o.update(u),o.finish()&&(r=N.fromDer(o.output)),r};se.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:N.toDer(t).getBytes()};return Y.pem.encode(r,{maxline:e})};se.encryptedPrivateKeyFromPem=function(t){var e=Y.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return N.fromDer(e.body)};se.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var i=se.wrapRsaPrivateKey(se.privateKeyToAsn1(t));return i=se.encryptPrivateKeyInfo(i,e,r),se.encryptedPrivateKeyToPem(i)}var n,s,a,o;switch(r.algorithm){case"aes128":n="AES-128-CBC",a=16,s=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",a=24,s=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",a=32,s=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",a=24,s=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;case"des":n="DES-CBC",a=8,s=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=Y.pbe.opensslDeriveBytes(e,s.substr(0,8),a),f=o(c);f.start(s),f.update(N.toDer(se.privateKeyToAsn1(t))),f.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:Y.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return Y.pem.encode(h)};se.decryptRsaPrivateKey=function(t,e){var r=null,i=Y.pem.decode(t)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var s,a;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,a=Y.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=Y.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=Y.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=Y.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=Y.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=function(h){return Y.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,a=function(h){return Y.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,a=function(h){return Y.rc2.createDecryptionCipher(h,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var o=Y.util.hexToBytes(i.dekInfo.parameters),u=Y.pbe.opensslDeriveBytes(e,o.substr(0,8),s),c=a(u);if(c.start(o),c.update(Y.util.createBuffer(i.body)),c.finish())r=c.output.getBytes();else return r}else r=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?r=se.decryptPrivateKeyInfo(N.fromDer(r),e):r=N.fromDer(r),r!==null&&(r=se.privateKeyFromAsn1(r)),r};se.pbe.generatePkcs12Key=function(t,e,r,i,n,s){var a,o;if(typeof s=="undefined"||s===null){if(!("sha1"in Y.md))throw new Error('"sha1" hash algorithm unavailable.');s=Y.md.sha1.create()}var u=s.digestLength,c=s.blockLength,f=new Y.util.ByteBuffer,h=new Y.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)h.putInt16(t.charCodeAt(o));h.putInt16(0)}var d=h.length(),y=e.length(),g=new Y.util.ByteBuffer;g.fillWithByte(r,c);var S=c*Math.ceil(y/c),I=new Y.util.ByteBuffer;for(o=0;o<S;o++)I.putByte(e.at(o%y));var k=c*Math.ceil(d/c),R=new Y.util.ByteBuffer;for(o=0;o<k;o++)R.putByte(h.at(o%d));var M=I;M.putBuffer(R);for(var F=Math.ceil(n/u),L=1;L<=F;L++){var D=new Y.util.ByteBuffer;D.putBytes(g.bytes()),D.putBytes(M.bytes());for(var j=0;j<i;j++)s.start(),s.update(D.getBytes()),D=s.digest();var z=new Y.util.ByteBuffer;for(o=0;o<c;o++)z.putByte(D.at(o%u));var Q=Math.ceil(y/c)+Math.ceil(d/c),E=new Y.util.ByteBuffer;for(a=0;a<Q;a++){var l=new Y.util.ByteBuffer(M.getBytes(c)),b=511;for(o=z.length()-1;o>=0;o--)b=b>>8,b+=z.at(o)+l.at(o),l.setAt(o,b&255);E.putBuffer(l)}M=E,f.putBuffer(D)}return f.truncate(f.length()-n),f};se.pbe.getCipher=function(t,e,r){switch(t){case se.oids.pkcs5PBES2:return se.pbe.getCipherForPBES2(t,e,r);case se.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case se.oids["pbewithSHAAnd40BitRC2-CBC"]:return se.pbe.getCipherForPKCS12PBE(t,e,r);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=t,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};se.pbe.getCipherForPBES2=function(t,e,r){var i={},n=[];if(!N.validate(e,S8,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}if(t=N.derToOid(i.kdfOid),t!==se.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=N.derToOid(i.encOid),t!==se.oids["aes128-CBC"]&&t!==se.oids["aes192-CBC"]&&t!==se.oids["aes256-CBC"]&&t!==se.oids["des-EDE3-CBC"]&&t!==se.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=i.kdfSalt,o=Y.util.createBuffer(i.kdfIterationCount);o=o.getInt(o.length()<<3);var u,c;switch(se.oids[t]){case"aes128-CBC":u=16,c=Y.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,c=Y.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,c=Y.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,c=Y.des.createDecryptionCipher;break;case"desCBC":u=8,c=Y.des.createDecryptionCipher;break}var f=l1(i.prfOid),h=Y.pkcs5.pbkdf2(r,a,o,u,f),d=i.encIv,y=c(h);return y.start(d),y};se.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},n=[];if(!N.validate(e,I8,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var a=Y.util.createBuffer(i.salt),o=Y.util.createBuffer(i.iterations);o=o.getInt(o.length()<<3);var u,c,f;switch(t){case se.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,f=Y.des.startDecrypting;break;case se.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,f=function(S,I){var k=Y.rc2.createDecryptionCipher(S,40);return k.start(I,null),k};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=l1(i.prfOid),d=se.pbe.generatePkcs12Key(r,a,1,o,u,h);h.start();var y=se.pbe.generatePkcs12Key(r,a,2,o,c,h);return f(d,y)};se.pbe.opensslDeriveBytes=function(t,e,r,i){if(typeof i=="undefined"||i===null){if(!("md5"in Y.md))throw new Error('"md5" hash algorithm unavailable.');i=Y.md.md5.create()}e===null&&(e="");for(var n=[d1(i,t+e)],s=16,a=1;s<r;++a,s+=16)n.push(d1(i,n[a-1]+t+e));return n.join("").substr(0,r)};function d1(t,e){return t.start().update(e).digest().getBytes()}function l1(t){var e;if(!t)e="hmacWithSHA1";else if(e=se.oids[N.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return h1(e)}function h1(t){var e=Y.md;switch(t){case"hmacWithSHA224":e=Y.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function A8(t,e,r,i){var n=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,t),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,Y.util.hexToBytes(r.toString(16))),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(se.oids[i]).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")])),n}});var Es=T(b1=>{"use strict";b1.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var lf=T((TE,y1)=>{"use strict";var k8=Cr(),g1=$t(),C8=Es();function B8({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:i="SHA-256",saltLength:n=16,iterations:s=32767}={}){let a=C8.get();r*=8;async function o(c,f){let h=a.getRandomValues(new Uint8Array(n)),d=a.getRandomValues(new Uint8Array(e)),y={name:t,iv:d},g={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},S=await a.subtle.importKey("raw",g1(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),I=await a.subtle.deriveKey(g,S,{name:t,length:r},!0,["encrypt"]),k=await a.subtle.encrypt(y,I,c);return k8([h,y.iv,new Uint8Array(k)])}async function u(c,f){let h=c.slice(0,n),d=c.slice(n,n+e),y=c.slice(n+e),g={name:t,iv:d},S={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},I=await a.subtle.importKey("raw",g1(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),k=await a.subtle.deriveKey(S,I,{name:t,length:r},!0,["decrypt"]),R=await a.subtle.decrypt(g,k,y);return new Uint8Array(R)}return{encrypt:o,decrypt:u}}y1.exports={create:B8}});var x1=T((RE,v1)=>{"use strict";var T8=ji(),R8=lf();v1.exports={import:async function(t,e){let i=T8.names.base64.decode(t);return await R8.create().decrypt(i,e)}}});var Ss=T((ME,m1)=>{"use strict";var M8=Wi(),Fn=self.crypto||self.msCrypto,df=async(t,e)=>{if(typeof self=="undefined"||!Fn)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await Fn.subtle.digest({name:"SHA-1"},t));case"sha2-256":return new Uint8Array(await Fn.subtle.digest({name:"SHA-256"},t));case"sha2-512":return new Uint8Array(await Fn.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{let r=await Fn.subtle.digest({name:"SHA-256"},t);return new Uint8Array(await Fn.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${e} is not a supported algorithm`)}};m1.exports={factory:t=>async e=>df(e,t),digest:df,multihashing:async(t,e,r)=>{let i=await df(t,e);return M8.encode(i,e,r)}}});var yf=T((PE,w1)=>{var Me=me();Zi();Fe();var Is=w1.exports=Me.sha512=Me.sha512||{};Me.md.sha512=Me.md.algorithms.sha512=Is;var _1=Me.sha384=Me.sha512.sha384=Me.sha512.sha384||{};_1.create=function(){return Is.create("SHA-384")};Me.md.sha384=Me.md.algorithms.sha384=_1;Me.sha512.sha256=Me.sha512.sha256||{create:function(){return Is.create("SHA-512/256")}};Me.md["sha512/256"]=Me.md.algorithms["sha512/256"]=Me.sha512.sha256;Me.sha512.sha224=Me.sha512.sha224||{create:function(){return Is.create("SHA-512/224")}};Me.md["sha512/224"]=Me.md.algorithms["sha512/224"]=Me.sha512.sha224;Is.create=function(t){if(E1||P8(),typeof t=="undefined"&&(t="SHA-512"),!(t in tn))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=tn[t],r=null,i=Me.util.createBuffer(),n=new Array(80),s=0;s<80;++s)n[s]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var u=o.messageLengthSize/4,c=0;c<u;++c)o.fullMessageLength.push(0);i=Me.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return o},o.start(),o.update=function(u,c){c==="utf8"&&(u=Me.util.encodeUtf8(u));var f=u.length;o.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var h=o.fullMessageLength.length-1;h>=0;--h)o.fullMessageLength[h]+=f[1],f[1]=f[0]+(o.fullMessageLength[h]/4294967296>>>0),o.fullMessageLength[h]=o.fullMessageLength[h]>>>0,f[0]=f[1]/4294967296>>>0;return i.putBytes(u),S1(r,n,i),(i.read>2048||i.length()===0)&&i.compact(),o},o.digest=function(){var u=Me.util.createBuffer();u.putBytes(i.bytes());var c=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,f=c&o.blockLength-1;u.putBytes(pf.substr(0,o.blockLength-f));for(var h,d,y=o.fullMessageLength[0]*8,g=0;g<o.fullMessageLength.length-1;++g)h=o.fullMessageLength[g+1]*8,d=h/4294967296>>>0,y+=d,u.putInt32(y>>>0),y=h>>>0;u.putInt32(y);for(var S=new Array(r.length),g=0;g<r.length;++g)S[g]=r[g].slice(0);S1(S,n,u);var I=Me.util.createBuffer(),k;t==="SHA-512"?k=S.length:t==="SHA-384"?k=S.length-2:k=S.length-4;for(var g=0;g<k;++g)I.putInt32(S[g][0]),(g!==k-1||t!=="SHA-512/224")&&I.putInt32(S[g][1]);return I},o};var pf=null,E1=!1,bf=null,tn=null;function P8(){pf=String.fromCharCode(128),pf+=Me.util.fillString(String.fromCharCode(0),128),bf=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],tn={},tn["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],tn["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],tn["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],tn["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],E1=!0}function S1(t,e,r){for(var i,n,s,a,o,u,c,f,h,d,y,g,S,I,k,R,M,F,L,D,j,z,Q,E,l,b,v,x,m,C,A,w,p,_,U,V=r.length();V>=128;){for(m=0;m<16;++m)e[m][0]=r.getInt32()>>>0,e[m][1]=r.getInt32()>>>0;for(;m<80;++m)w=e[m-2],C=w[0],A=w[1],i=((C>>>19|A<<13)^(A>>>29|C<<3)^C>>>6)>>>0,n=((C<<13|A>>>19)^(A<<3|C>>>29)^(C<<26|A>>>6))>>>0,_=e[m-15],C=_[0],A=_[1],s=((C>>>1|A<<31)^(C>>>8|A<<24)^C>>>7)>>>0,a=((C<<31|A>>>1)^(C<<24|A>>>8)^(C<<25|A>>>7))>>>0,p=e[m-7],U=e[m-16],A=n+p[1]+a+U[1],e[m][0]=i+p[0]+s+U[0]+(A/4294967296>>>0)>>>0,e[m][1]=A>>>0;for(S=t[0][0],I=t[0][1],k=t[1][0],R=t[1][1],M=t[2][0],F=t[2][1],L=t[3][0],D=t[3][1],j=t[4][0],z=t[4][1],Q=t[5][0],E=t[5][1],l=t[6][0],b=t[6][1],v=t[7][0],x=t[7][1],m=0;m<80;++m)c=((j>>>14|z<<18)^(j>>>18|z<<14)^(z>>>9|j<<23))>>>0,f=((j<<18|z>>>14)^(j<<14|z>>>18)^(z<<23|j>>>9))>>>0,h=(l^j&(Q^l))>>>0,d=(b^z&(E^b))>>>0,o=((S>>>28|I<<4)^(I>>>2|S<<30)^(I>>>7|S<<25))>>>0,u=((S<<4|I>>>28)^(I<<30|S>>>2)^(I<<25|S>>>7))>>>0,y=(S&k|M&(S^k))>>>0,g=(I&R|F&(I^R))>>>0,A=x+f+d+bf[m][1]+e[m][1],i=v+c+h+bf[m][0]+e[m][0]+(A/4294967296>>>0)>>>0,n=A>>>0,A=u+g,s=o+y+(A/4294967296>>>0)>>>0,a=A>>>0,v=l,x=b,l=Q,b=E,Q=j,E=z,A=D+n,j=L+i+(A/4294967296>>>0)>>>0,z=A>>>0,L=M,D=F,M=k,F=R,k=S,R=I,A=n+a,S=i+s+(A/4294967296>>>0)>>>0,I=A>>>0;A=t[0][1]+I,t[0][0]=t[0][0]+S+(A/4294967296>>>0)>>>0,t[0][1]=A>>>0,A=t[1][1]+R,t[1][0]=t[1][0]+k+(A/4294967296>>>0)>>>0,t[1][1]=A>>>0,A=t[2][1]+F,t[2][0]=t[2][0]+M+(A/4294967296>>>0)>>>0,t[2][1]=A>>>0,A=t[3][1]+D,t[3][0]=t[3][0]+L+(A/4294967296>>>0)>>>0,t[3][1]=A>>>0,A=t[4][1]+z,t[4][0]=t[4][0]+j+(A/4294967296>>>0)>>>0,t[4][1]=A>>>0,A=t[5][1]+E,t[5][0]=t[5][0]+Q+(A/4294967296>>>0)>>>0,t[5][1]=A>>>0,A=t[6][1]+b,t[6][0]=t[6][0]+l+(A/4294967296>>>0)>>>0,t[6][1]=A>>>0,A=t[7][1]+x,t[7][0]=t[7][0]+v+(A/4294967296>>>0)>>>0,t[7][1]=A>>>0,V-=128}}});var I1=T(gf=>{var D8=me();Pn();var It=D8.asn1;gf.privateKeyValidator={name:"PrivateKeyInfo",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:It.Class.UNIVERSAL,type:It.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:It.Class.UNIVERSAL,type:It.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:It.Class.UNIVERSAL,type:It.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};gf.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:It.Class.UNIVERSAL,type:It.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:It.Class.UNIVERSAL,type:It.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Af=T((OE,A1)=>{var Rt=me();_s();Nn();yf();Fe();var k1=I1(),O8=k1.publicKeyValidator,N8=k1.privateKeyValidator;typeof C1=="undefined"&&(C1=Rt.jsbn.BigInteger);var C1,vf=Rt.util.ByteBuffer,zt=typeof Buffer=="undefined"?Uint8Array:Buffer;Rt.pki=Rt.pki||{};A1.exports=Rt.pki.ed25519=Rt.ed25519=Rt.ed25519||{};var he=Rt.ed25519;he.constants={};he.constants.PUBLIC_KEY_BYTE_LENGTH=32;he.constants.PRIVATE_KEY_BYTE_LENGTH=64;he.constants.SEED_BYTE_LENGTH=32;he.constants.SIGN_BYTE_LENGTH=64;he.constants.HASH_BYTE_LENGTH=64;he.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Rt.random.getBytesSync(he.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==he.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+he.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ri({message:e,encoding:"binary"});for(var r=new zt(he.constants.PUBLIC_KEY_BYTE_LENGTH),i=new zt(he.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return L8(r,i),{publicKey:r,privateKey:i}};he.privateKeyFromAsn1=function(t){var e={},r=[],i=Rt.asn1.validate(t,N8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var s=Rt.asn1.derToOid(e.privateKeyOid),a=Rt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var o=e.privateKey,u=ri({message:Rt.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:u}};he.publicKeyFromAsn1=function(t){var e={},r=[],i=Rt.asn1.validate(t,O8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var s=Rt.asn1.derToOid(e.publicKeyOid),a=Rt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var o=e.ed25519PublicKey;if(o.length!==he.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ri({message:o,encoding:"binary"})};he.publicKeyFromPrivateKey=function(t){t=t||{};var e=ri({message:t.privateKey,encoding:"binary"});if(e.length!==he.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+he.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new zt(he.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<r.length;++i)r[i]=e[32+i];return r};he.sign=function(t){t=t||{};var e=ri(t),r=ri({message:t.privateKey,encoding:"binary"});if(r.length===he.constants.SEED_BYTE_LENGTH){var i=he.generateKeyPair({seed:r});r=i.privateKey}else if(r.length!==he.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+he.constants.SEED_BYTE_LENGTH+" or "+he.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new zt(he.constants.SIGN_BYTE_LENGTH+e.length);q8(n,e,e.length,r);for(var s=new zt(he.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=n[a];return s};he.verify=function(t){t=t||{};var e=ri(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ri({message:t.signature,encoding:"binary"});if(r.length!==he.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+he.constants.SIGN_BYTE_LENGTH);var i=ri({message:t.publicKey,encoding:"binary"});if(i.length!==he.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+he.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new zt(he.constants.SIGN_BYTE_LENGTH+e.length),s=new zt(he.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<he.constants.SIGN_BYTE_LENGTH;++a)n[a]=r[a];for(a=0;a<e.length;++a)n[a+he.constants.SIGN_BYTE_LENGTH]=e[a];return F8(s,n,n.length,i)>=0};function ri(t){var e=t.message;if(e instanceof Uint8Array||e instanceof zt)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new vf(e,r)}else if(!(e instanceof vf))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new zt(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var xf=Z(),Ka=Z([1]),K8=Z([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),U8=Z([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),B1=Z([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),T1=Z([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),mf=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),G8=Z([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function As(t,e){var r=Rt.md.sha512.create(),i=new vf(t);r.update(i.getBytes(e),"binary");var n=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var s=new zt(he.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=n.charCodeAt(a);return s}function L8(t,e){var r=[Z(),Z(),Z(),Z()],i,n=As(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,_f(r,n),wf(t,r),i=0;i<32;++i)e[i+32]=t[i];return 0}function q8(t,e,r,i){var n,s,a=new Float64Array(64),o=[Z(),Z(),Z(),Z()],u=As(i,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=r+64;for(n=0;n<r;++n)t[64+n]=e[n];for(n=0;n<32;++n)t[32+n]=u[32+n];var f=As(t.subarray(32),r+32);for(Ef(f),_f(o,f),wf(t,o),n=32;n<64;++n)t[n]=i[n];var h=As(t,r+64);for(Ef(h),n=32;n<64;++n)a[n]=0;for(n=0;n<32;++n)a[n]=f[n];for(n=0;n<32;++n)for(s=0;s<32;s++)a[n+s]+=h[n]*u[s];return R1(t.subarray(32),a),c}function F8(t,e,r,i){var n,s,a=new zt(32),o=[Z(),Z(),Z(),Z()],u=[Z(),Z(),Z(),Z()];if(s=-1,r<64||z8(u,i))return-1;for(n=0;n<r;++n)t[n]=e[n];for(n=0;n<32;++n)t[n+32]=i[n];var c=As(t,r);if(Ef(c),P1(o,u,c),_f(u,e.subarray(32)),Sf(o,u),wf(a,o),r-=64,M1(e,0,a,0)){for(n=0;n<r;++n)t[n]=0;return-1}for(n=0;n<r;++n)t[n]=e[n+64];return s=r,s}function R1(t,e){var r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*mf[n-(i-32)],r=e[n]+128>>8,e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;++n)e[n]+=r-(e[31]>>4)*mf[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=r*mf[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function Ef(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;R1(t,e)}function Sf(t,e){var r=Z(),i=Z(),n=Z(),s=Z(),a=Z(),o=Z(),u=Z(),c=Z(),f=Z();Un(r,t[1],t[0]),Un(f,e[1],e[0]),Ee(r,r,f),Kn(i,t[0],t[1]),Kn(f,e[0],e[1]),Ee(i,i,f),Ee(n,t[3],e[3]),Ee(n,n,U8),Ee(s,t[2],e[2]),Kn(s,s,s),Un(a,i,r),Un(o,s,n),Kn(u,s,n),Kn(c,i,r),Ee(t[0],a,o),Ee(t[1],c,u),Ee(t[2],u,o),Ee(t[3],a,c)}function O1(t,e,r){for(var i=0;i<4;++i)D1(t[i],e[i],r)}function wf(t,e){var r=Z(),i=Z(),n=Z();V8(n,e[2]),Ee(r,e[0],n),Ee(i,e[1],n),Ua(t,i),t[31]^=N1(r)<<7}function Ua(t,e){var r,i,n,s=Z(),a=Z();for(r=0;r<16;++r)a[r]=e[r];for(If(a),If(a),If(a),i=0;i<2;++i){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),n=s[15]>>16&1,s[14]&=65535,D1(a,s,1-n)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}function z8(t,e){var r=Z(),i=Z(),n=Z(),s=Z(),a=Z(),o=Z(),u=Z();return Ai(t[2],Ka),H8(t[1],e),rn(n,t[1]),Ee(s,n,K8),Un(n,n,t[2]),Kn(s,t[2],s),rn(a,s),rn(o,a),Ee(u,o,a),Ee(r,u,n),Ee(r,r,s),j8(r,r),Ee(r,r,n),Ee(r,r,s),Ee(r,r,s),Ee(t[0],r,s),rn(i,t[0]),Ee(i,i,s),L1(i,n)&&Ee(t[0],t[0],G8),rn(i,t[0]),Ee(i,i,s),L1(i,n)?-1:(N1(t[0])===e[31]>>7&&Un(t[0],xf,t[0]),Ee(t[3],t[0],t[1]),0)}function H8(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function j8(t,e){var r=Z(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=250;i>=0;--i)rn(r,r),i!==1&&Ee(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function L1(t,e){var r=new zt(32),i=new zt(32);return Ua(r,t),Ua(i,e),M1(r,0,i,0)}function M1(t,e,r,i){return W8(t,e,r,i,32)}function W8(t,e,r,i,n){var s,a=0;for(s=0;s<n;++s)a|=t[e+s]^r[i+s];return(1&a-1>>>8)-1}function N1(t){var e=new zt(32);return Ua(e,t),e[0]&1}function P1(t,e,r){var i,n;for(Ai(t[0],xf),Ai(t[1],Ka),Ai(t[2],Ka),Ai(t[3],xf),n=255;n>=0;--n)i=r[n/8|0]>>(n&7)&1,O1(t,e,i),Sf(e,t),Sf(t,t),O1(t,e,i)}function _f(t,e){var r=[Z(),Z(),Z(),Z()];Ai(r[0],B1),Ai(r[1],T1),Ai(r[2],Ka),Ee(r[3],B1,T1),P1(t,r,e)}function Ai(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function V8(t,e){var r=Z(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=253;i>=0;--i)rn(r,r),i!==2&&i!==4&&Ee(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function If(t){var e,r,i=1;for(e=0;e<16;++e)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-i*65536;t[0]+=i-1+37*(i-1)}function D1(t,e,r){for(var i,n=~(r-1),s=0;s<16;++s)i=n&(t[s]^e[s]),t[s]^=i,e[s]^=i}function Z(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function Kn(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]+r[i]}function Un(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]-r[i]}function rn(t,e){Ee(t,e,e)}function Ee(t,e,r){var i,n,s=0,a=0,o=0,u=0,c=0,f=0,h=0,d=0,y=0,g=0,S=0,I=0,k=0,R=0,M=0,F=0,L=0,D=0,j=0,z=0,Q=0,E=0,l=0,b=0,v=0,x=0,m=0,C=0,A=0,w=0,p=0,_=r[0],U=r[1],V=r[2],W=r[3],J=r[4],X=r[5],ee=r[6],Re=r[7],te=r[8],ne=r[9],yt=r[10],ae=r[11],oe=r[12],gt=r[13],fe=r[14],ce=r[15];i=e[0],s+=i*_,a+=i*U,o+=i*V,u+=i*W,c+=i*J,f+=i*X,h+=i*ee,d+=i*Re,y+=i*te,g+=i*ne,S+=i*yt,I+=i*ae,k+=i*oe,R+=i*gt,M+=i*fe,F+=i*ce,i=e[1],a+=i*_,o+=i*U,u+=i*V,c+=i*W,f+=i*J,h+=i*X,d+=i*ee,y+=i*Re,g+=i*te,S+=i*ne,I+=i*yt,k+=i*ae,R+=i*oe,M+=i*gt,F+=i*fe,L+=i*ce,i=e[2],o+=i*_,u+=i*U,c+=i*V,f+=i*W,h+=i*J,d+=i*X,y+=i*ee,g+=i*Re,S+=i*te,I+=i*ne,k+=i*yt,R+=i*ae,M+=i*oe,F+=i*gt,L+=i*fe,D+=i*ce,i=e[3],u+=i*_,c+=i*U,f+=i*V,h+=i*W,d+=i*J,y+=i*X,g+=i*ee,S+=i*Re,I+=i*te,k+=i*ne,R+=i*yt,M+=i*ae,F+=i*oe,L+=i*gt,D+=i*fe,j+=i*ce,i=e[4],c+=i*_,f+=i*U,h+=i*V,d+=i*W,y+=i*J,g+=i*X,S+=i*ee,I+=i*Re,k+=i*te,R+=i*ne,M+=i*yt,F+=i*ae,L+=i*oe,D+=i*gt,j+=i*fe,z+=i*ce,i=e[5],f+=i*_,h+=i*U,d+=i*V,y+=i*W,g+=i*J,S+=i*X,I+=i*ee,k+=i*Re,R+=i*te,M+=i*ne,F+=i*yt,L+=i*ae,D+=i*oe,j+=i*gt,z+=i*fe,Q+=i*ce,i=e[6],h+=i*_,d+=i*U,y+=i*V,g+=i*W,S+=i*J,I+=i*X,k+=i*ee,R+=i*Re,M+=i*te,F+=i*ne,L+=i*yt,D+=i*ae,j+=i*oe,z+=i*gt,Q+=i*fe,E+=i*ce,i=e[7],d+=i*_,y+=i*U,g+=i*V,S+=i*W,I+=i*J,k+=i*X,R+=i*ee,M+=i*Re,F+=i*te,L+=i*ne,D+=i*yt,j+=i*ae,z+=i*oe,Q+=i*gt,E+=i*fe,l+=i*ce,i=e[8],y+=i*_,g+=i*U,S+=i*V,I+=i*W,k+=i*J,R+=i*X,M+=i*ee,F+=i*Re,L+=i*te,D+=i*ne,j+=i*yt,z+=i*ae,Q+=i*oe,E+=i*gt,l+=i*fe,b+=i*ce,i=e[9],g+=i*_,S+=i*U,I+=i*V,k+=i*W,R+=i*J,M+=i*X,F+=i*ee,L+=i*Re,D+=i*te,j+=i*ne,z+=i*yt,Q+=i*ae,E+=i*oe,l+=i*gt,b+=i*fe,v+=i*ce,i=e[10],S+=i*_,I+=i*U,k+=i*V,R+=i*W,M+=i*J,F+=i*X,L+=i*ee,D+=i*Re,j+=i*te,z+=i*ne,Q+=i*yt,E+=i*ae,l+=i*oe,b+=i*gt,v+=i*fe,x+=i*ce,i=e[11],I+=i*_,k+=i*U,R+=i*V,M+=i*W,F+=i*J,L+=i*X,D+=i*ee,j+=i*Re,z+=i*te,Q+=i*ne,E+=i*yt,l+=i*ae,b+=i*oe,v+=i*gt,x+=i*fe,m+=i*ce,i=e[12],k+=i*_,R+=i*U,M+=i*V,F+=i*W,L+=i*J,D+=i*X,j+=i*ee,z+=i*Re,Q+=i*te,E+=i*ne,l+=i*yt,b+=i*ae,v+=i*oe,x+=i*gt,m+=i*fe,C+=i*ce,i=e[13],R+=i*_,M+=i*U,F+=i*V,L+=i*W,D+=i*J,j+=i*X,z+=i*ee,Q+=i*Re,E+=i*te,l+=i*ne,b+=i*yt,v+=i*ae,x+=i*oe,m+=i*gt,C+=i*fe,A+=i*ce,i=e[14],M+=i*_,F+=i*U,L+=i*V,D+=i*W,j+=i*J,z+=i*X,Q+=i*ee,E+=i*Re,l+=i*te,b+=i*ne,v+=i*yt,x+=i*ae,m+=i*oe,C+=i*gt,A+=i*fe,w+=i*ce,i=e[15],F+=i*_,L+=i*U,D+=i*V,j+=i*W,z+=i*J,Q+=i*X,E+=i*ee,l+=i*Re,b+=i*te,v+=i*ne,x+=i*yt,m+=i*ae,C+=i*oe,A+=i*gt,w+=i*fe,p+=i*ce,s+=38*L,a+=38*D,o+=38*j,u+=38*z,c+=38*Q,f+=38*E,h+=38*l,d+=38*b,y+=38*v,g+=38*x,S+=38*m,I+=38*C,k+=38*A,R+=38*w,M+=38*p,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=k+n+65535,n=Math.floor(i/65536),k=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=M+n+65535,n=Math.floor(i/65536),M=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=k+n+65535,n=Math.floor(i/65536),k=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=M+n+65535,n=Math.floor(i/65536),M=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,s+=n-1+37*(n-1),t[0]=s,t[1]=a,t[2]=o,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=d,t[8]=y,t[9]=g,t[10]=S,t[11]=I,t[12]=k,t[13]=R,t[14]=M,t[15]=F}});var Ga=T(ks=>{"use strict";Fe();_s();var Y8=me(),J8=$t(),q1=Jt(),F1=Cr();ks.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=F1([new Uint8Array(e-r.length),r])}return q1(r,"base64url")};ks.base64urlToBigInteger=t=>{let e=ks.base64urlToBuffer(t);return new Y8.jsbn.BigInteger(q1(e,"base16"),16)};ks.base64urlToBuffer=(t,e)=>{let r=J8(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=F1([new Uint8Array(e-r.length),r])}return r}});var G1=T(Cs=>{"use strict";Pn();Fa();var ki=me(),{bigIntegerToUintBase64url:Or,base64urlToBigInteger:Nr}=Ga(),K1=$t(),U1=Jt();Cs.pkcs1ToJwk=function(t){let e=ki.asn1.fromDer(U1(t,"ascii")),r=ki.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Or(r.n),e:Or(r.e),d:Or(r.d),p:Or(r.p),q:Or(r.q),dp:Or(r.dP),dq:Or(r.dQ),qi:Or(r.qInv),alg:"RS256",kid:"2011-04-29"}};Cs.jwkToPkcs1=function(t){let e=ki.pki.privateKeyToAsn1({n:Nr(t.n),e:Nr(t.e),d:Nr(t.d),p:Nr(t.p),q:Nr(t.q),dP:Nr(t.dp),dQ:Nr(t.dq),qInv:Nr(t.qi)});return K1(ki.asn1.toDer(e).getBytes(),"ascii")};Cs.pkixToJwk=function(t){let e=ki.asn1.fromDer(U1(t,"ascii")),r=ki.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Or(r.n),e:Or(r.e),alg:"RS256",kid:"2011-04-29"}};Cs.jwkToPkix=function(t){let e=ki.pki.publicKeyToAsn1({n:Nr(t.n),e:Nr(t.e)});return K1(ki.asn1.toDer(e).getBytes(),"ascii")}});var j1=T((qE,z1)=>{"use strict";Fa();var V1=me(),{base64urlToBigInteger:$8}=Ga();function H1(t,e){return e.map(r=>$8(t[r]))}function Z8(t){return V1.pki.setRsaPrivateKey(...H1(t,["n","e","d","p","q","dp","dq","qi"]))}function X8(t){return V1.pki.setRsaPublicKey(...H1(t,["n","e"]))}z1.exports={jwk2pub:X8,jwk2priv:Z8}});var J1=T(ii=>{"use strict";var ni=Es(),Q8=la(),e5=Jt(),t5=$t();ii.utils=G1();ii.generateKey=async function(t){let e=await ni.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await W1(e);return{privateKey:r[0],publicKey:r[1]}};ii.unmarshalPrivateKey=async function(t){let r=[await ni.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await r5(t)],i=await W1({privateKey:r[0],publicKey:r[1]});return{privateKey:i[0],publicKey:i[1]}};ii.getRandomValues=Q8;ii.hashAndSign=async function(t,e){let r=await ni.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await ni.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};ii.hashAndVerify=async function(t,e,r){let i=await ni.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return ni.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,r)};function W1(t){return Promise.all([ni.get().subtle.exportKey("jwk",t.privateKey),ni.get().subtle.exportKey("jwk",t.publicKey)])}function r5(t){return ni.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:i5,jwk2priv:n5}=j1();function Y1(t,e,r,i){let n=e?i5(t):n5(t),s=e5(Uint8Array.from(r),"ascii"),a=i(s,n);return t5(a,"ascii")}ii.encrypt=function(t,e){return Y1(t,!0,e,(r,i)=>i.encrypt(r))};ii.decrypt=function(t,e){return Y1(t,!1,e,(r,i)=>i.decrypt(r))}});var za=T((KE,$1)=>{"use strict";var s5=ji(),a5=lf();$1.exports={export:async function(t,e){let i=await a5.create().encrypt(t,e);return s5.names.base64.encode(i)}}});var t2=T((UE,Z1)=>{"use strict";var X1=Ss(),Q1=Yt(),e2=wi(),o5=Jt();yf();Af();var Va=me(),nr=J1(),Ha=_a(),f5=za(),ja=class{constructor(e){this._key=e}async verify(e,r){return nr.hashAndVerify(this._key,r,e)}marshal(){return nr.utils.jwkToPkix(this._key)}get bytes(){return Ha.PublicKey.encode({Type:Ha.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return nr.encrypt(this._key,e)}equals(e){return e2(this.bytes,e.bytes)}async hash(){return X1.multihashing(this.bytes,"sha2-256")}},Bs=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return nr.getRandomValues(16)}async sign(e){return nr.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw Q1(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new ja(this._publicKey)}decrypt(e){return nr.decrypt(this._key,e)}marshal(){return nr.utils.jwkToPkcs1(this._key)}get bytes(){return Ha.PrivateKey.encode({Type:Ha.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return e2(this.bytes,e.bytes)}async hash(){return X1.multihashing(this.bytes,"sha2-256")}async id(){let e=await this.public.hash();return o5(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let i=new Va.util.ByteBuffer(this.marshal()),n=Va.asn1.fromDer(i),s=Va.pki.privateKeyFromAsn1(n),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Va.pki.encryptRsaPrivateKey(s,e,a)}else{if(r==="libp2p-key")return f5.export(this.bytes,e);throw Q1(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function c5(t){let e=nr.utils.pkcs1ToJwk(t),r=await nr.unmarshalPrivateKey(e);return new Bs(r.privateKey,r.publicKey)}function u5(t){let e=nr.utils.pkixToJwk(t);return new ja(e)}async function h5(t){let e=await nr.unmarshalPrivateKey(t);return new Bs(e.privateKey,e.publicKey)}async function l5(t){let e=await nr.generateKey(t);return new Bs(e.privateKey,e.publicKey)}Z1.exports={RsaPublicKey:ja,RsaPrivateKey:Bs,unmarshalRsaPublicKey:u5,unmarshalRsaPrivateKey:c5,generateKeyPair:l5,fromJwk:h5}});var r2=T(nn=>{"use strict";Af();var Gn=me();nn.publicKeyLength=Gn.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;nn.privateKeyLength=Gn.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;nn.generateKey=async function(){return Gn.pki.ed25519.generateKeyPair()};nn.generateKeyFromSeed=async function(t){return Gn.pki.ed25519.generateKeyPair({seed:t})};nn.hashAndSign=async function(t,e){return Gn.pki.ed25519.sign({message:e,privateKey:t})};nn.hashAndVerify=async function(t,e,r){return Gn.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var f2=T((zE,i2)=>{"use strict";var n2=Ss(),s2=Yt(),a2=wi(),o2=Wi(),Ot=r2(),Wa=_a(),d5=za(),Ya=class{constructor(e){this._key=zn(e,Ot.publicKeyLength)}async verify(e,r){return Ot.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return Wa.PublicKey.encode({Type:Wa.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return a2(this.bytes,e.bytes)}async hash(){return n2.multihashing(this.bytes,"sha2-256")}},Vn=class{constructor(e,r){this._key=zn(e,Ot.privateKeyLength),this._publicKey=zn(r,Ot.publicKeyLength)}async sign(e){return Ot.hashAndSign(this._key,e)}get public(){return new Ya(this._publicKey)}marshal(){return this._key}get bytes(){return Wa.PrivateKey.encode({Type:Wa.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return a2(this.bytes,e.bytes)}async hash(){return n2.multihashing(this.bytes,"sha2-256")}async id(){let e=o2.encode(this.public.bytes,"identity");return await o2.toB58String(e)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return d5.export(this.bytes,e);throw s2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function p5(t){if(t.length>Ot.privateKeyLength){t=zn(t,Ot.privateKeyLength+Ot.publicKeyLength);let i=t.slice(0,Ot.privateKeyLength),n=t.slice(Ot.privateKeyLength,t.length);return new Vn(i,n)}t=zn(t,Ot.privateKeyLength);let e=t.slice(0,Ot.privateKeyLength),r=t.slice(Ot.publicKeyLength);return new Vn(e,r)}function b5(t){return t=zn(t,Ot.publicKeyLength),new Ya(t)}async function y5(){let{privateKey:t,publicKey:e}=await Ot.generateKey();return new Vn(t,e)}async function g5(t){let{privateKey:e,publicKey:r}=await Ot.generateKeyFromSeed(t);return new Vn(e,r)}function zn(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw s2(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}i2.exports={Ed25519PublicKey:Ya,Ed25519PrivateKey:Vn,unmarshalEd25519PrivateKey:p5,unmarshalEd25519PublicKey:b5,generateKeyPair:y5,generateKeyPairFromSeed:g5}});var u2=T((VE,c2)=>{var xe={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function sr(t,e){if(!t)throw new Error(e)}function pe(t,e,r){if(sr(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;sr(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;sr(e.length===r,i)}}function sn(t){sr(Hn(t)==="Boolean","Expected compressed to be a Boolean")}function br(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),pe("output",t,e),t}function Hn(t){return Object.prototype.toString.call(t).slice(8,-1)}c2.exports=t=>({contextRandomize(e){switch(sr(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&pe("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(xe.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return pe("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(pe("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(xe.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(pe("private key",e,32),pe("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(xe.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(pe("private key",e,32),pe("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(xe.TWEAK_MUL)}},publicKeyVerify(e){return pe("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(pe("private key",e,32),sn(r),i=br(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(xe.SECKEY_INVALID);case 2:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(pe("public key",e,[33,65]),sn(r),i=br(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(pe("public key",e,[33,65]),sn(r),i=br(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.IMPOSSIBLE_CASE);case 3:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){sr(Array.isArray(e),"Expected public keys to be an Array"),sr(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)pe("public key",n,[33,65]);switch(sn(r),i=br(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.PUBKEY_COMBINE);case 3:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(pe("public key",e,[33,65]),pe("tweak",r,32),sn(i),n=br(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(pe("public key",e,[33,65]),pe("tweak",r,32),sn(i),n=br(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.TWEAK_MUL)}},signatureNormalize(e){switch(pe("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(xe.SIG_PARSE)}},signatureExport(e,r){pe("signature",e,64),r=br(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(pe("signature",e),r=br(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){pe("message",e,32),pe("private key",r,32),sr(Hn(i)==="Object","Expected options to be an Object"),i.data!==void 0&&pe("options.data",i.data),i.noncefn!==void 0&&sr(Hn(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=br(n,64);let s={signature:n,recid:null};switch(t.ecdsaSign(s,e,r,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(xe.SIGN);case 2:throw new Error(xe.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(pe("signature",e,64),pe("message",r,32),pe("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,s){switch(pe("signature",e,64),sr(Hn(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),pe("message",i,32),sn(n),s=br(s,n?33:65),t.ecdsaRecover(s,e,r,i)){case 0:return s;case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.RECOVER);case 3:throw new Error(xe.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(pe("public key",e,[33,65]),pe("private key",r,32),sr(Hn(i)==="Object","Expected options to be an Object"),i.data!==void 0&&pe("options.data",i.data),i.hashfn!==void 0?(sr(Hn(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&pe("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&pe("options.ybuf",i.ybuf,32),pe("output",n)):n=br(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.ECDH)}}})});var l2=T((HE,h2)=>{h2.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var d2=T(()=>{});var Lr=T((p2,kf)=>{(function(t,e){"use strict";function r(E,l){if(!E)throw new Error(l||"Assertion failed")}function i(E,l){E.super_=l;var b=function(){};b.prototype=l.prototype,E.prototype=new b,E.prototype.constructor=E}function n(E,l,b){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((l==="le"||l==="be")&&(b=l,l=10),this._init(E||0,l||10,b||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=d2().Buffer}catch(E){}n.isBN=function(l){return l instanceof n?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===n.wordSize&&Array.isArray(l.words)},n.max=function(l,b){return l.cmp(b)>0?l:b},n.min=function(l,b){return l.cmp(b)<0?l:b},n.prototype._init=function(l,b,v){if(typeof l=="number")return this._initNumber(l,b,v);if(typeof l=="object")return this._initArray(l,b,v);b==="hex"&&(b=16),r(b===(b|0)&&b>=2&&b<=36),l=l.toString().replace(/\s+/g,"");var x=0;l[0]==="-"&&(x++,this.negative=1),x<l.length&&(b===16?this._parseHex(l,x,v):(this._parseBase(l,b,x),v==="le"&&this._initArray(this.toArray(),b,v)))},n.prototype._initNumber=function(l,b,v){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),b,v)},n.prototype._initArray=function(l,b,v){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var m,C,A=0;if(v==="be")for(x=l.length-1,m=0;x>=0;x-=3)C=l[x]|l[x-1]<<8|l[x-2]<<16,this.words[m]|=C<<A&67108863,this.words[m+1]=C>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);else if(v==="le")for(x=0,m=0;x<l.length;x+=3)C=l[x]|l[x+1]<<8|l[x+2]<<16,this.words[m]|=C<<A&67108863,this.words[m+1]=C>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);return this.strip()};function a(E,l){var b=E.charCodeAt(l);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function o(E,l,b){var v=a(E,b);return b-1>=l&&(v|=a(E,b-1)<<4),v}n.prototype._parseHex=function(l,b,v){this.length=Math.ceil((l.length-b)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var m=0,C=0,A;if(v==="be")for(x=l.length-1;x>=b;x-=2)A=o(l,b,x)<<m,this.words[C]|=A&67108863,m>=18?(m-=18,C+=1,this.words[C]|=A>>>26):m+=8;else{var w=l.length-b;for(x=w%2==0?b+1:b;x<l.length;x+=2)A=o(l,b,x)<<m,this.words[C]|=A&67108863,m>=18?(m-=18,C+=1,this.words[C]|=A>>>26):m+=8}this.strip()};function u(E,l,b,v){for(var x=0,m=Math.min(E.length,b),C=l;C<m;C++){var A=E.charCodeAt(C)-48;x*=v,A>=49?x+=A-49+10:A>=17?x+=A-17+10:x+=A}return x}n.prototype._parseBase=function(l,b,v){this.words=[0],this.length=1;for(var x=0,m=1;m<=67108863;m*=b)x++;x--,m=m/b|0;for(var C=l.length-v,A=C%x,w=Math.min(C,C-A)+v,p=0,_=v;_<w;_+=x)p=u(l,_,_+x,b),this.imuln(m),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(A!==0){var U=1;for(p=u(l,_,l.length,b),_=0;_<A;_++)U*=b;this.imuln(U),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},n.prototype.copy=function(l){l.words=new Array(this.length);for(var b=0;b<this.length;b++)l.words[b]=this.words[b];l.length=this.length,l.negative=this.negative,l.red=this.red},n.prototype.clone=function(){var l=new n(null);return this.copy(l),l},n.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(l,b){l=l||10,b=b|0||1;var v;if(l===16||l==="hex"){v="";for(var x=0,m=0,C=0;C<this.length;C++){var A=this.words[C],w=((A<<x|m)&16777215).toString(16);m=A>>>24-x&16777215,m!==0||C!==this.length-1?v=c[6-w.length]+w+v:v=w+v,x+=2,x>=26&&(x-=26,C--)}for(m!==0&&(v=m.toString(16)+v);v.length%b!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(l===(l|0)&&l>=2&&l<=36){var p=f[l],_=h[l];v="";var U=this.clone();for(U.negative=0;!U.isZero();){var V=U.modn(_).toString(l);U=U.idivn(_),U.isZero()?v=V+v:v=c[p-V.length]+V+v}for(this.isZero()&&(v="0"+v);v.length%b!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(l,b){return r(typeof s!="undefined"),this.toArrayLike(s,l,b)},n.prototype.toArray=function(l,b){return this.toArrayLike(Array,l,b)},n.prototype.toArrayLike=function(l,b,v){var x=this.byteLength(),m=v||Math.max(1,x);r(x<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0"),this.strip();var C=b==="le",A=new l(m),w,p,_=this.clone();if(C){for(p=0;!_.isZero();p++)w=_.andln(255),_.iushrn(8),A[p]=w;for(;p<m;p++)A[p]=0}else{for(p=0;p<m-x;p++)A[p]=0;for(p=0;!_.isZero();p++)w=_.andln(255),_.iushrn(8),A[m-p-1]=w}return A},Math.clz32?n.prototype._countBits=function(l){return 32-Math.clz32(l)}:n.prototype._countBits=function(l){var b=l,v=0;return b>=4096&&(v+=13,b>>>=13),b>=64&&(v+=7,b>>>=7),b>=8&&(v+=4,b>>>=4),b>=2&&(v+=2,b>>>=2),v+b},n.prototype._zeroBits=function(l){if(l===0)return 26;var b=l,v=0;return(b&8191)==0&&(v+=13,b>>>=13),(b&127)==0&&(v+=7,b>>>=7),(b&15)==0&&(v+=4,b>>>=4),(b&3)==0&&(v+=2,b>>>=2),(b&1)==0&&v++,v},n.prototype.bitLength=function(){var l=this.words[this.length-1],b=this._countBits(l);return(this.length-1)*26+b};function d(E){for(var l=new Array(E.bitLength()),b=0;b<l.length;b++){var v=b/26|0,x=b%26;l[b]=(E.words[v]&1<<x)>>>x}return l}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,b=0;b<this.length;b++){var v=this._zeroBits(this.words[b]);if(l+=v,v!==26)break}return l},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},n.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var b=0;b<l.length;b++)this.words[b]=this.words[b]|l.words[b];return this.strip()},n.prototype.ior=function(l){return r((this.negative|l.negative)==0),this.iuor(l)},n.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},n.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},n.prototype.iuand=function(l){var b;this.length>l.length?b=l:b=this;for(var v=0;v<b.length;v++)this.words[v]=this.words[v]&l.words[v];return this.length=b.length,this.strip()},n.prototype.iand=function(l){return r((this.negative|l.negative)==0),this.iuand(l)},n.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},n.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},n.prototype.iuxor=function(l){var b,v;this.length>l.length?(b=this,v=l):(b=l,v=this);for(var x=0;x<v.length;x++)this.words[x]=b.words[x]^v.words[x];if(this!==b)for(;x<b.length;x++)this.words[x]=b.words[x];return this.length=b.length,this.strip()},n.prototype.ixor=function(l){return r((this.negative|l.negative)==0),this.iuxor(l)},n.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},n.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},n.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var b=Math.ceil(l/26)|0,v=l%26;this._expand(b),v>0&&b--;for(var x=0;x<b;x++)this.words[x]=~this.words[x]&67108863;return v>0&&(this.words[x]=~this.words[x]&67108863>>26-v),this.strip()},n.prototype.notn=function(l){return this.clone().inotn(l)},n.prototype.setn=function(l,b){r(typeof l=="number"&&l>=0);var v=l/26|0,x=l%26;return this._expand(v+1),b?this.words[v]=this.words[v]|1<<x:this.words[v]=this.words[v]&~(1<<x),this.strip()},n.prototype.iadd=function(l){var b;if(this.negative!==0&&l.negative===0)return this.negative=0,b=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,b=this.isub(l),l.negative=1,b._normSign();var v,x;this.length>l.length?(v=this,x=l):(v=l,x=this);for(var m=0,C=0;C<x.length;C++)b=(v.words[C]|0)+(x.words[C]|0)+m,this.words[C]=b&67108863,m=b>>>26;for(;m!==0&&C<v.length;C++)b=(v.words[C]|0)+m,this.words[C]=b&67108863,m=b>>>26;if(this.length=v.length,m!==0)this.words[this.length]=m,this.length++;else if(v!==this)for(;C<v.length;C++)this.words[C]=v.words[C];return this},n.prototype.add=function(l){var b;return l.negative!==0&&this.negative===0?(l.negative=0,b=this.sub(l),l.negative^=1,b):l.negative===0&&this.negative!==0?(this.negative=0,b=l.sub(this),this.negative=1,b):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},n.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var b=this.iadd(l);return l.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var v=this.cmp(l);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,m;v>0?(x=this,m=l):(x=l,m=this);for(var C=0,A=0;A<m.length;A++)b=(x.words[A]|0)-(m.words[A]|0)+C,C=b>>26,this.words[A]=b&67108863;for(;C!==0&&A<x.length;A++)b=(x.words[A]|0)+C,C=b>>26,this.words[A]=b&67108863;if(C===0&&A<x.length&&x!==this)for(;A<x.length;A++)this.words[A]=x.words[A];return this.length=Math.max(this.length,A),x!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(l){return this.clone().isub(l)};function y(E,l,b){b.negative=l.negative^E.negative;var v=E.length+l.length|0;b.length=v,v=v-1|0;var x=E.words[0]|0,m=l.words[0]|0,C=x*m,A=C&67108863,w=C/67108864|0;b.words[0]=A;for(var p=1;p<v;p++){for(var _=w>>>26,U=w&67108863,V=Math.min(p,l.length-1),W=Math.max(0,p-E.length+1);W<=V;W++){var J=p-W|0;x=E.words[J]|0,m=l.words[W]|0,C=x*m+U,_+=C/67108864|0,U=C&67108863}b.words[p]=U|0,w=_|0}return w!==0?b.words[p]=w|0:b.length--,b.strip()}var g=function(l,b,v){var x=l.words,m=b.words,C=v.words,A=0,w,p,_,U=x[0]|0,V=U&8191,W=U>>>13,J=x[1]|0,X=J&8191,ee=J>>>13,Re=x[2]|0,te=Re&8191,ne=Re>>>13,yt=x[3]|0,ae=yt&8191,oe=yt>>>13,gt=x[4]|0,fe=gt&8191,ce=gt>>>13,_c=x[5]|0,Ke=_c&8191,Ue=_c>>>13,Ec=x[6]|0,Ge=Ec&8191,ze=Ec>>>13,Sc=x[7]|0,Ve=Sc&8191,He=Sc>>>13,Ic=x[8]|0,je=Ic&8191,We=Ic>>>13,Ac=x[9]|0,Ye=Ac&8191,Je=Ac>>>13,kc=m[0]|0,$e=kc&8191,Ze=kc>>>13,Cc=m[1]|0,Xe=Cc&8191,Qe=Cc>>>13,Bc=m[2]|0,et=Bc&8191,tt=Bc>>>13,Tc=m[3]|0,rt=Tc&8191,it=Tc>>>13,Rc=m[4]|0,nt=Rc&8191,st=Rc>>>13,Mc=m[5]|0,at=Mc&8191,ot=Mc>>>13,Pc=m[6]|0,ft=Pc&8191,ct=Pc>>>13,Dc=m[7]|0,ut=Dc&8191,ht=Dc>>>13,Oc=m[8]|0,lt=Oc&8191,dt=Oc>>>13,Nc=m[9]|0,pt=Nc&8191,bt=Nc>>>13;v.negative=l.negative^b.negative,v.length=19,w=Math.imul(V,$e),p=Math.imul(V,Ze),p=p+Math.imul(W,$e)|0,_=Math.imul(W,Ze);var Co=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,w=Math.imul(X,$e),p=Math.imul(X,Ze),p=p+Math.imul(ee,$e)|0,_=Math.imul(ee,Ze),w=w+Math.imul(V,Xe)|0,p=p+Math.imul(V,Qe)|0,p=p+Math.imul(W,Xe)|0,_=_+Math.imul(W,Qe)|0;var Bo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,w=Math.imul(te,$e),p=Math.imul(te,Ze),p=p+Math.imul(ne,$e)|0,_=Math.imul(ne,Ze),w=w+Math.imul(X,Xe)|0,p=p+Math.imul(X,Qe)|0,p=p+Math.imul(ee,Xe)|0,_=_+Math.imul(ee,Qe)|0,w=w+Math.imul(V,et)|0,p=p+Math.imul(V,tt)|0,p=p+Math.imul(W,et)|0,_=_+Math.imul(W,tt)|0;var To=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(To>>>26)|0,To&=67108863,w=Math.imul(ae,$e),p=Math.imul(ae,Ze),p=p+Math.imul(oe,$e)|0,_=Math.imul(oe,Ze),w=w+Math.imul(te,Xe)|0,p=p+Math.imul(te,Qe)|0,p=p+Math.imul(ne,Xe)|0,_=_+Math.imul(ne,Qe)|0,w=w+Math.imul(X,et)|0,p=p+Math.imul(X,tt)|0,p=p+Math.imul(ee,et)|0,_=_+Math.imul(ee,tt)|0,w=w+Math.imul(V,rt)|0,p=p+Math.imul(V,it)|0,p=p+Math.imul(W,rt)|0,_=_+Math.imul(W,it)|0;var Ro=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,w=Math.imul(fe,$e),p=Math.imul(fe,Ze),p=p+Math.imul(ce,$e)|0,_=Math.imul(ce,Ze),w=w+Math.imul(ae,Xe)|0,p=p+Math.imul(ae,Qe)|0,p=p+Math.imul(oe,Xe)|0,_=_+Math.imul(oe,Qe)|0,w=w+Math.imul(te,et)|0,p=p+Math.imul(te,tt)|0,p=p+Math.imul(ne,et)|0,_=_+Math.imul(ne,tt)|0,w=w+Math.imul(X,rt)|0,p=p+Math.imul(X,it)|0,p=p+Math.imul(ee,rt)|0,_=_+Math.imul(ee,it)|0,w=w+Math.imul(V,nt)|0,p=p+Math.imul(V,st)|0,p=p+Math.imul(W,nt)|0,_=_+Math.imul(W,st)|0;var Mo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,w=Math.imul(Ke,$e),p=Math.imul(Ke,Ze),p=p+Math.imul(Ue,$e)|0,_=Math.imul(Ue,Ze),w=w+Math.imul(fe,Xe)|0,p=p+Math.imul(fe,Qe)|0,p=p+Math.imul(ce,Xe)|0,_=_+Math.imul(ce,Qe)|0,w=w+Math.imul(ae,et)|0,p=p+Math.imul(ae,tt)|0,p=p+Math.imul(oe,et)|0,_=_+Math.imul(oe,tt)|0,w=w+Math.imul(te,rt)|0,p=p+Math.imul(te,it)|0,p=p+Math.imul(ne,rt)|0,_=_+Math.imul(ne,it)|0,w=w+Math.imul(X,nt)|0,p=p+Math.imul(X,st)|0,p=p+Math.imul(ee,nt)|0,_=_+Math.imul(ee,st)|0,w=w+Math.imul(V,at)|0,p=p+Math.imul(V,ot)|0,p=p+Math.imul(W,at)|0,_=_+Math.imul(W,ot)|0;var Po=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Po>>>26)|0,Po&=67108863,w=Math.imul(Ge,$e),p=Math.imul(Ge,Ze),p=p+Math.imul(ze,$e)|0,_=Math.imul(ze,Ze),w=w+Math.imul(Ke,Xe)|0,p=p+Math.imul(Ke,Qe)|0,p=p+Math.imul(Ue,Xe)|0,_=_+Math.imul(Ue,Qe)|0,w=w+Math.imul(fe,et)|0,p=p+Math.imul(fe,tt)|0,p=p+Math.imul(ce,et)|0,_=_+Math.imul(ce,tt)|0,w=w+Math.imul(ae,rt)|0,p=p+Math.imul(ae,it)|0,p=p+Math.imul(oe,rt)|0,_=_+Math.imul(oe,it)|0,w=w+Math.imul(te,nt)|0,p=p+Math.imul(te,st)|0,p=p+Math.imul(ne,nt)|0,_=_+Math.imul(ne,st)|0,w=w+Math.imul(X,at)|0,p=p+Math.imul(X,ot)|0,p=p+Math.imul(ee,at)|0,_=_+Math.imul(ee,ot)|0,w=w+Math.imul(V,ft)|0,p=p+Math.imul(V,ct)|0,p=p+Math.imul(W,ft)|0,_=_+Math.imul(W,ct)|0;var Do=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Do>>>26)|0,Do&=67108863,w=Math.imul(Ve,$e),p=Math.imul(Ve,Ze),p=p+Math.imul(He,$e)|0,_=Math.imul(He,Ze),w=w+Math.imul(Ge,Xe)|0,p=p+Math.imul(Ge,Qe)|0,p=p+Math.imul(ze,Xe)|0,_=_+Math.imul(ze,Qe)|0,w=w+Math.imul(Ke,et)|0,p=p+Math.imul(Ke,tt)|0,p=p+Math.imul(Ue,et)|0,_=_+Math.imul(Ue,tt)|0,w=w+Math.imul(fe,rt)|0,p=p+Math.imul(fe,it)|0,p=p+Math.imul(ce,rt)|0,_=_+Math.imul(ce,it)|0,w=w+Math.imul(ae,nt)|0,p=p+Math.imul(ae,st)|0,p=p+Math.imul(oe,nt)|0,_=_+Math.imul(oe,st)|0,w=w+Math.imul(te,at)|0,p=p+Math.imul(te,ot)|0,p=p+Math.imul(ne,at)|0,_=_+Math.imul(ne,ot)|0,w=w+Math.imul(X,ft)|0,p=p+Math.imul(X,ct)|0,p=p+Math.imul(ee,ft)|0,_=_+Math.imul(ee,ct)|0,w=w+Math.imul(V,ut)|0,p=p+Math.imul(V,ht)|0,p=p+Math.imul(W,ut)|0,_=_+Math.imul(W,ht)|0;var Oo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,w=Math.imul(je,$e),p=Math.imul(je,Ze),p=p+Math.imul(We,$e)|0,_=Math.imul(We,Ze),w=w+Math.imul(Ve,Xe)|0,p=p+Math.imul(Ve,Qe)|0,p=p+Math.imul(He,Xe)|0,_=_+Math.imul(He,Qe)|0,w=w+Math.imul(Ge,et)|0,p=p+Math.imul(Ge,tt)|0,p=p+Math.imul(ze,et)|0,_=_+Math.imul(ze,tt)|0,w=w+Math.imul(Ke,rt)|0,p=p+Math.imul(Ke,it)|0,p=p+Math.imul(Ue,rt)|0,_=_+Math.imul(Ue,it)|0,w=w+Math.imul(fe,nt)|0,p=p+Math.imul(fe,st)|0,p=p+Math.imul(ce,nt)|0,_=_+Math.imul(ce,st)|0,w=w+Math.imul(ae,at)|0,p=p+Math.imul(ae,ot)|0,p=p+Math.imul(oe,at)|0,_=_+Math.imul(oe,ot)|0,w=w+Math.imul(te,ft)|0,p=p+Math.imul(te,ct)|0,p=p+Math.imul(ne,ft)|0,_=_+Math.imul(ne,ct)|0,w=w+Math.imul(X,ut)|0,p=p+Math.imul(X,ht)|0,p=p+Math.imul(ee,ut)|0,_=_+Math.imul(ee,ht)|0,w=w+Math.imul(V,lt)|0,p=p+Math.imul(V,dt)|0,p=p+Math.imul(W,lt)|0,_=_+Math.imul(W,dt)|0;var No=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(No>>>26)|0,No&=67108863,w=Math.imul(Ye,$e),p=Math.imul(Ye,Ze),p=p+Math.imul(Je,$e)|0,_=Math.imul(Je,Ze),w=w+Math.imul(je,Xe)|0,p=p+Math.imul(je,Qe)|0,p=p+Math.imul(We,Xe)|0,_=_+Math.imul(We,Qe)|0,w=w+Math.imul(Ve,et)|0,p=p+Math.imul(Ve,tt)|0,p=p+Math.imul(He,et)|0,_=_+Math.imul(He,tt)|0,w=w+Math.imul(Ge,rt)|0,p=p+Math.imul(Ge,it)|0,p=p+Math.imul(ze,rt)|0,_=_+Math.imul(ze,it)|0,w=w+Math.imul(Ke,nt)|0,p=p+Math.imul(Ke,st)|0,p=p+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,st)|0,w=w+Math.imul(fe,at)|0,p=p+Math.imul(fe,ot)|0,p=p+Math.imul(ce,at)|0,_=_+Math.imul(ce,ot)|0,w=w+Math.imul(ae,ft)|0,p=p+Math.imul(ae,ct)|0,p=p+Math.imul(oe,ft)|0,_=_+Math.imul(oe,ct)|0,w=w+Math.imul(te,ut)|0,p=p+Math.imul(te,ht)|0,p=p+Math.imul(ne,ut)|0,_=_+Math.imul(ne,ht)|0,w=w+Math.imul(X,lt)|0,p=p+Math.imul(X,dt)|0,p=p+Math.imul(ee,lt)|0,_=_+Math.imul(ee,dt)|0,w=w+Math.imul(V,pt)|0,p=p+Math.imul(V,bt)|0,p=p+Math.imul(W,pt)|0,_=_+Math.imul(W,bt)|0;var Lo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,w=Math.imul(Ye,Xe),p=Math.imul(Ye,Qe),p=p+Math.imul(Je,Xe)|0,_=Math.imul(Je,Qe),w=w+Math.imul(je,et)|0,p=p+Math.imul(je,tt)|0,p=p+Math.imul(We,et)|0,_=_+Math.imul(We,tt)|0,w=w+Math.imul(Ve,rt)|0,p=p+Math.imul(Ve,it)|0,p=p+Math.imul(He,rt)|0,_=_+Math.imul(He,it)|0,w=w+Math.imul(Ge,nt)|0,p=p+Math.imul(Ge,st)|0,p=p+Math.imul(ze,nt)|0,_=_+Math.imul(ze,st)|0,w=w+Math.imul(Ke,at)|0,p=p+Math.imul(Ke,ot)|0,p=p+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,ot)|0,w=w+Math.imul(fe,ft)|0,p=p+Math.imul(fe,ct)|0,p=p+Math.imul(ce,ft)|0,_=_+Math.imul(ce,ct)|0,w=w+Math.imul(ae,ut)|0,p=p+Math.imul(ae,ht)|0,p=p+Math.imul(oe,ut)|0,_=_+Math.imul(oe,ht)|0,w=w+Math.imul(te,lt)|0,p=p+Math.imul(te,dt)|0,p=p+Math.imul(ne,lt)|0,_=_+Math.imul(ne,dt)|0,w=w+Math.imul(X,pt)|0,p=p+Math.imul(X,bt)|0,p=p+Math.imul(ee,pt)|0,_=_+Math.imul(ee,bt)|0;var qo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(qo>>>26)|0,qo&=67108863,w=Math.imul(Ye,et),p=Math.imul(Ye,tt),p=p+Math.imul(Je,et)|0,_=Math.imul(Je,tt),w=w+Math.imul(je,rt)|0,p=p+Math.imul(je,it)|0,p=p+Math.imul(We,rt)|0,_=_+Math.imul(We,it)|0,w=w+Math.imul(Ve,nt)|0,p=p+Math.imul(Ve,st)|0,p=p+Math.imul(He,nt)|0,_=_+Math.imul(He,st)|0,w=w+Math.imul(Ge,at)|0,p=p+Math.imul(Ge,ot)|0,p=p+Math.imul(ze,at)|0,_=_+Math.imul(ze,ot)|0,w=w+Math.imul(Ke,ft)|0,p=p+Math.imul(Ke,ct)|0,p=p+Math.imul(Ue,ft)|0,_=_+Math.imul(Ue,ct)|0,w=w+Math.imul(fe,ut)|0,p=p+Math.imul(fe,ht)|0,p=p+Math.imul(ce,ut)|0,_=_+Math.imul(ce,ht)|0,w=w+Math.imul(ae,lt)|0,p=p+Math.imul(ae,dt)|0,p=p+Math.imul(oe,lt)|0,_=_+Math.imul(oe,dt)|0,w=w+Math.imul(te,pt)|0,p=p+Math.imul(te,bt)|0,p=p+Math.imul(ne,pt)|0,_=_+Math.imul(ne,bt)|0;var Fo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,w=Math.imul(Ye,rt),p=Math.imul(Ye,it),p=p+Math.imul(Je,rt)|0,_=Math.imul(Je,it),w=w+Math.imul(je,nt)|0,p=p+Math.imul(je,st)|0,p=p+Math.imul(We,nt)|0,_=_+Math.imul(We,st)|0,w=w+Math.imul(Ve,at)|0,p=p+Math.imul(Ve,ot)|0,p=p+Math.imul(He,at)|0,_=_+Math.imul(He,ot)|0,w=w+Math.imul(Ge,ft)|0,p=p+Math.imul(Ge,ct)|0,p=p+Math.imul(ze,ft)|0,_=_+Math.imul(ze,ct)|0,w=w+Math.imul(Ke,ut)|0,p=p+Math.imul(Ke,ht)|0,p=p+Math.imul(Ue,ut)|0,_=_+Math.imul(Ue,ht)|0,w=w+Math.imul(fe,lt)|0,p=p+Math.imul(fe,dt)|0,p=p+Math.imul(ce,lt)|0,_=_+Math.imul(ce,dt)|0,w=w+Math.imul(ae,pt)|0,p=p+Math.imul(ae,bt)|0,p=p+Math.imul(oe,pt)|0,_=_+Math.imul(oe,bt)|0;var Ko=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,w=Math.imul(Ye,nt),p=Math.imul(Ye,st),p=p+Math.imul(Je,nt)|0,_=Math.imul(Je,st),w=w+Math.imul(je,at)|0,p=p+Math.imul(je,ot)|0,p=p+Math.imul(We,at)|0,_=_+Math.imul(We,ot)|0,w=w+Math.imul(Ve,ft)|0,p=p+Math.imul(Ve,ct)|0,p=p+Math.imul(He,ft)|0,_=_+Math.imul(He,ct)|0,w=w+Math.imul(Ge,ut)|0,p=p+Math.imul(Ge,ht)|0,p=p+Math.imul(ze,ut)|0,_=_+Math.imul(ze,ht)|0,w=w+Math.imul(Ke,lt)|0,p=p+Math.imul(Ke,dt)|0,p=p+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,dt)|0,w=w+Math.imul(fe,pt)|0,p=p+Math.imul(fe,bt)|0,p=p+Math.imul(ce,pt)|0,_=_+Math.imul(ce,bt)|0;var Uo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,w=Math.imul(Ye,at),p=Math.imul(Ye,ot),p=p+Math.imul(Je,at)|0,_=Math.imul(Je,ot),w=w+Math.imul(je,ft)|0,p=p+Math.imul(je,ct)|0,p=p+Math.imul(We,ft)|0,_=_+Math.imul(We,ct)|0,w=w+Math.imul(Ve,ut)|0,p=p+Math.imul(Ve,ht)|0,p=p+Math.imul(He,ut)|0,_=_+Math.imul(He,ht)|0,w=w+Math.imul(Ge,lt)|0,p=p+Math.imul(Ge,dt)|0,p=p+Math.imul(ze,lt)|0,_=_+Math.imul(ze,dt)|0,w=w+Math.imul(Ke,pt)|0,p=p+Math.imul(Ke,bt)|0,p=p+Math.imul(Ue,pt)|0,_=_+Math.imul(Ue,bt)|0;var Go=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Go>>>26)|0,Go&=67108863,w=Math.imul(Ye,ft),p=Math.imul(Ye,ct),p=p+Math.imul(Je,ft)|0,_=Math.imul(Je,ct),w=w+Math.imul(je,ut)|0,p=p+Math.imul(je,ht)|0,p=p+Math.imul(We,ut)|0,_=_+Math.imul(We,ht)|0,w=w+Math.imul(Ve,lt)|0,p=p+Math.imul(Ve,dt)|0,p=p+Math.imul(He,lt)|0,_=_+Math.imul(He,dt)|0,w=w+Math.imul(Ge,pt)|0,p=p+Math.imul(Ge,bt)|0,p=p+Math.imul(ze,pt)|0,_=_+Math.imul(ze,bt)|0;var zo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(zo>>>26)|0,zo&=67108863,w=Math.imul(Ye,ut),p=Math.imul(Ye,ht),p=p+Math.imul(Je,ut)|0,_=Math.imul(Je,ht),w=w+Math.imul(je,lt)|0,p=p+Math.imul(je,dt)|0,p=p+Math.imul(We,lt)|0,_=_+Math.imul(We,dt)|0,w=w+Math.imul(Ve,pt)|0,p=p+Math.imul(Ve,bt)|0,p=p+Math.imul(He,pt)|0,_=_+Math.imul(He,bt)|0;var Vo=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,w=Math.imul(Ye,lt),p=Math.imul(Ye,dt),p=p+Math.imul(Je,lt)|0,_=Math.imul(Je,dt),w=w+Math.imul(je,pt)|0,p=p+Math.imul(je,bt)|0,p=p+Math.imul(We,pt)|0,_=_+Math.imul(We,bt)|0;var Ho=(A+w|0)+((p&8191)<<13)|0;A=(_+(p>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,w=Math.imul(Ye,pt),p=Math.imul(Ye,bt),p=p+Math.imul(Je,pt)|0,_=Math.imul(Je,bt);var jo=(A+w|0)+((p&8191)<<13)|0;return A=(_+(p>>>13)|0)+(jo>>>26)|0,jo&=67108863,C[0]=Co,C[1]=Bo,C[2]=To,C[3]=Ro,C[4]=Mo,C[5]=Po,C[6]=Do,C[7]=Oo,C[8]=No,C[9]=Lo,C[10]=qo,C[11]=Fo,C[12]=Ko,C[13]=Uo,C[14]=Go,C[15]=zo,C[16]=Vo,C[17]=Ho,C[18]=jo,A!==0&&(C[19]=A,v.length++),v};Math.imul||(g=y);function S(E,l,b){b.negative=l.negative^E.negative,b.length=E.length+l.length;for(var v=0,x=0,m=0;m<b.length-1;m++){var C=x;x=0;for(var A=v&67108863,w=Math.min(m,l.length-1),p=Math.max(0,m-E.length+1);p<=w;p++){var _=m-p,U=E.words[_]|0,V=l.words[p]|0,W=U*V,J=W&67108863;C=C+(W/67108864|0)|0,J=J+A|0,A=J&67108863,C=C+(J>>>26)|0,x+=C>>>26,C&=67108863}b.words[m]=A,v=C,C=x}return v!==0?b.words[m]=v:b.length--,b.strip()}function I(E,l,b){var v=new k;return v.mulp(E,l,b)}n.prototype.mulTo=function(l,b){var v,x=this.length+l.length;return this.length===10&&l.length===10?v=g(this,l,b):x<63?v=y(this,l,b):x<1024?v=S(this,l,b):v=I(this,l,b),v};function k(E,l){this.x=E,this.y=l}k.prototype.makeRBT=function(l){for(var b=new Array(l),v=n.prototype._countBits(l)-1,x=0;x<l;x++)b[x]=this.revBin(x,v,l);return b},k.prototype.revBin=function(l,b,v){if(l===0||l===v-1)return l;for(var x=0,m=0;m<b;m++)x|=(l&1)<<b-m-1,l>>=1;return x},k.prototype.permute=function(l,b,v,x,m,C){for(var A=0;A<C;A++)x[A]=b[l[A]],m[A]=v[l[A]]},k.prototype.transform=function(l,b,v,x,m,C){this.permute(C,l,b,v,x,m);for(var A=1;A<m;A<<=1)for(var w=A<<1,p=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),U=0;U<m;U+=w)for(var V=p,W=_,J=0;J<A;J++){var X=v[U+J],ee=x[U+J],Re=v[U+J+A],te=x[U+J+A],ne=V*Re-W*te;te=V*te+W*Re,Re=ne,v[U+J]=X+Re,x[U+J]=ee+te,v[U+J+A]=X-Re,x[U+J+A]=ee-te,J!==w&&(ne=p*V-_*W,W=p*W+_*V,V=ne)}},k.prototype.guessLen13b=function(l,b){var v=Math.max(b,l)|1,x=v&1,m=0;for(v=v/2|0;v;v=v>>>1)m++;return 1<<m+1+x},k.prototype.conjugate=function(l,b,v){if(!(v<=1))for(var x=0;x<v/2;x++){var m=l[x];l[x]=l[v-x-1],l[v-x-1]=m,m=b[x],b[x]=-b[v-x-1],b[v-x-1]=-m}},k.prototype.normalize13b=function(l,b){for(var v=0,x=0;x<b/2;x++){var m=Math.round(l[2*x+1]/b)*8192+Math.round(l[2*x]/b)+v;l[x]=m&67108863,m<67108864?v=0:v=m/67108864|0}return l},k.prototype.convert13b=function(l,b,v,x){for(var m=0,C=0;C<b;C++)m=m+(l[C]|0),v[2*C]=m&8191,m=m>>>13,v[2*C+1]=m&8191,m=m>>>13;for(C=2*b;C<x;++C)v[C]=0;r(m===0),r((m&~8191)==0)},k.prototype.stub=function(l){for(var b=new Array(l),v=0;v<l;v++)b[v]=0;return b},k.prototype.mulp=function(l,b,v){var x=2*this.guessLen13b(l.length,b.length),m=this.makeRBT(x),C=this.stub(x),A=new Array(x),w=new Array(x),p=new Array(x),_=new Array(x),U=new Array(x),V=new Array(x),W=v.words;W.length=x,this.convert13b(l.words,l.length,A,x),this.convert13b(b.words,b.length,_,x),this.transform(A,C,w,p,x,m),this.transform(_,C,U,V,x,m);for(var J=0;J<x;J++){var X=w[J]*U[J]-p[J]*V[J];p[J]=w[J]*V[J]+p[J]*U[J],w[J]=X}return this.conjugate(w,p,x),this.transform(w,p,W,C,x,m),this.conjugate(W,C,x),this.normalize13b(W,x),v.negative=l.negative^b.negative,v.length=l.length+b.length,v.strip()},n.prototype.mul=function(l){var b=new n(null);return b.words=new Array(this.length+l.length),this.mulTo(l,b)},n.prototype.mulf=function(l){var b=new n(null);return b.words=new Array(this.length+l.length),I(this,l,b)},n.prototype.imul=function(l){return this.clone().mulTo(l,this)},n.prototype.imuln=function(l){r(typeof l=="number"),r(l<67108864);for(var b=0,v=0;v<this.length;v++){var x=(this.words[v]|0)*l,m=(x&67108863)+(b&67108863);b>>=26,b+=x/67108864|0,b+=m>>>26,this.words[v]=m&67108863}return b!==0&&(this.words[v]=b,this.length++),this},n.prototype.muln=function(l){return this.clone().imuln(l)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(l){var b=d(l);if(b.length===0)return new n(1);for(var v=this,x=0;x<b.length&&b[x]===0;x++,v=v.sqr());if(++x<b.length)for(var m=v.sqr();x<b.length;x++,m=m.sqr())b[x]!==0&&(v=v.mul(m));return v},n.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var b=l%26,v=(l-b)/26,x=67108863>>>26-b<<26-b,m;if(b!==0){var C=0;for(m=0;m<this.length;m++){var A=this.words[m]&x,w=(this.words[m]|0)-A<<b;this.words[m]=w|C,C=A>>>26-b}C&&(this.words[m]=C,this.length++)}if(v!==0){for(m=this.length-1;m>=0;m--)this.words[m+v]=this.words[m];for(m=0;m<v;m++)this.words[m]=0;this.length+=v}return this.strip()},n.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},n.prototype.iushrn=function(l,b,v){r(typeof l=="number"&&l>=0);var x;b?x=(b-b%26)/26:x=0;var m=l%26,C=Math.min((l-m)/26,this.length),A=67108863^67108863>>>m<<m,w=v;if(x-=C,x=Math.max(0,x),w){for(var p=0;p<C;p++)w.words[p]=this.words[p];w.length=C}if(C!==0)if(this.length>C)for(this.length-=C,p=0;p<this.length;p++)this.words[p]=this.words[p+C];else this.words[0]=0,this.length=1;var _=0;for(p=this.length-1;p>=0&&(_!==0||p>=x);p--){var U=this.words[p]|0;this.words[p]=_<<26-m|U>>>m,_=U&A}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(l,b,v){return r(this.negative===0),this.iushrn(l,b,v)},n.prototype.shln=function(l){return this.clone().ishln(l)},n.prototype.ushln=function(l){return this.clone().iushln(l)},n.prototype.shrn=function(l){return this.clone().ishrn(l)},n.prototype.ushrn=function(l){return this.clone().iushrn(l)},n.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var b=l%26,v=(l-b)/26,x=1<<b;if(this.length<=v)return!1;var m=this.words[v];return!!(m&x)},n.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var b=l%26,v=(l-b)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(b!==0&&v++,this.length=Math.min(v,this.length),b!==0){var x=67108863^67108863>>>b<<b;this.words[this.length-1]&=x}return this.strip()},n.prototype.maskn=function(l){return this.clone().imaskn(l)},n.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},n.prototype._iaddn=function(l){this.words[0]+=l;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},n.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},n.prototype.addn=function(l){return this.clone().iaddn(l)},n.prototype.subn=function(l){return this.clone().isubn(l)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(l,b,v){var x=l.length+v,m;this._expand(x);var C,A=0;for(m=0;m<l.length;m++){C=(this.words[m+v]|0)+A;var w=(l.words[m]|0)*b;C-=w&67108863,A=(C>>26)-(w/67108864|0),this.words[m+v]=C&67108863}for(;m<this.length-v;m++)C=(this.words[m+v]|0)+A,A=C>>26,this.words[m+v]=C&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,m=0;m<this.length;m++)C=-(this.words[m]|0)+A,A=C>>26,this.words[m]=C&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(l,b){var v=this.length-l.length,x=this.clone(),m=l,C=m.words[m.length-1]|0,A=this._countBits(C);v=26-A,v!==0&&(m=m.ushln(v),x.iushln(v),C=m.words[m.length-1]|0);var w=x.length-m.length,p;if(b!=="mod"){p=new n(null),p.length=w+1,p.words=new Array(p.length);for(var _=0;_<p.length;_++)p.words[_]=0}var U=x.clone()._ishlnsubmul(m,1,w);U.negative===0&&(x=U,p&&(p.words[w]=1));for(var V=w-1;V>=0;V--){var W=(x.words[m.length+V]|0)*67108864+(x.words[m.length+V-1]|0);for(W=Math.min(W/C|0,67108863),x._ishlnsubmul(m,W,V);x.negative!==0;)W--,x.negative=0,x._ishlnsubmul(m,1,V),x.isZero()||(x.negative^=1);p&&(p.words[V]=W)}return p&&p.strip(),x.strip(),b!=="div"&&v!==0&&x.iushrn(v),{div:p||null,mod:x}},n.prototype.divmod=function(l,b,v){if(r(!l.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var x,m,C;return this.negative!==0&&l.negative===0?(C=this.neg().divmod(l,b),b!=="mod"&&(x=C.div.neg()),b!=="div"&&(m=C.mod.neg(),v&&m.negative!==0&&m.iadd(l)),{div:x,mod:m}):this.negative===0&&l.negative!==0?(C=this.divmod(l.neg(),b),b!=="mod"&&(x=C.div.neg()),{div:x,mod:C.mod}):(this.negative&l.negative)!=0?(C=this.neg().divmod(l.neg(),b),b!=="div"&&(m=C.mod.neg(),v&&m.negative!==0&&m.isub(l)),{div:C.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new n(0),mod:this}:l.length===1?b==="div"?{div:this.divn(l.words[0]),mod:null}:b==="mod"?{div:null,mod:new n(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new n(this.modn(l.words[0]))}:this._wordDiv(l,b)},n.prototype.div=function(l){return this.divmod(l,"div",!1).div},n.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},n.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},n.prototype.divRound=function(l){var b=this.divmod(l);if(b.mod.isZero())return b.div;var v=b.div.negative!==0?b.mod.isub(l):b.mod,x=l.ushrn(1),m=l.andln(1),C=v.cmp(x);return C<0||m===1&&C===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},n.prototype.modn=function(l){r(l<=67108863);for(var b=(1<<26)%l,v=0,x=this.length-1;x>=0;x--)v=(b*v+(this.words[x]|0))%l;return v},n.prototype.idivn=function(l){r(l<=67108863);for(var b=0,v=this.length-1;v>=0;v--){var x=(this.words[v]|0)+b*67108864;this.words[v]=x/l|0,b=x%l}return this.strip()},n.prototype.divn=function(l){return this.clone().idivn(l)},n.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var b=this,v=l.clone();b.negative!==0?b=b.umod(l):b=b.clone();for(var x=new n(1),m=new n(0),C=new n(0),A=new n(1),w=0;b.isEven()&&v.isEven();)b.iushrn(1),v.iushrn(1),++w;for(var p=v.clone(),_=b.clone();!b.isZero();){for(var U=0,V=1;(b.words[0]&V)==0&&U<26;++U,V<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(x.isOdd()||m.isOdd())&&(x.iadd(p),m.isub(_)),x.iushrn(1),m.iushrn(1);for(var W=0,J=1;(v.words[0]&J)==0&&W<26;++W,J<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(C.isOdd()||A.isOdd())&&(C.iadd(p),A.isub(_)),C.iushrn(1),A.iushrn(1);b.cmp(v)>=0?(b.isub(v),x.isub(C),m.isub(A)):(v.isub(b),C.isub(x),A.isub(m))}return{a:C,b:A,gcd:v.iushln(w)}},n.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var b=this,v=l.clone();b.negative!==0?b=b.umod(l):b=b.clone();for(var x=new n(1),m=new n(0),C=v.clone();b.cmpn(1)>0&&v.cmpn(1)>0;){for(var A=0,w=1;(b.words[0]&w)==0&&A<26;++A,w<<=1);if(A>0)for(b.iushrn(A);A-- >0;)x.isOdd()&&x.iadd(C),x.iushrn(1);for(var p=0,_=1;(v.words[0]&_)==0&&p<26;++p,_<<=1);if(p>0)for(v.iushrn(p);p-- >0;)m.isOdd()&&m.iadd(C),m.iushrn(1);b.cmp(v)>=0?(b.isub(v),x.isub(m)):(v.isub(b),m.isub(x))}var U;return b.cmpn(1)===0?U=x:U=m,U.cmpn(0)<0&&U.iadd(l),U},n.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var b=this.clone(),v=l.clone();b.negative=0,v.negative=0;for(var x=0;b.isEven()&&v.isEven();x++)b.iushrn(1),v.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;v.isEven();)v.iushrn(1);var m=b.cmp(v);if(m<0){var C=b;b=v,v=C}else if(m===0||v.cmpn(1)===0)break;b.isub(v)}while(!0);return v.iushln(x)},n.prototype.invm=function(l){return this.egcd(l).a.umod(l)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(l){return this.words[0]&l},n.prototype.bincn=function(l){r(typeof l=="number");var b=l%26,v=(l-b)/26,x=1<<b;if(this.length<=v)return this._expand(v+1),this.words[v]|=x,this;for(var m=x,C=v;m!==0&&C<this.length;C++){var A=this.words[C]|0;A+=m,m=A>>>26,A&=67108863,this.words[C]=A}return m!==0&&(this.words[C]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(l){var b=l<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var v;if(this.length>1)v=1;else{b&&(l=-l),r(l<=67108863,"Number is too big");var x=this.words[0]|0;v=x===l?0:x<l?-1:1}return this.negative!==0?-v|0:v},n.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var b=this.ucmp(l);return this.negative!==0?-b|0:b},n.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var b=0,v=this.length-1;v>=0;v--){var x=this.words[v]|0,m=l.words[v]|0;if(x!==m){x<m?b=-1:x>m&&(b=1);break}}return b},n.prototype.gtn=function(l){return this.cmpn(l)===1},n.prototype.gt=function(l){return this.cmp(l)===1},n.prototype.gten=function(l){return this.cmpn(l)>=0},n.prototype.gte=function(l){return this.cmp(l)>=0},n.prototype.ltn=function(l){return this.cmpn(l)===-1},n.prototype.lt=function(l){return this.cmp(l)===-1},n.prototype.lten=function(l){return this.cmpn(l)<=0},n.prototype.lte=function(l){return this.cmp(l)<=0},n.prototype.eqn=function(l){return this.cmpn(l)===0},n.prototype.eq=function(l){return this.cmp(l)===0},n.red=function(l){return new z(l)},n.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(l){return this.red=l,this},n.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},n.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},n.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},n.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},n.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},n.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},n.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},n.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var R={k256:null,p224:null,p192:null,p25519:null};function M(E,l){this.name=E,this.p=new n(l,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var l=new n(null);return l.words=new Array(Math.ceil(this.n/13)),l},M.prototype.ireduce=function(l){var b=l,v;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),v=b.bitLength();while(v>this.n);var x=v<this.n?-1:b.ucmp(this.p);return x===0?(b.words[0]=0,b.length=1):x>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},M.prototype.split=function(l,b){l.iushrn(this.n,0,b)},M.prototype.imulK=function(l){return l.imul(this.k)};function F(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,M),F.prototype.split=function(l,b){for(var v=4194303,x=Math.min(l.length,9),m=0;m<x;m++)b.words[m]=l.words[m];if(b.length=x,l.length<=9){l.words[0]=0,l.length=1;return}var C=l.words[9];for(b.words[b.length++]=C&v,m=10;m<l.length;m++){var A=l.words[m]|0;l.words[m-10]=(A&v)<<4|C>>>22,C=A}C>>>=22,l.words[m-10]=C,C===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var b=0,v=0;v<l.length;v++){var x=l.words[v]|0;b+=x*977,l.words[v]=b&67108863,b=x*64+(b/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(L,M);function D(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,M);function j(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(j,M),j.prototype.imulK=function(l){for(var b=0,v=0;v<l.length;v++){var x=(l.words[v]|0)*19+b,m=x&67108863;x>>>=26,l.words[v]=m,b=x}return b!==0&&(l.words[l.length++]=b),l},n._prime=function(l){if(R[l])return R[l];var b;if(l==="k256")b=new F;else if(l==="p224")b=new L;else if(l==="p192")b=new D;else if(l==="p25519")b=new j;else throw new Error("Unknown prime "+l);return R[l]=b,b};function z(E){if(typeof E=="string"){var l=n._prime(E);this.m=l.p,this.prime=l}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}z.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},z.prototype._verify2=function(l,b){r((l.negative|b.negative)==0,"red works only with positives"),r(l.red&&l.red===b.red,"red works only with red numbers")},z.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},z.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},z.prototype.add=function(l,b){this._verify2(l,b);var v=l.add(b);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},z.prototype.iadd=function(l,b){this._verify2(l,b);var v=l.iadd(b);return v.cmp(this.m)>=0&&v.isub(this.m),v},z.prototype.sub=function(l,b){this._verify2(l,b);var v=l.sub(b);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},z.prototype.isub=function(l,b){this._verify2(l,b);var v=l.isub(b);return v.cmpn(0)<0&&v.iadd(this.m),v},z.prototype.shl=function(l,b){return this._verify1(l),this.imod(l.ushln(b))},z.prototype.imul=function(l,b){return this._verify2(l,b),this.imod(l.imul(b))},z.prototype.mul=function(l,b){return this._verify2(l,b),this.imod(l.mul(b))},z.prototype.isqr=function(l){return this.imul(l,l.clone())},z.prototype.sqr=function(l){return this.mul(l,l)},z.prototype.sqrt=function(l){if(l.isZero())return l.clone();var b=this.m.andln(3);if(r(b%2==1),b===3){var v=this.m.add(new n(1)).iushrn(2);return this.pow(l,v)}for(var x=this.m.subn(1),m=0;!x.isZero()&&x.andln(1)===0;)m++,x.iushrn(1);r(!x.isZero());var C=new n(1).toRed(this),A=C.redNeg(),w=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new n(2*p*p).toRed(this);this.pow(p,w).cmp(A)!==0;)p.redIAdd(A);for(var _=this.pow(p,x),U=this.pow(l,x.addn(1).iushrn(1)),V=this.pow(l,x),W=m;V.cmp(C)!==0;){for(var J=V,X=0;J.cmp(C)!==0;X++)J=J.redSqr();r(X<W);var ee=this.pow(_,new n(1).iushln(W-X-1));U=U.redMul(ee),_=ee.redSqr(),V=V.redMul(_),W=X}return U},z.prototype.invm=function(l){var b=l._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},z.prototype.pow=function(l,b){if(b.isZero())return new n(1).toRed(this);if(b.cmpn(1)===0)return l.clone();var v=4,x=new Array(1<<v);x[0]=new n(1).toRed(this),x[1]=l;for(var m=2;m<x.length;m++)x[m]=this.mul(x[m-1],l);var C=x[0],A=0,w=0,p=b.bitLength()%26;for(p===0&&(p=26),m=b.length-1;m>=0;m--){for(var _=b.words[m],U=p-1;U>=0;U--){var V=_>>U&1;if(C!==x[0]&&(C=this.sqr(C)),V===0&&A===0){w=0;continue}A<<=1,A|=V,w++,!(w!==v&&(m!==0||U!==0))&&(C=this.mul(C,x[A]),w=0,A=0)}p=26}return C},z.prototype.convertTo=function(l){var b=l.umod(this.m);return b===l?b.clone():b},z.prototype.convertFrom=function(l){var b=l.clone();return b.red=null,b},n.mont=function(l){return new Q(l)};function Q(E){z.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,z),Q.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Q.prototype.convertFrom=function(l){var b=this.imod(l.mul(this.rinv));return b.red=null,b},Q.prototype.imul=function(l,b){if(l.isZero()||b.isZero())return l.words[0]=0,l.length=1,l;var v=l.imul(b),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=v.isub(x).iushrn(this.shift),C=m;return m.cmp(this.m)>=0?C=m.isub(this.m):m.cmpn(0)<0&&(C=m.iadd(this.m)),C._forceRed(this)},Q.prototype.mul=function(l,b){if(l.isZero()||b.isZero())return new n(0)._forceRed(this);var v=l.mul(b),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=v.isub(x).iushrn(this.shift),C=m;return m.cmp(this.m)>=0?C=m.isub(this.m):m.cmpn(0)<0&&(C=m.iadd(this.m)),C._forceRed(this)},Q.prototype.invm=function(l){var b=this.imod(l._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(typeof kf=="undefined"||kf,p2)});var Ci=T((YE,b2)=>{b2.exports=y2;function y2(t,e){if(!t)throw new Error(e||"Assertion failed")}y2.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var Cf=T(g2=>{"use strict";var Ja=g2;function v5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,a=n&255;s?r.push(s,a):r.push(a)}return r}Ja.toArray=v5;function v2(t){return t.length===1?"0"+t:t}Ja.zero2=v2;function x2(t){for(var e="",r=0;r<t.length;r++)e+=v2(t[r].toString(16));return e}Ja.toHex=x2;Ja.encode=function(e,r){return r==="hex"?x2(e):e}});var Zt=T(m2=>{"use strict";var yr=m2,x5=Lr(),m5=Ci(),$a=Cf();yr.assert=m5;yr.toArray=$a.toArray;yr.zero2=$a.zero2;yr.toHex=$a.toHex;yr.encode=$a.encode;function w5(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),a=0;a<i.length;a++){var o,u=s.andln(n-1);s.isOdd()?(u>(n>>1)-1?o=(n>>1)-u:o=u,s.isubn(o)):o=0,i[a]=o,s.iushrn(1)}return i}yr.getNAF=w5;function _5(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,s;t.cmpn(-i)>0||e.cmpn(-n)>0;){var a=t.andln(3)+i&3,o=e.andln(3)+n&3;a===3&&(a=-1),o===3&&(o=-1);var u;(a&1)==0?u=0:(s=t.andln(7)+i&7,(s===3||s===5)&&o===2?u=-a:u=a),r[0].push(u);var c;(o&1)==0?c=0:(s=e.andln(7)+n&7,(s===3||s===5)&&a===2?c=-o:c=o),r[1].push(c),2*i===u+1&&(i=1-i),2*n===c+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}yr.getJSF=_5;function E5(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}yr.cachedProperty=E5;function S5(t){return typeof t=="string"?yr.toArray(t,"hex"):t}yr.parseBytes=S5;function I5(t){return new x5(t,"hex","le")}yr.intFromLE=I5});var Mf=T((ZE,Bf)=>{var Tf;Bf.exports=function(e){return Tf||(Tf=new Bi(null)),Tf.generate(e)};function Bi(t){this.rand=t}Bf.exports.Rand=Bi;Bi.prototype.generate=function(e){return this._rand(e)};Bi.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Bi.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Bi.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Bi.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Rf=ms(),typeof Rf.randomBytes!="function")throw new Error("Not supported");Bi.prototype._rand=function(e){return Rf.randomBytes(e)}}catch(t){}var Rf});var Rs=T((XE,w2)=>{"use strict";var an=Lr(),Ts=Zt(),Za=Ts.getNAF,A5=Ts.getJSF,Xa=Ts.assert;function Ti(t,e){this.type=t,this.p=new an(e.p,16),this.red=e.prime?an.red(e.prime):an.mont(this.p),this.zero=new an(0).toRed(this.red),this.one=new an(1).toRed(this.red),this.two=new an(2).toRed(this.red),this.n=e.n&&new an(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}w2.exports=Ti;Ti.prototype.point=function(){throw new Error("Not implemented")};Ti.prototype.validate=function(){throw new Error("Not implemented")};Ti.prototype._fixedNafMul=function(e,r){Xa(e.precomputed);var i=e._getDoubles(),n=Za(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[],o,u;for(o=0;o<n.length;o+=i.step){u=0;for(var c=o+i.step-1;c>=o;c--)u=(u<<1)+n[c];a.push(u)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=s;d>0;d--){for(o=0;o<a.length;o++)u=a[o],u===d?h=h.mixedAdd(i.points[o]):u===-d&&(h=h.mixedAdd(i.points[o].neg()));f=f.add(h)}return f.toP()};Ti.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,a=Za(r,i,this._bitLength),o=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var c=0;u>=0&&a[u]===0;u--)c++;if(u>=0&&c++,o=o.dblp(c),u<0)break;var f=a[u];Xa(f!==0),e.type==="affine"?f>0?o=o.mixedAdd(s[f-1>>1]):o=o.mixedAdd(s[-f-1>>1].neg()):f>0?o=o.add(s[f-1>>1]):o=o.add(s[-f-1>>1].neg())}return e.type==="affine"?o.toP():o};Ti.prototype._wnafMulAdd=function(e,r,i,n,s){var a=this._wnafT1,o=this._wnafT2,u=this._wnafT3,c=0,f,h,d;for(f=0;f<n;f++){d=r[f];var y=d._getNAFPoints(e);a[f]=y.wnd,o[f]=y.points}for(f=n-1;f>=1;f-=2){var g=f-1,S=f;if(a[g]!==1||a[S]!==1){u[g]=Za(i[g],a[g],this._bitLength),u[S]=Za(i[S],a[S],this._bitLength),c=Math.max(u[g].length,c),c=Math.max(u[S].length,c);continue}var I=[r[g],null,null,r[S]];r[g].y.cmp(r[S].y)===0?(I[1]=r[g].add(r[S]),I[2]=r[g].toJ().mixedAdd(r[S].neg())):r[g].y.cmp(r[S].y.redNeg())===0?(I[1]=r[g].toJ().mixedAdd(r[S]),I[2]=r[g].add(r[S].neg())):(I[1]=r[g].toJ().mixedAdd(r[S]),I[2]=r[g].toJ().mixedAdd(r[S].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],R=A5(i[g],i[S]);for(c=Math.max(R[0].length,c),u[g]=new Array(c),u[S]=new Array(c),h=0;h<c;h++){var M=R[0][h]|0,F=R[1][h]|0;u[g][h]=k[(M+1)*3+(F+1)],u[S][h]=0,o[g]=I}}var L=this.jpoint(null,null,null),D=this._wnafT4;for(f=c;f>=0;f--){for(var j=0;f>=0;){var z=!0;for(h=0;h<n;h++)D[h]=u[h][f]|0,D[h]!==0&&(z=!1);if(!z)break;j++,f--}if(f>=0&&j++,L=L.dblp(j),f<0)break;for(h=0;h<n;h++){var Q=D[h];Q!==0&&(Q>0?d=o[h][Q-1>>1]:Q<0&&(d=o[h][-Q-1>>1].neg()),d.type==="affine"?L=L.mixedAdd(d):L=L.add(d))}}for(f=0;f<n;f++)o[f]=null;return s?L:L.toP()};function ar(t,e){this.curve=t,this.type=e,this.precomputed=null}Ti.BasePoint=ar;ar.prototype.eq=function(){throw new Error("Not implemented")};ar.prototype.validate=function(){return this.curve.validate(this)};Ti.prototype.decodePoint=function(e,r){e=Ts.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?Xa(e[e.length-1]%2==0):e[0]===7&&Xa(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};ar.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ar.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};ar.prototype.encode=function(e,r){return Ts.encode(this._encode(r),e)};ar.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ar.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ar.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)n=n.dbl();i.push(n)}return{step:e,points:i}};ar.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:e,points:r}};ar.prototype._getBeta=function(){return null};ar.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var Ms=T((QE,Pf)=>{typeof Object.create=="function"?Pf.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pf.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var E2=T((eS,_2)=>{"use strict";var k5=Zt(),Ne=Lr(),Df=Ms(),jn=Rs(),C5=k5.assert;function or(t){jn.call(this,"short",t),this.a=new Ne(t.a,16).toRed(this.red),this.b=new Ne(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Df(or,jn);_2.exports=or;or.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Ne(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Ne(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],C5(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Ne(o.a,16),b:new Ne(o.b,16)}}):a=this._getEndoBasis(i),{beta:r,lambda:i,basis:a}}};or.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ne.mont(e),i=new Ne(2).toRed(r).redInvm(),n=i.redNeg(),s=new Ne(3).toRed(r).redNeg().redSqrt().redMul(i),a=n.redAdd(s).fromRed(),o=n.redSub(s).fromRed();return[a,o]};or.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Ne(1),a=new Ne(0),o=new Ne(0),u=new Ne(1),c,f,h,d,y,g,S,I=0,k,R;i.cmpn(0)!==0;){var M=n.div(i);k=n.sub(M.mul(i)),R=o.sub(M.mul(s));var F=u.sub(M.mul(a));if(!h&&k.cmp(r)<0)c=S.neg(),f=s,h=k.neg(),d=R;else if(h&&++I==2)break;S=k,n=i,i=k,o=s,s=R,u=a,a=F}y=k.neg(),g=R;var L=h.sqr().add(d.sqr()),D=y.sqr().add(g.sqr());return D.cmp(L)>=0&&(y=c,g=f),h.negative&&(h=h.neg(),d=d.neg()),y.negative&&(y=y.neg(),g=g.neg()),[{a:h,b:d},{a:y,b:g}]};or.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),o=s.mul(i.a),u=a.mul(n.a),c=s.mul(i.b),f=a.mul(n.b),h=e.sub(o).sub(u),d=c.add(f).neg();return{k1:h,k2:d}};or.prototype.pointFromX=function(e,r){e=new Ne(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(e,n)};or.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};or.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),u=e[a],c=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[a*2]=u,n[a*2+1]=c,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var f=this._wnafMulAdd(1,n,s,a*2,i),h=0;h<a*2;h++)n[h]=null,s[h]=null;return f};function At(t,e,r,i){jn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ne(e,16),this.y=new Ne(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Df(At,jn.BasePoint);or.prototype.point=function(e,r,i){return new At(this,e,r,i)};or.prototype.pointFromJSON=function(e,r){return At.fromJSON(this,e,r)};At.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};At.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};At.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function s(o){return e.point(o[0],o[1],i)}var a=r[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(s))}},n};At.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};At.prototype.isInfinity=function(){return this.inf};At.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};At.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};At.prototype.getX=function(){return this.x.fromRed()};At.prototype.getY=function(){return this.y.fromRed()};At.prototype.mul=function(e){return e=new Ne(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};At.prototype.mulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};At.prototype.jmulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};At.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};At.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};At.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Mt(t,e,r,i){jn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ne(0)):(this.x=new Ne(e,16),this.y=new Ne(r,16),this.z=new Ne(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Df(Mt,jn.BasePoint);or.prototype.jpoint=function(e,r,i){return new Mt(this,e,r,i)};Mt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Mt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Mt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=e.x.redMul(i),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(i.redMul(this.z)),u=n.redSub(s),c=a.redSub(o);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=u.redSqr(),h=f.redMul(u),d=n.redMul(f),y=c.redSqr().redIAdd(h).redISub(d).redISub(d),g=c.redMul(d.redISub(y)).redISub(a.redMul(h)),S=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(y,g,S)};Mt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=i.redSub(n),u=s.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),f=c.redMul(o),h=i.redMul(c),d=u.redSqr().redIAdd(f).redISub(h).redISub(h),y=u.redMul(h.redISub(d)).redISub(s.redMul(f)),g=this.z.redMul(o);return this.curve.jpoint(d,y,g)};Mt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,u=this.z,c=u.redSqr().redSqr(),f=o.redAdd(o);for(r=0;r<e;r++){var h=a.redSqr(),d=f.redSqr(),y=d.redSqr(),g=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),S=a.redMul(d),I=g.redSqr().redISub(S.redAdd(S)),k=S.redISub(I),R=g.redMul(k);R=R.redIAdd(R).redISub(y);var M=f.redMul(u);r+1<e&&(c=c.redMul(y)),a=I,u=M,f=R}return this.curve.jpoint(a,f.redMul(s),u)};Mt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Mt.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var u=n.redAdd(n).redIAdd(n),c=u.redSqr().redISub(o).redISub(o),f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),e=c,r=u.redMul(o.redISub(c)).redISub(f),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),d=this.y.redSqr(),y=d.redSqr(),g=this.x.redAdd(d).redSqr().redISub(h).redISub(y);g=g.redIAdd(g);var S=h.redAdd(h).redIAdd(h),I=S.redSqr(),k=y.redIAdd(y);k=k.redIAdd(k),k=k.redIAdd(k),e=I.redISub(g).redISub(g),r=S.redMul(g.redISub(e)).redISub(k),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Mt.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var u=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=u.redSqr().redISub(o).redISub(o);e=c;var f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),r=u.redMul(o.redISub(c)).redISub(f),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),d=this.y.redSqr(),y=this.x.redMul(d),g=this.x.redSub(h).redMul(this.x.redAdd(h));g=g.redAdd(g).redIAdd(g);var S=y.redIAdd(y);S=S.redIAdd(S);var I=S.redAdd(S);e=g.redSqr().redISub(I),i=this.y.redAdd(this.z).redSqr().redISub(d).redISub(h);var k=d.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=g.redMul(S.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,i)};Mt.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),a=r.redSqr(),o=i.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var f=c.redMul(o),h=u.redSqr().redISub(f.redAdd(f)),d=f.redISub(h),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var g=u.redMul(d).redISub(y),S=i.redAdd(i).redMul(n);return this.curve.jpoint(h,g,S)};Mt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var u=o.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var f=s.redIAdd(o).redSqr().redISub(a).redISub(u).redISub(c),h=r.redMul(f);h=h.redIAdd(h),h=h.redIAdd(h);var d=this.x.redMul(u).redISub(h);d=d.redIAdd(d),d=d.redIAdd(d);var y=this.y.redMul(f.redMul(c.redISub(f)).redISub(o.redMul(u)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var g=this.z.redAdd(o).redSqr().redISub(i).redISub(u);return this.curve.jpoint(d,y,g)};Mt.prototype.mul=function(e,r){return e=new Ne(e,r),this.curve._wnafMul(this,e)};Mt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};Mt.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};Mt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Mt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var A2=T((tS,S2)=>{"use strict";var Wn=Lr(),I2=Ms(),Qa=Rs(),B5=Zt();function Yn(t){Qa.call(this,"mont",t),this.a=new Wn(t.a,16).toRed(this.red),this.b=new Wn(t.b,16).toRed(this.red),this.i4=new Wn(4).toRed(this.red).redInvm(),this.two=new Wn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}I2(Yn,Qa);S2.exports=Yn;Yn.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function kt(t,e,r){Qa.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Wn(e,16),this.z=new Wn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}I2(kt,Qa.BasePoint);Yn.prototype.decodePoint=function(e,r){return this.point(B5.toArray(e,r),1)};Yn.prototype.point=function(e,r){return new kt(this,e,r)};Yn.prototype.pointFromJSON=function(e){return kt.fromJSON(this,e)};kt.prototype.precompute=function(){};kt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};kt.fromJSON=function(e,r){return new kt(e,r[0],r[1]||e.one)};kt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};kt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};kt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),a=r.redMul(n),o=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,o)};kt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};kt.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(i),u=s.redMul(n),c=r.z.redMul(o.redAdd(u).redSqr()),f=r.x.redMul(o.redISub(u).redSqr());return this.curve.point(c,f)};kt.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};kt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};kt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};kt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};kt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};kt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var B2=T((rS,k2)=>{"use strict";var T5=Zt(),si=Lr(),C2=Ms(),eo=Rs(),R5=T5.assert;function qr(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,eo.call(this,"edwards",t),this.a=new si(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new si(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new si(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),R5(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}C2(qr,eo);k2.exports=qr;qr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};qr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};qr.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};qr.prototype.pointFromX=function(e,r){e=new si(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),a=n.redMul(s.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=o.fromRed().isOdd();return(r&&!u||!r&&u)&&(o=o.redNeg()),this.point(e,o)};qr.prototype.pointFromY=function(e,r){e=new si(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};qr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function Te(t,e,r,i,n){eo.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new si(e,16),this.y=new si(r,16),this.z=i?new si(i,16):this.curve.one,this.t=n&&new si(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}C2(Te,eo.BasePoint);qr.prototype.pointFromJSON=function(e){return Te.fromJSON(this,e)};qr.prototype.point=function(e,r,i,n){return new Te(this,e,r,i,n)};Te.fromJSON=function(e,r){return new Te(e,r[0],r[1],r[2])};Te.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Te.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Te.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=n.redAdd(r),o=a.redSub(i),u=n.redSub(r),c=s.redMul(o),f=a.redMul(u),h=s.redMul(u),d=o.redMul(a);return this.curve.point(c,f,d,h)};Te.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,a,o,u,c;if(this.curve.twisted){o=this.curve._mulA(r);var f=o.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(f.redSub(this.curve.two)),s=f.redMul(o.redSub(i)),a=f.redSqr().redSub(f).redSub(f)):(u=this.z.redSqr(),c=f.redSub(u).redISub(u),n=e.redSub(r).redISub(i).redMul(c),s=f.redMul(o.redSub(i)),a=f.redMul(c))}else o=r.redAdd(i),u=this.curve._mulC(this.z).redSqr(),c=o.redSub(u).redSub(u),n=this.curve._mulC(e.redISub(o)).redMul(c),s=this.curve._mulC(o).redMul(r.redISub(i)),a=o.redMul(c);return this.curve.point(n,s,a)};Te.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Te.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(r),o=s.redSub(n),u=s.redAdd(n),c=i.redAdd(r),f=a.redMul(o),h=u.redMul(c),d=a.redMul(c),y=o.redMul(u);return this.curve.point(f,h,y,d)};Te.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(n).redMul(s),o=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),f=r.redMul(o).redMul(c),h,d;return this.curve.twisted?(h=r.redMul(u).redMul(s.redSub(this.curve._mulA(n))),d=o.redMul(u)):(h=r.redMul(u).redMul(s.redSub(n)),d=this.curve._mulC(o).redMul(u)),this.curve.point(f,h,d)};Te.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Te.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Te.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Te.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Te.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Te.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Te.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Te.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Te.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Te.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Te.prototype.toP=Te.prototype.normalize;Te.prototype.mixedAdd=Te.prototype.add});var Of=T(T2=>{"use strict";var to=T2;to.base=Rs();to.short=E2();to.mont=A2();to.edwards=B2()});var gr=T(Se=>{"use strict";var M5=Ci(),P5=Ms();Se.inherits=P5;function D5(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function O5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):D5(t,n)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Se.toArray=O5;function N5(t){for(var e="",r=0;r<t.length;r++)e+=R2(t[r].toString(16));return e}Se.toHex=N5;function M2(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Se.htonl=M2;function L5(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=M2(n)),r+=P2(n.toString(16))}return r}Se.toHex32=L5;function R2(t){return t.length===1?"0"+t:t}Se.zero2=R2;function P2(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Se.zero8=P2;function q5(t,e,r,i){var n=r-e;M5(n%4==0);for(var s=new Array(n/4),a=0,o=e;a<s.length;a++,o+=4){var u;i==="big"?u=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:u=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=u>>>0}return s}Se.join32=q5;function F5(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];e==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Se.split32=F5;function K5(t,e){return t>>>e|t<<32-e}Se.rotr32=K5;function U5(t,e){return t<<e|t>>>32-e}Se.rotl32=U5;function G5(t,e){return t+e>>>0}Se.sum32=G5;function z5(t,e,r){return t+e+r>>>0}Se.sum32_3=z5;function V5(t,e,r,i){return t+e+r+i>>>0}Se.sum32_4=V5;function H5(t,e,r,i,n){return t+e+r+i+n>>>0}Se.sum32_5=H5;function j5(t,e,r,i){var n=t[e],s=t[e+1],a=i+s>>>0,o=(a<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=a}Se.sum64=j5;function W5(t,e,r,i){var n=e+i>>>0,s=(n<e?1:0)+t+r;return s>>>0}Se.sum64_hi=W5;function Y5(t,e,r,i){var n=e+i;return n>>>0}Se.sum64_lo=Y5;function J5(t,e,r,i,n,s,a,o){var u=0,c=e;c=c+i>>>0,u+=c<e?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+o>>>0,u+=c<o?1:0;var f=t+r+n+a+u;return f>>>0}Se.sum64_4_hi=J5;function $5(t,e,r,i,n,s,a,o){var u=e+i+s+o;return u>>>0}Se.sum64_4_lo=$5;function Z5(t,e,r,i,n,s,a,o,u,c){var f=0,h=e;h=h+i>>>0,f+=h<e?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+o>>>0,f+=h<o?1:0,h=h+c>>>0,f+=h<c?1:0;var d=t+r+n+a+u+f;return d>>>0}Se.sum64_5_hi=Z5;function X5(t,e,r,i,n,s,a,o,u,c){var f=e+i+s+o+c;return f>>>0}Se.sum64_5_lo=X5;function Q5(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Se.rotr64_hi=Q5;function em(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Se.rotr64_lo=em;function tm(t,e,r){return t>>>r}Se.shr64_hi=tm;function rm(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Se.shr64_lo=rm});var Jn=T(D2=>{"use strict";var O2=gr(),im=Ci();function ro(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}D2.BlockHash=ro;ro.prototype.update=function(e,r){if(e=O2.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=O2.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};ro.prototype.digest=function(e){return this.update(this._pad()),im(this.pending===null),this._digest(e)};ro.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,a=8;a<this.padLength;a++)n[s++]=0;return n}});var Nf=T(ai=>{"use strict";var nm=gr(),Fr=nm.rotr32;function sm(t,e,r,i){if(t===0)return N2(e,r,i);if(t===1||t===3)return q2(e,r,i);if(t===2)return L2(e,r,i)}ai.ft_1=sm;function N2(t,e,r){return t&e^~t&r}ai.ch32=N2;function L2(t,e,r){return t&e^t&r^e&r}ai.maj32=L2;function q2(t,e,r){return t^e^r}ai.p32=q2;function am(t){return Fr(t,2)^Fr(t,13)^Fr(t,22)}ai.s0_256=am;function om(t){return Fr(t,6)^Fr(t,11)^Fr(t,25)}ai.s1_256=om;function fm(t){return Fr(t,7)^Fr(t,18)^t>>>3}ai.g0_256=fm;function cm(t){return Fr(t,17)^Fr(t,19)^t>>>10}ai.g1_256=cm});var U2=T((oS,F2)=>{"use strict";var $n=gr(),um=Jn(),hm=Nf(),Lf=$n.rotl32,Ps=$n.sum32,lm=$n.sum32_5,dm=hm.ft_1,K2=um.BlockHash,pm=[1518500249,1859775393,2400959708,3395469782];function Kr(){if(!(this instanceof Kr))return new Kr;K2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}$n.inherits(Kr,K2);F2.exports=Kr;Kr.blockSize=512;Kr.outSize=160;Kr.hmacStrength=80;Kr.padLength=64;Kr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Lf(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var f=~~(n/20),h=lm(Lf(s,5),dm(f,a,o,u),c,i[n],pm[f]);c=u,u=o,o=Lf(a,30),a=s,s=h}this.h[0]=Ps(this.h[0],s),this.h[1]=Ps(this.h[1],a),this.h[2]=Ps(this.h[2],o),this.h[3]=Ps(this.h[3],u),this.h[4]=Ps(this.h[4],c)};Kr.prototype._digest=function(e){return e==="hex"?$n.toHex32(this.h,"big"):$n.split32(this.h,"big")}});var qf=T((fS,G2)=>{"use strict";var Zn=gr(),bm=Jn(),Xn=Nf(),ym=Ci(),vr=Zn.sum32,gm=Zn.sum32_4,vm=Zn.sum32_5,xm=Xn.ch32,mm=Xn.maj32,wm=Xn.s0_256,_m=Xn.s1_256,Em=Xn.g0_256,Sm=Xn.g1_256,z2=bm.BlockHash,Im=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ur(){if(!(this instanceof Ur))return new Ur;z2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Im,this.W=new Array(64)}Zn.inherits(Ur,z2);G2.exports=Ur;Ur.blockSize=512;Ur.outSize=256;Ur.hmacStrength=192;Ur.padLength=64;Ur.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=gm(Sm(i[n-2]),i[n-7],Em(i[n-15]),i[n-16]);var s=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],c=this.h[4],f=this.h[5],h=this.h[6],d=this.h[7];for(ym(this.k.length===i.length),n=0;n<i.length;n++){var y=vm(d,_m(c),xm(c,f,h),this.k[n],i[n]),g=vr(wm(s),mm(s,a,o));d=h,h=f,f=c,c=vr(u,y),u=o,o=a,a=s,s=vr(y,g)}this.h[0]=vr(this.h[0],s),this.h[1]=vr(this.h[1],a),this.h[2]=vr(this.h[2],o),this.h[3]=vr(this.h[3],u),this.h[4]=vr(this.h[4],c),this.h[5]=vr(this.h[5],f),this.h[6]=vr(this.h[6],h),this.h[7]=vr(this.h[7],d)};Ur.prototype._digest=function(e){return e==="hex"?Zn.toHex32(this.h,"big"):Zn.split32(this.h,"big")}});var j2=T((cS,V2)=>{"use strict";var Ff=gr(),H2=qf();function oi(){if(!(this instanceof oi))return new oi;H2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ff.inherits(oi,H2);V2.exports=oi;oi.blockSize=512;oi.outSize=224;oi.hmacStrength=192;oi.padLength=64;oi.prototype._digest=function(e){return e==="hex"?Ff.toHex32(this.h.slice(0,7),"big"):Ff.split32(this.h.slice(0,7),"big")}});var Gf=T((uS,W2)=>{"use strict";var Vt=gr(),Am=Jn(),km=Ci(),Gr=Vt.rotr64_hi,zr=Vt.rotr64_lo,Y2=Vt.shr64_hi,J2=Vt.shr64_lo,Ri=Vt.sum64,Kf=Vt.sum64_hi,Uf=Vt.sum64_lo,Cm=Vt.sum64_4_hi,Bm=Vt.sum64_4_lo,Tm=Vt.sum64_5_hi,Rm=Vt.sum64_5_lo,$2=Am.BlockHash,Mm=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xr(){if(!(this instanceof xr))return new xr;$2.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Mm,this.W=new Array(160)}Vt.inherits(xr,$2);W2.exports=xr;xr.blockSize=1024;xr.outSize=512;xr.hmacStrength=192;xr.padLength=128;xr.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var s=Om(i[n-4],i[n-3]),a=Nm(i[n-4],i[n-3]),o=i[n-14],u=i[n-13],c=Pm(i[n-30],i[n-29]),f=Dm(i[n-30],i[n-29]),h=i[n-32],d=i[n-31];i[n]=Cm(s,a,o,u,c,f,h,d),i[n+1]=Bm(s,a,o,u,c,f,h,d)}};xr.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7],d=this.h[8],y=this.h[9],g=this.h[10],S=this.h[11],I=this.h[12],k=this.h[13],R=this.h[14],M=this.h[15];km(this.k.length===i.length);for(var F=0;F<i.length;F+=2){var L=R,D=M,j=zm(d,y),z=Vm(d,y),Q=Lm(d,y,g,S,I,k),E=qm(d,y,g,S,I,k),l=this.k[F],b=this.k[F+1],v=i[F],x=i[F+1],m=Tm(L,D,j,z,Q,E,l,b,v,x),C=Rm(L,D,j,z,Q,E,l,b,v,x);L=Um(n,s),D=Gm(n,s),j=Fm(n,s,a,o,u,c),z=Km(n,s,a,o,u,c);var A=Kf(L,D,j,z),w=Uf(L,D,j,z);R=I,M=k,I=g,k=S,g=d,S=y,d=Kf(f,h,m,C),y=Uf(h,h,m,C),f=u,h=c,u=a,c=o,a=n,o=s,n=Kf(m,C,A,w),s=Uf(m,C,A,w)}Ri(this.h,0,n,s),Ri(this.h,2,a,o),Ri(this.h,4,u,c),Ri(this.h,6,f,h),Ri(this.h,8,d,y),Ri(this.h,10,g,S),Ri(this.h,12,I,k),Ri(this.h,14,R,M)};xr.prototype._digest=function(e){return e==="hex"?Vt.toHex32(this.h,"big"):Vt.split32(this.h,"big")};function Lm(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function qm(t,e,r,i,n,s){var a=e&i^~e&s;return a<0&&(a+=4294967296),a}function Fm(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function Km(t,e,r,i,n,s){var a=e&i^e&s^i&s;return a<0&&(a+=4294967296),a}function Um(t,e){var r=Gr(t,e,28),i=Gr(e,t,2),n=Gr(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Gm(t,e){var r=zr(t,e,28),i=zr(e,t,2),n=zr(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function zm(t,e){var r=Gr(t,e,14),i=Gr(t,e,18),n=Gr(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function Vm(t,e){var r=zr(t,e,14),i=zr(t,e,18),n=zr(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function Pm(t,e){var r=Gr(t,e,1),i=Gr(t,e,8),n=Y2(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Dm(t,e){var r=zr(t,e,1),i=zr(t,e,8),n=J2(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Om(t,e){var r=Gr(t,e,19),i=Gr(e,t,29),n=Y2(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}function Nm(t,e){var r=zr(t,e,19),i=zr(e,t,29),n=J2(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}});var Q2=T((hS,Z2)=>{"use strict";var zf=gr(),X2=Gf();function fi(){if(!(this instanceof fi))return new fi;X2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}zf.inherits(fi,X2);Z2.exports=fi;fi.blockSize=1024;fi.outSize=384;fi.hmacStrength=192;fi.padLength=128;fi.prototype._digest=function(e){return e==="hex"?zf.toHex32(this.h.slice(0,12),"big"):zf.split32(this.h.slice(0,12),"big")}});var eb=T(Qn=>{"use strict";Qn.sha1=U2();Qn.sha224=j2();Qn.sha256=qf();Qn.sha384=Q2();Qn.sha512=Gf()});var ab=T(tb=>{"use strict";var on=gr(),Hm=Jn(),io=on.rotl32,rb=on.sum32,Ds=on.sum32_3,ib=on.sum32_4,nb=Hm.BlockHash;function Vr(){if(!(this instanceof Vr))return new Vr;nb.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}on.inherits(Vr,nb);tb.ripemd160=Vr;Vr.blockSize=512;Vr.outSize=160;Vr.hmacStrength=192;Vr.padLength=64;Vr.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],u=i,c=n,f=s,h=a,d=o,y=0;y<80;y++){var g=rb(io(ib(i,sb(y,n,s,a),e[Ym[y]+r],jm(y)),$m[y]),o);i=o,o=a,a=io(s,10),s=n,n=g,g=rb(io(ib(u,sb(79-y,c,f,h),e[Jm[y]+r],Wm(y)),Zm[y]),d),u=d,d=h,h=io(f,10),f=c,c=g}g=Ds(this.h[1],s,h),this.h[1]=Ds(this.h[2],a,d),this.h[2]=Ds(this.h[3],o,u),this.h[3]=Ds(this.h[4],i,c),this.h[4]=Ds(this.h[0],n,f),this.h[0]=g};Vr.prototype._digest=function(e){return e==="hex"?on.toHex32(this.h,"little"):on.split32(this.h,"little")};function sb(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function jm(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Wm(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Ym=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Jm=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],$m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Zm=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var fb=T((pS,ob)=>{"use strict";var Xm=gr(),Qm=Ci();function es(t,e,r){if(!(this instanceof es))return new es(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Xm.toArray(e,r))}ob.exports=es;es.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Qm(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};es.prototype.update=function(e,r){return this.inner.update(e,r),this};es.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var no=T(cb=>{var Pt=cb;Pt.utils=gr();Pt.common=Jn();Pt.sha=eb();Pt.ripemd=ab();Pt.hmac=fb();Pt.sha1=Pt.sha.sha1;Pt.sha256=Pt.sha.sha256;Pt.sha224=Pt.sha.sha224;Pt.sha384=Pt.sha.sha384;Pt.sha512=Pt.sha.sha512;Pt.ripemd160=Pt.ripemd.ripemd160});var hb=T((yS,ub)=>{ub.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var so=T(lb=>{"use strict";var Vf=lb,Mi=no(),Hf=Of(),e9=Zt(),db=e9.assert;function pb(t){t.type==="short"?this.curve=new Hf.short(t):t.type==="edwards"?this.curve=new Hf.edwards(t):this.curve=new Hf.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,db(this.g.validate(),"Invalid curve"),db(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Vf.PresetCurve=pb;function Pi(t,e){Object.defineProperty(Vf,t,{configurable:!0,enumerable:!0,get:function(){var r=new pb(e);return Object.defineProperty(Vf,t,{configurable:!0,enumerable:!0,value:r}),r}})}Pi("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Mi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Pi("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Mi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Pi("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Mi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Pi("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Mi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Pi("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Mi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Pi("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mi.sha256,gRed:!1,g:["9"]});Pi("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var jf;try{jf=hb()}catch(t){jf=void 0}Pi("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Mi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",jf]})});var gb=T((vS,bb)=>{"use strict";var t9=no(),fn=Cf(),yb=Ci();function Di(t){if(!(this instanceof Di))return new Di(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fn.toArray(t.entropy,t.entropyEnc||"hex"),r=fn.toArray(t.nonce,t.nonceEnc||"hex"),i=fn.toArray(t.pers,t.persEnc||"hex");yb(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}bb.exports=Di;Di.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Di.prototype._hmac=function(){return new t9.hmac(this.hash,this.K)};Di.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Di.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=fn.toArray(e,r),i=fn.toArray(i,n),yb(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Di.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=fn.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(i),this._reseed++,fn.encode(a,r)}});var xb=T((xS,vb)=>{"use strict";var r9=Lr(),i9=Zt(),Wf=i9.assert;function Nt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}vb.exports=Nt;Nt.fromPublic=function(e,r,i){return r instanceof Nt?r:new Nt(e,{pub:r,pubEnc:i})};Nt.fromPrivate=function(e,r,i){return r instanceof Nt?r:new Nt(e,{priv:r,privEnc:i})};Nt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Nt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Nt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Nt.prototype._importPrivate=function(e,r){this.priv=new r9(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Nt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Wf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Wf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Nt.prototype.derive=function(e){return e.validate()||Wf(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Nt.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Nt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Nt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var _b=T((mS,mb)=>{"use strict";var ao=Lr(),Yf=Zt(),n9=Yf.assert;function oo(t,e){if(t instanceof oo)return t;this._importDER(t,e)||(n9(t.r&&t.s,"Signature without r or s"),this.r=new ao(t.r,16),this.s=new ao(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}mb.exports=oo;function s9(){this.place=0}function Jf(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,a=e.place;s<i;s++,a++)n<<=8,n|=t[a],n>>>=0;return n<=127?!1:(e.place=a,n)}function wb(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}oo.prototype._importDER=function(e,r){e=Yf.toArray(e,r);var i=new s9;if(e[i.place++]!==48)return!1;var n=Jf(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=Jf(e,i);if(s===!1)return!1;var a=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var o=Jf(e,i);if(o===!1||e.length!==o+i.place)return!1;var u=e.slice(i.place,o+i.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new ao(a),this.s=new ao(u),this.recoveryParam=null,!0};function $f(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}oo.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=wb(r),i=wb(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];$f(n,r.length),n=n.concat(r),n.push(2),$f(n,i.length);var s=n.concat(i),a=[48];return $f(a,s.length),a=a.concat(s),Yf.encode(a,e)}});var Ab=T((wS,Eb)=>{"use strict";var cn=Lr(),Sb=gb(),a9=Zt(),Zf=so(),o9=Mf(),Ib=a9.assert,Xf=xb(),fo=_b();function fr(t){if(!(this instanceof fr))return new fr(t);typeof t=="string"&&(Ib(Object.prototype.hasOwnProperty.call(Zf,t),"Unknown curve "+t),t=Zf[t]),t instanceof Zf.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Eb.exports=fr;fr.prototype.keyPair=function(e){return new Xf(this,e)};fr.prototype.keyFromPrivate=function(e,r){return Xf.fromPrivate(this,e,r)};fr.prototype.keyFromPublic=function(e,r){return Xf.fromPublic(this,e,r)};fr.prototype.genKeyPair=function(e){e||(e={});for(var r=new Sb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o9(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new cn(2));;){var s=new cn(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};fr.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};fr.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new cn(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=e.toArray("be",s),u=new Sb({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new cn(1)),f=0;;f++){var h=n.k?n.k(f):new cn(u.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var d=this.g.mul(h);if(!d.isInfinity()){var y=d.getX(),g=y.umod(this.n);if(g.cmpn(0)!==0){var S=h.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var I=(d.getY().isOdd()?1:0)|(y.cmp(g)!==0?2:0);return n.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),I^=1),new fo({r:g,s:S,recoveryParam:I})}}}}}};fr.prototype.verify=function(e,r,i,n){e=this._truncateToN(new cn(e,16)),i=this.keyFromPublic(i,n),r=new fo(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),u=o.mul(e).umod(this.n),c=o.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(u,i.getPublic(),c),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(u,i.getPublic(),c),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};fr.prototype.recoverPubKey=function(t,e,r,i){Ib((3&r)===r,"The recovery param is more than two bits"),e=new fo(e,i);var n=this.n,s=new cn(t),a=e.r,o=e.s,u=r&1,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var f=e.r.invm(n),h=n.sub(s).mul(f).umod(n),d=o.mul(f).umod(n);return this.g.mulAdd(h,a,d)};fr.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new fo(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch(a){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var Tb=T((_S,kb)=>{"use strict";var Os=Zt(),Cb=Os.assert,Bb=Os.parseBytes,ts=Os.cachedProperty;function Ct(t,e){this.eddsa=t,this._secret=Bb(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Bb(e.pub)}Ct.fromPublic=function(e,r){return r instanceof Ct?r:new Ct(e,{pub:r})};Ct.fromSecret=function(e,r){return r instanceof Ct?r:new Ct(e,{secret:r})};Ct.prototype.secret=function(){return this._secret};ts(Ct,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ts(Ct,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ts(Ct,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});ts(Ct,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ts(Ct,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ts(Ct,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ct.prototype.sign=function(e){return Cb(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ct.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ct.prototype.getSecret=function(e){return Cb(this._secret,"KeyPair is public only"),Os.encode(this.secret(),e)};Ct.prototype.getPublic=function(e){return Os.encode(this.pubBytes(),e)};kb.exports=Ct});var Mb=T((ES,Rb)=>{"use strict";var f9=Lr(),co=Zt(),c9=co.assert,uo=co.cachedProperty,u9=co.parseBytes;function un(t,e){this.eddsa=t,typeof e!="object"&&(e=u9(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),c9(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof f9&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}uo(un,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});uo(un,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});uo(un,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});uo(un,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});un.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};un.prototype.toHex=function(){return co.encode(this.toBytes(),"hex").toUpperCase()};Rb.exports=un});var Lb=T((SS,Pb)=>{"use strict";var h9=no(),l9=so(),rs=Zt(),d9=rs.assert,Db=rs.parseBytes,Ob=Tb(),Nb=Mb();function Ht(t){if(d9(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ht))return new Ht(t);t=l9[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=h9.sha512}Pb.exports=Ht;Ht.prototype.sign=function(e,r){e=Db(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),a=this.encodePoint(s),o=this.hashInt(a,i.pubBytes(),e).mul(i.priv()),u=n.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:a})};Ht.prototype.verify=function(e,r,i){e=Db(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(n.pub().mul(s));return o.eq(a)};Ht.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return rs.intFromLE(e.digest()).umod(this.curve.n)};Ht.prototype.keyFromPublic=function(e){return Ob.fromPublic(this,e)};Ht.prototype.keyFromSecret=function(e){return Ob.fromSecret(this,e)};Ht.prototype.makeSignature=function(e){return e instanceof Nb?e:new Nb(this,e)};Ht.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ht.prototype.decodePoint=function(e){e=rs.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&~128),n=(e[r]&128)!=0,s=rs.intFromLE(i);return this.curve.pointFromY(s,n)};Ht.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ht.prototype.decodeInt=function(e){return rs.intFromLE(e)};Ht.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Fb=T(qb=>{"use strict";var hn=qb;hn.version=l2().version;hn.utils=Zt();hn.rand=Mf();hn.curve=Of();hn.curves=so();hn.ec=Ab();hn.eddsa=Lb()});var Ub=T((AS,Kb)=>{var p9=Fb().ec,Hr=new p9("secp256k1"),le=Hr.curve,Ie=le.n.constructor;function b9(t,e){let r=new Ie(e);if(r.cmp(le.p)>=0)return null;r=r.toRed(le.red);let i=r.redSqr().redIMul(r).redIAdd(le.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),Hr.keyPair({pub:{x:r,y:i}})}function y9(t,e,r){let i=new Ie(e),n=new Ie(r);if(i.cmp(le.p)>=0||n.cmp(le.p)>=0||(i=i.toRed(le.red),n=n.toRed(le.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let s=i.redSqr().redIMul(i);return n.redSqr().redISub(s.redIAdd(le.b)).isZero()?Hr.keyPair({pub:{x:i,y:n}}):null}function Oi(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:b9(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:y9(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function ln(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}Kb.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Ie(t);return e.cmp(le.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Ie(t),r=le.n.sub(e).umod(le.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Ie(e);if(r.cmp(le.n)>=0||(r.iadd(new Ie(t)),r.cmp(le.n)>=0&&r.isub(le.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new Ie(e);if(r.cmp(le.n)>=0||r.isZero())return 1;r.imul(new Ie(t)),r.cmp(le.n)>=0&&(r=r.umod(le.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return Oi(t)===null?1:0},publicKeyCreate(t,e){let r=new Ie(e);if(r.cmp(le.n)>=0||r.isZero())return 1;let i=Hr.keyFromPrivate(e).getPublic();return ln(t,i),0},publicKeyConvert(t,e){let r=Oi(e);if(r===null)return 1;let i=r.getPublic();return ln(t,i),0},publicKeyNegate(t,e){let r=Oi(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),ln(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=Oi(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(ln(t,i),0)},publicKeyTweakAdd(t,e,r){let i=Oi(e);if(i===null)return 1;if(r=new Ie(r),r.cmp(le.n)>=0)return 2;let n=i.getPublic().add(le.g.mul(r));return n.isInfinity()?2:(ln(t,n),0)},publicKeyTweakMul(t,e,r){let i=Oi(e);if(i===null)return 1;if(r=new Ie(r),r.cmp(le.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return ln(t,n),0},signatureNormalize(t){let e=new Ie(t.subarray(0,32)),r=new Ie(t.subarray(32,64));return e.cmp(le.n)>=0||r.cmp(le.n)>=0?1:(r.cmp(Hr.nh)===1&&t.set(le.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new Ie(r).cmp(le.n)>=0||new Ie(i).cmp(le.n)>=0)return 1;let{output:n}=t,s=n.subarray(4,4+33);s[0]=0,s.set(r,1);let a=33,o=0;for(;a>1&&s[o]===0&&!(s[o+1]&128);--a,++o);if(s=s.subarray(o),s[0]&128||a>1&&s[0]===0&&!(s[1]&128))return 1;let u=n.subarray(6+33,6+33+33);u[0]=0,u.set(i,1);let c=33,f=0;for(;c>1&&u[f]===0&&!(u[f+1]&128);--c,++f);return u=u.subarray(f),u[0]&128||c>1&&u[0]===0&&!(u[1]&128)?1:(t.outputlen=6+a+c,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+a]=2,n[5+a]=u.length,n.set(u,6+a),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let s=e.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let a=new Ie(n);a.cmp(le.n)>=0&&(a=new Ie(0));let o=new Ie(e.subarray(6+r));return o.cmp(le.n)>=0&&(o=new Ie(0)),t.set(a.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let o=n;n=u=>{let c=o(e,r,null,i,u);if(!(c instanceof Uint8Array&&c.length===32))throw new Error("This is the way");return new Ie(c)}}let s=new Ie(r);if(s.cmp(le.n)>=0||s.isZero())return 1;let a;try{a=Hr.sign(e,r,{canonical:!0,k:n,pers:i})}catch(o){return 1}return t.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),t.recid=a.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new Ie(i.r),s=new Ie(i.s);if(n.cmp(le.n)>=0||s.cmp(le.n)>=0)return 1;if(s.cmp(Hr.nh)===1||n.isZero()||s.isZero())return 3;let a=Oi(r);if(a===null)return 2;let o=a.getPublic();return Hr.verify(e,i,o)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},s=new Ie(n.r),a=new Ie(n.s);if(s.cmp(le.n)>=0||a.cmp(le.n)>=0)return 1;if(s.isZero()||a.isZero())return 2;let o;try{o=Hr.recoverPubKey(i,n,r)}catch(u){return 2}return ln(t,o),0},ecdh(t,e,r,i,n,s,a){let o=Oi(e);if(o===null)return 1;let u=new Ie(r);if(u.cmp(le.n)>=0||u.isZero())return 2;let c=o.getPublic().mul(u);if(n===void 0){let f=c.encode(null,!0),h=Hr.hash().update(f).digest();for(let d=0;d<32;++d)t[d]=h[d]}else{s||(s=new Uint8Array(32));let f=c.getX().toArray("be",32);for(let g=0;g<32;++g)s[g]=f[g];a||(a=new Uint8Array(32));let h=c.getY().toArray("be",32);for(let g=0;g<32;++g)a[g]=h[g];let d=n(s,a,i);if(!(d instanceof Uint8Array&&d.length===t.length))return 2;t.set(d)}return 0}}});var zb=T((kS,Gb)=>{Gb.exports=u2()(Ub())});var Wb=T((CS,Vb)=>{"use strict";var mr=zb(),Hb=Ss(),jb="sha2-256";Vb.exports=t=>{let e=32;function r(){let f;do f=t(32);while(!mr.privateKeyVerify(f));return f}async function i(f,h){let d=await Hb.digest(h,jb),y=mr.ecdsaSign(d,f);return mr.signatureExport(y.signature)}async function n(f,h,d){let y=await Hb.digest(d,jb);return h=mr.signatureImport(h),mr.ecdsaVerify(h,y,f)}function s(f){if(!mr.publicKeyVerify(f))throw new Error("Invalid public key");return mr.publicKeyConvert(f,!0)}function a(f){return mr.publicKeyConvert(f,!1)}function o(f){if(!mr.privateKeyVerify(f))throw new Error("Invalid private key")}function u(f){if(!mr.publicKeyVerify(f))throw new Error("Invalid public key")}function c(f){return o(f),mr.publicKeyCreate(f)}return{generateKey:r,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:s,decompressPublicKey:a,validatePrivateKey:o,validatePublicKey:u,computePublicKey:c}}});var Zb=T((BS,Yb)=>{"use strict";var Jb=Ss(),g9=Yt(),$b=wi(),v9=Jt(),x9=za();Yb.exports=(t,e,r)=>{r=r||Wb()(e);class i{constructor(c){r.validatePublicKey(c),this._key=c}verify(c,f){return r.hashAndVerify(this._key,f,c)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return $b(this.bytes,c.bytes)}hash(){return Jb.multihashing(this.bytes,"sha2-256")}}class n{constructor(c,f){this._key=c,this._publicKey=f||r.computePublicKey(c),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(c){return r.hashAndSign(this._key,c)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return $b(this.bytes,c.bytes)}hash(){return Jb.multihashing(this.bytes,"sha2-256")}async id(){let c=await this.public.hash();return v9(c,"base58btc")}async export(c,f="libp2p-key"){if(f==="libp2p-key")return x9.export(this.bytes,c);throw g9(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(u){return new n(u)}function a(u){return new i(u)}async function o(){let u=await r.generateKey();return new n(u)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:a,generateKeyPair:o}}});var Qb=T((TS,Xb)=>{"use strict";Xb.exports={SHA1:20,SHA256:32,SHA512:64}});var ry=T(ey=>{"use strict";var ty=Es(),m9=Qb(),w9={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},_9=async(t,e)=>{let r=await ty.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};ey.create=async function(t,e){let r=w9[t],i=await ty.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(n){return _9(i,n)},length:m9[t]}}});var oy=T((MS,iy)=>{"use strict";var ny=Yt(),sy=Cr(),E9=$t(),S9=ry(),ay={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};iy.exports=async(t,e,r)=>{let i=ay[t];if(!i){let R=Object.keys(ay).join(" / ");throw ny(new Error(`unknown cipher type '${t}'. Must be ${R}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw ny(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,s=i.ivSize,a=20,o=E9("key expansion"),u=2*(s+n+a),c=await S9.create(e,r),f=await c.digest(o),h=[],d=0;for(;d<u;){let R=await c.digest(sy([f,o])),M=R.length;d+M>u&&(M=u-d),h.push(R),d+=M,f=await c.digest(f)}let y=u/2,g=sy(h),S=g.slice(0,y),I=g.slice(y,u),k=R=>({iv:R.slice(0,s),cipherKey:R.slice(s,s+n),macKey:R.slice(s+n)});return{k1:k(S),k2:k(I)}}});var cy=T((PS,fy)=>{"use strict";var I9=Yt();fy.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw I9(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var by=T(uy=>{"use strict";var A9=Yt(),Ns=Es(),{base64urlToBuffer:hy}=Ga(),k9=cy(),Qf=Jt(),C9=Cr(),B9=wi(),ly={"P-256":256,"P-384":384,"P-521":521};uy.generateEphmeralKeyPair=async function(t){k9(Object.keys(ly),t);let e=await Ns.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(n,s)=>{let a;s?a=await Ns.get().subtle.importKey("jwk",R9(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):a=e.privateKey;let o=[await Ns.get().subtle.importKey("jwk",dy(t,n),{name:"ECDH",namedCurve:t},!1,[]),a],u=await Ns.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],ly[t]);return new Uint8Array(u,u.byteOffset,u.byteLength)},i=await Ns.get().subtle.exportKey("jwk",e.publicKey);return{key:T9(i),genSharedKey:r}};var py={"P-256":32,"P-384":48,"P-521":66};function T9(t){let e=py[t.crv];return C9([Uint8Array.from([4]),hy(t.x,e),hy(t.y,e)],1+e*2)}function dy(t,e){let r=py[t];if(B9(!e.slice(0,1),Uint8Array.from([4])))throw A9(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Qf(e.slice(1,r+1),"base64url"),y:Qf(e.slice(1+r),"base64url"),ext:!0}}var R9=(t,e)=>({...dy(t,e.public),d:Qf(e.private,"base64url")})});var gy=T((OS,yy)=>{"use strict";var M9=by();yy.exports=async t=>M9.generateEphmeralKeyPair(t)});var tc=T((NS,vy)=>{"use strict";var jr=_a();Pn();p1();var ec=me(),Ls=Yt(),P9=$t(),D9=x1(),cr={rsa:t2(),ed25519:f2(),secp256k1:Zb()(jr,la())},ho={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function is(t){let e=cr[t.toLowerCase()];if(!e){let r=Object.keys(cr).join(" / ");throw Ls(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var O9=async(t,e)=>is(t).generateKeyPair(e),N9=async(t,e,r)=>{let i=is(t);if(t.toLowerCase()!=="ed25519")throw Ls(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,r)},L9=t=>{let e=jr.PublicKey.decode(t),r=e.Data;switch(e.Type){case jr.KeyType.RSA:return cr.rsa.unmarshalRsaPublicKey(r);case jr.KeyType.Ed25519:return cr.ed25519.unmarshalEd25519PublicKey(r);case jr.KeyType.Secp256k1:if(cr.secp256k1)return cr.secp256k1.unmarshalSecp256k1PublicKey(r);throw Ls(new Error(ho.message),ho.code);default:is(e.Type)}},q9=(t,e)=>(e=(e||"rsa").toLowerCase(),is(e),t.bytes),xy=async t=>{let e=jr.PrivateKey.decode(t),r=e.Data;switch(e.Type){case jr.KeyType.RSA:return cr.rsa.unmarshalRsaPrivateKey(r);case jr.KeyType.Ed25519:return cr.ed25519.unmarshalEd25519PrivateKey(r);case jr.KeyType.Secp256k1:if(cr.secp256k1)return cr.secp256k1.unmarshalSecp256k1PrivateKey(r);throw Ls(new Error(ho.message),ho.code);default:is(e.Type)}},F9=(t,e)=>(e=(e||"rsa").toLowerCase(),is(e),t.bytes),K9=async(t,e)=>{try{let n=await D9.import(t,e);return xy(n)}catch(n){}let r=ec.pki.decryptRsaPrivateKey(t,e);if(r===null)throw Ls(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=ec.asn1.toDer(ec.pki.privateKeyToAsn1(r));return i=P9(i.getBytes(),"ascii"),cr.rsa.unmarshalRsaPrivateKey(i)};vy.exports={supportedKeys:cr,keysPBM:jr,keyStretcher:oy(),generateEphemeralKeyPair:gy(),generateKeyPair:O9,generateKeyPairFromSeed:N9,unmarshalPublicKey:L9,marshalPublicKey:q9,unmarshalPrivateKey:xy,marshalPrivateKey:F9,import:K9}});var my=T((LS,rc)=>{"use strict";function U9(t,{className:e,symbolName:r}){let i=Symbol.for(r),n={[e]:class extends t{constructor(...s){super(...s);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=s=>!!(s&&s[i]),n}function G9(t,{className:e,symbolName:r,withoutNew:i}){let n=Symbol.for(r),s={[e]:function(...a){if(i&&!(this instanceof s))return new s(...a);let o=t.call(this,...a)||this;return o&&!o[n]&&Object.defineProperty(o,n,{value:!0}),o}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=a=>!!(a&&a[n]),s}rc.exports=U9;rc.exports.proto=G9});var Ey=T((qS,wy)=>{"use strict";var ns=En(),_y=ns.Reader,z9=ns.Writer,xt=ns.util,qs=ns.roots["libp2p-peer-id"]||(ns.roots["libp2p-peer-id"]={});qs.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.id=xt.newBuffer([]),t.prototype.pubKey=xt.newBuffer([]),t.prototype.privKey=xt.newBuffer([]),t.encode=function(r,i){return i||(i=z9.create()),i.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&i.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&i.uint32(26).bytes(r.privKey),i},t.decode=function(r,i){r instanceof _y||(r=_y.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new qs.PeerIdProto;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("id"))throw xt.ProtocolError("missing required 'id'",{instance:s});return s},t.fromObject=function(r){if(r instanceof qs.PeerIdProto)return r;var i=new qs.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?xt.base64.decode(r.id,i.id=xt.newBuffer(xt.base64.length(r.id)),0):r.id.length&&(i.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?xt.base64.decode(r.pubKey,i.pubKey=xt.newBuffer(xt.base64.length(r.pubKey)),0):r.pubKey.length&&(i.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?xt.base64.decode(r.privKey,i.privKey=xt.newBuffer(xt.base64.length(r.privKey)),0):r.privKey.length&&(i.privKey=r.privKey)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.id="":(n.id=[],i.bytes!==Array&&(n.id=xt.newBuffer(n.id))),i.bytes===String?n.pubKey="":(n.pubKey=[],i.bytes!==Array&&(n.pubKey=xt.newBuffer(n.pubKey))),i.bytes===String?n.privKey="":(n.privKey=[],i.bytes!==Array&&(n.privKey=xt.newBuffer(n.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(n.id=i.bytes===String?xt.base64.encode(r.id,0,r.id.length):i.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(n.pubKey=i.bytes===String?xt.base64.encode(r.pubKey,0,r.pubKey.length):i.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(n.privKey=i.bytes===String?xt.base64.encode(r.privKey,0,r.privKey.length):i.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ns.util.toJSONOptions)},t}();wy.exports=qs});var ss=T((Xt,Sy)=>{"use strict";var dn=Wi(),ic=$d(),Wr=tc(),V9=my(),{PeerIdProto:Iy}=Ey(),pn=wi(),Fs=$t(),H9=Jt(),Ay=class{constructor(e,r,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&i&&!pn(r.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=dn.toB58String(this.id),this._privKey=r,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=dn.decode(this.id);e.name==="identity"&&(this._pubKey=Wr.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return Wr.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return Wr.marshalPrivateKey(this.privKey)}marshal(e){return Iy.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:ky(this.marshalPrivKey()),pubKey:ky(this.marshalPubKey())}}toHexString(){return dn.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=new ic(1,"libp2p-key",this.id,"base32");Object.defineProperty(this,"_idCIDString",{value:e.toBaseEncodedString("base32"),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return pn(this.id,e);if(e.id)return pn(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&pn(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(dn.decode(this.id).name==="identity")return!0}catch(e){}return!1}},Yr=V9(Ay,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Xt=Sy.exports=Yr;var Ks=t=>t.bytes.length<=42?dn.encode(t.bytes,"identity"):t.hash(),nc=async(t,e)=>{let r=await Ks(e);return new Yr(r,t,e)};Xt.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await Wr.generateKeyPair(t.keyType,t.bits);return nc(e,e.public)};Xt.createFromHexString=t=>new Yr(dn.fromHexString(t));Xt.createFromBytes=t=>new Yr(t);Xt.createFromB58String=t=>Xt.createFromCID(t);var j9=t=>t.codec==="libp2p-key"||t.codec==="dag-pb";Xt.createFromCID=t=>{if(t=ic.isCID(t)?t:new ic(t),!j9(t))throw new Error("Supplied PeerID CID has invalid multicodec: "+t.codec);return new Yr(t.multihash)};Xt.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=Fs(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await Wr.unmarshalPublicKey(e);return nc(null,r)};Xt.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=Fs(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await Wr.unmarshalPrivateKey(t);return nc(e,e.public)};Xt.createFromJSON=async t=>{let e=dn.fromB58String(t.id),r=t.privKey&&Fs(t.privKey,"base64pad"),i=t.pubKey&&Fs(t.pubKey,"base64pad"),n=i&&await Wr.unmarshalPublicKey(i);if(!r)return new Yr(e,null,n);let s=await Wr.unmarshalPrivateKey(r),a=await Ks(s.public),o;if(n&&(o=await Ks(n)),n&&!pn(a,o))throw new Error("Public and private key do not match");if(e&&!pn(a,e))throw new Error("Id and private key do not match");return new Yr(e,s,n)};Xt.createFromProtobuf=async t=>{typeof t=="string"&&(t=Fs(t,"base16"));let{id:e,privKey:r,pubKey:i}=Iy.decode(t);r=r?await Wr.unmarshalPrivateKey(r):!1,i=i?await Wr.unmarshalPublicKey(i):!1;let n,s;if(r&&(s=await Ks(r.public)),i&&(n=await Ks(i)),r){if(i&&!pn(s,n))throw new Error("Public and private key do not match");return new Yr(s,r,r.public)}if(i)return new Yr(n,null,i);if(e)return new Yr(e);throw new Error("Protobuf did not contain any usable key material")};Xt.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function ky(t){if(t)return H9(t,"base64pad")}});var Ty=T((FS,Cy)=>{"use strict";var W9=la(),Y9=Jt(),By=$t(),J9=ss(),$9=Wi(),Z9=()=>W9(8),X9=(t,e)=>{let r=J9.createFromB58String(t).id,i=new Uint8Array(r.length+e.length);return i.set(r,0),i.set(e,r.length),i},Q9=t=>$9.encode(t,"sha2-256"),e7=(t,e)=>{let r;Array.isArray(e)?r=i=>e.indexOf(i)>-1:r=i=>e.has(i);for(let i of t)if(r(i))return!0;return!1},t7=t=>Array.isArray(t)?t:[t],r7=(t,e)=>{let r=Object.assign({},t);return t.from instanceof Uint8Array&&(r.from=Y9(t.from,"base58btc")),e&&(r.receivedFrom=e),r},i7=t=>{let e=Object.assign({},t);return typeof t.from=="string"&&(e.from=By(t.from,"base58btc")),typeof t.data=="string"&&(e.data=By(t.data)),e};Cy.exports={randomSeqno:Z9,msgId:X9,noSignMsgId:Q9,anyMatch:e7,ensureArray:t7,normalizeInRpcMessage:r7,normalizeOutRpcMessage:i7}});var Oy=T((KS,Ry)=>{"use strict";var sc=ss(),{RPC:My}=h0(),Py=Cr(),n7=$t(),ac=n7("libp2p-pubsub:");async function s7(t,e){let r=Py([ac,My.Message.encode(e).finish()]),i=await t.privKey.sign(r);return{...e,signature:i,key:t.pubKey.bytes}}async function a7(t){if(!t.signature)throw new Error("Message must contain a signature to be verified");let e=Py([ac,My.Message.encode({...t,from:sc.createFromCID(t.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await Dy(t)).verify(e,t.signature)}async function Dy(t){if(!t.from)throw new Error("Could not get the public key from the originator id");let e=sc.createFromCID(t.from);if(t.key){let r=await sc.createFromPubKey(t.key);if(r.equals(e))return r.pubKey;throw new Error("Public Key does not match the originator")}else{if(e.pubKey)return e.pubKey;throw new Error("Could not get the public key from the originator id")}}Ry.exports={messagePublicKey:Dy,signMessage:s7,SignPrefix:ac,verifySignature:a7}});var Fy=T((US,Ny)=>{"use strict";var Ly=Js(),{EventEmitter:o7}=Yo(),jt=Yt(),{pipe:f7}=$o(),c7=cu(),{codes:wr}=Qs(),{RPC:qy}=h0(),u7=Bl(),{SignaturePolicy:ci}=Rl(),ui=Ty(),{signMessage:h7,verifySignature:l7}=Oy(),lo=class extends o7{constructor({debugName:e,multicodecs:r,libp2p:i,globalSignaturePolicy:n=ci.StrictSign,canRelayMessage:s=!1,emitSelf:a=!1}){if(typeof e!="string")throw new Error("a debugname `string` is required");if(!r)throw new Error("multicodecs are required");if(!i)throw new Error("libp2p is required");super();if(this.log=Object.assign(Ly(e),{err:Ly(`${e}:error`)}),this.multicodecs=ui.ensureArray(r),this._libp2p=i,this.registrar=i.registrar,this.peerId=i.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!ci[n])throw jt(new Error("Invalid global signature policy"),wr.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=s,this.emitSelf=a,this.topicValidators=new Map,this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);let e=new c7({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){!this.started||(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:r,connection:i}){let n=i.remotePeer,s=n.toB58String(),a=this._addPeer(n,e),o=a.attachInboundStream(r);this._processMessages(s,o,a)}async _onPeerConnected(e,r){let i=e.toB58String();this.log("connected",i);try{let{stream:n,protocol:s}=await r.newStream(this.multicodecs);await this._addPeer(e,s).attachOutboundStream(n)}catch(n){this.log.err(n)}this._sendSubscriptions(i,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,r){let i=e.toB58String();this.log("connection ended",i,r?r.message:""),this._removePeer(e)}_addPeer(e,r){let i=e.toB58String(),n=this.peers.get(i);if(n)return n;this.log("new peer",i);let s=new u7({id:e,protocol:r});return this.peers.set(i,s),s.once("close",()=>this._removePeer(e)),s}_removePeer(e){if(!e)return;let r=e.toB58String(),i=this.peers.get(r);if(!!i){i.removeAllListeners(),i.close(),this.log("delete peer",r),this.peers.delete(r);for(let n of this.topics.values())n.delete(r);return i}}async _processMessages(e,r,i){try{await f7(r,async n=>{for await(let s of n){let a=s instanceof Uint8Array?s:s.slice(),o=this._decodeRpc(a);this._processRpc(e,i,o)}})}catch(n){this._onPeerDisconnected(i.id,n)}}_processRpc(e,r,i){this.log("rpc from",e);let n=i.subscriptions,s=i.msgs;return n.length&&(n.forEach(a=>{this._processRpcSubOpt(e,a)}),this.emit("pubsub:subscription-change",r.id,n)),this._acceptFrom(e)?(s.length&&s.forEach(a=>{if(!(this.canRelayMessage||a.topicIDs&&a.topicIDs.some(u=>this.subscriptions.has(u)))){this.log("received message we didn't subscribe to. Dropping.");return}let o=ui.normalizeInRpcMessage(a,e);this._processRpcMessage(o)}),!0):(this.log("received message from unacceptable peer %s",e),!1)}_processRpcSubOpt(e,r){let i=r.topicID;if(!i)return;let n=this.topics.get(i);n||(n=new Set,this.topics.set(i,n)),r.subscribe?n.add(e):n.delete(e)}async _processRpcMessage(e){if(!(this.peerId.toB58String()===e.from&&!this.emitSelf)){try{await this.validate(e)}catch(r){this.log("Message is invalid, dropping it. %O",r);return}this._emitMessage(e),this._publish(ui.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(r=>{this.subscriptions.has(r)&&this.emit(r,e)})}getMsgId(e){let r=this.globalSignaturePolicy;switch(r){case ci.StrictSign:return ui.msgId(e.from,e.seqno);case ci.StrictNoSign:return ui.noSignMsgId(e.data);default:throw jt(new Error("Cannot get message id: unhandled signature policy: "+r),wr.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return qy.decode(e)}_encodeRpc(e){return qy.encode(e).finish()}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable){let n=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(n);return}i.write(this._encodeRpc(r))}_sendSubscriptions(e,r,i){return this._sendRpc(e,{subscriptions:r.map(n=>({topicID:n,subscribe:i}))})}async validate(e){let r=this.globalSignaturePolicy;switch(r){case ci.StrictNoSign:if(e.from)throw jt(new Error("StrictNoSigning: from should not be present"),wr.ERR_UNEXPECTED_FROM);if(e.signature)throw jt(new Error("StrictNoSigning: signature should not be present"),wr.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw jt(new Error("StrictNoSigning: key should not be present"),wr.ERR_UNEXPECTED_KEY);if(e.seqno)throw jt(new Error("StrictNoSigning: seqno should not be present"),wr.ERR_UNEXPECTED_SEQNO);break;case ci.StrictSign:if(!e.signature)throw jt(new Error("StrictSigning: Signing required and no signature was present"),wr.ERR_MISSING_SIGNATURE);if(!e.seqno)throw jt(new Error("StrictSigning: Signing required and no seqno was present"),wr.ERR_MISSING_SEQNO);if(!await l7(e))throw jt(new Error("StrictSigning: Invalid message signature"),wr.ERR_INVALID_SIGNATURE);break;default:throw jt(new Error("Cannot validate message: unhandled signature policy: "+r),wr.ERR_UNHANDLED_SIGNATURE_POLICY)}for(let i of e.topicIDs){let n=this.topicValidators.get(i);n&&await n(i,e)}}_buildMessage(e){let r=this.globalSignaturePolicy;switch(r){case ci.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=ui.randomSeqno(),h7(this.peerId,ui.normalizeOutRpcMessage(e));case ci.StrictNoSign:return Promise.resolve(e);default:throw jt(new Error("Cannot build message: unhandled signature policy: "+r),wr.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw jt(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||typeof e!="string")throw jt(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");let r=this.topics.get(e);return r?Array.from(r):[]}async publish(e,r){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,r);let n={receivedFrom:this.peerId.toB58String(),data:r,topicIDs:[e]},s=await this._buildMessage(n),a=ui.normalizeInRpcMessage(s);this.emitSelf&&this._emitMessage(a),await this._publish(a)}_publish(e){throw jt(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&this.listenerCount(e)===0&&(this.subscriptions.delete(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}};lo.utils=ui;lo.SignaturePolicy=ci;Ny.exports=lo});var Ky=T(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.createGossipRpc=void 0;function d7(t=[],e={}){return{subscriptions:[],msgs:t,control:Object.assign({ihave:[],iwant:[],graft:[],prune:[]},e)}}po.createGossipRpc=d7});var Uy=T(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.shuffle=void 0;function p7(t){if(t.length<=1)return t;let e=()=>Math.floor(Math.random()*Math.floor(t.length));for(let r=0;r<t.length;r++){let i=e(),n=t[r];t[r]=t[i],t[i]=n}return t}bo.shuffle=p7});var bn=T(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.ERR_TOPIC_VALIDATOR_IGNORE=G.ERR_TOPIC_VALIDATOR_REJECT=G.TimeCacheDuration=G.GossipsubIWantFollowupTime=G.GossipsubMaxIHaveMessages=G.GossipsubMaxIHaveLength=G.GossipsubGraftFloodThreshold=G.GossipsubOpportunisticGraftPeers=G.GossipsubOpportunisticGraftTicks=G.GossipsubDirectConnectInitialDelay=G.GossipsubDirectConnectTicks=G.GossipsubConnectionTimeout=G.GossipsubMaxPendingConnections=G.GossipsubConnectors=G.GossipsubPruneBackoffTicks=G.GossipsubPruneBackoff=G.GossipsubPrunePeers=G.GossipsubFanoutTTL=G.GossipsubHeartbeatInterval=G.GossipsubHeartbeatInitialDelay=G.GossipsubGossipRetransmission=G.GossipsubGossipFactor=G.GossipsubDlazy=G.GossipsubHistoryGossip=G.GossipsubHistoryLength=G.GossipsubDout=G.GossipsubDscore=G.GossipsubDhi=G.GossipsubDlo=G.GossipsubD=G.GossipsubIDv11=G.GossipsubIDv10=G.FloodsubID=G.minute=G.second=void 0;G.second=1e3;G.minute=60*G.second;G.FloodsubID="/floodsub/1.0.0";G.GossipsubIDv10="/meshsub/1.0.0";G.GossipsubIDv11="/meshsub/1.1.0";G.GossipsubD=6;G.GossipsubDlo=4;G.GossipsubDhi=12;G.GossipsubDscore=4;G.GossipsubDout=2;G.GossipsubHistoryLength=5;G.GossipsubHistoryGossip=3;G.GossipsubDlazy=6;G.GossipsubGossipFactor=.25;G.GossipsubGossipRetransmission=3;G.GossipsubHeartbeatInitialDelay=100;G.GossipsubHeartbeatInterval=G.second;G.GossipsubFanoutTTL=G.minute;G.GossipsubPrunePeers=16;G.GossipsubPruneBackoff=G.minute;G.GossipsubPruneBackoffTicks=15;G.GossipsubConnectors=8;G.GossipsubMaxPendingConnections=128;G.GossipsubConnectionTimeout=30*G.second;G.GossipsubDirectConnectTicks=300;G.GossipsubDirectConnectInitialDelay=G.second;G.GossipsubOpportunisticGraftTicks=60;G.GossipsubOpportunisticGraftPeers=2;G.GossipsubGraftFloodThreshold=10*G.second;G.GossipsubMaxIHaveLength=5e3;G.GossipsubMaxIHaveMessages=10;G.GossipsubIWantFollowupTime=3*G.second;G.TimeCacheDuration=120*1e3;G.ERR_TOPIC_VALIDATOR_REJECT="ERR_TOPIC_VALIDATOR_REJECT";G.ERR_TOPIC_VALIDATOR_IGNORE="ERR_TOPIC_VALIDATOR_IGNORE"});var zy=T(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.hasGossipProtocol=void 0;var Gy=bn();function b7(t){return t===Gy.GossipsubIDv10||t===Gy.GossipsubIDv11}yo.hasGossipProtocol=b7});var Vy=T(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.messageIdToString=void 0;var y7=Jt();function g7(t){return y7(t,"base64")}go.messageIdToString=g7});var yn=T(Jr=>{"use strict";var v7=Jr&&Jr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),vo=Jr&&Jr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&v7(e,t,r)};Object.defineProperty(Jr,"__esModule",{value:!0});vo(Ky(),Jr);vo(Uy(),Jr);vo(zy(),Jr);vo(Vy(),Jr)});var jy=T(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.MessageCache=void 0;var mo=yn(),Hy=class{constructor(e,r,i){this.msgs=new Map,this.peertx=new Map,this.history=[];for(let n=0;n<r;n++)this.history[n]=[];this.gossip=e,this.msgIdFn=i}put(e){let r=this.getMsgId(e),i=mo.messageIdToString(r);this.msgs.set(i,e),this.history[0].push({msgID:r,topics:e.topicIDs})}getMsgId(e){return this.msgIdFn(e)}get(e){return this.msgs.get(mo.messageIdToString(e))}getForPeer(e,r){let i=mo.messageIdToString(e),n=this.msgs.get(i);if(!n)return[void 0,0];let s=this.peertx.get(i);s||(s=new Map,this.peertx.set(i,s));let a=(s.get(r)||0)+1;return s.set(r,a),[n,a]}getGossipIDs(e){let r=[];for(let i=0;i<this.gossip;i++)this.history[i].forEach(n=>{for(let s of n.topics)if(s===e){r.push(n.msgID);break}});return r}shift(){this.history[this.history.length-1].forEach(r=>{let i=mo.messageIdToString(r.msgID);this.msgs.delete(i),this.peertx.delete(i)}),this.history.pop(),this.history.unshift([])}};xo.MessageCache=Hy});var Yy=T((Wy,Us)=>{(function(t,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof Us=="object"&&Us&&Us.exports&&(Us.exports=e(En()))})(Wy,function(t){"use strict";var e=t.Reader,r=t.Writer,i=t.util,n=t.roots.default||(t.roots.default={});return n.RPC=function(){function s(o){if(this.subscriptions=[],this.msgs=[],o)for(var u=Object.keys(o),c=0;c<u.length;++c)o[u[c]]!=null&&(this[u[c]]=o[u[c]])}s.prototype.subscriptions=i.emptyArray,s.prototype.msgs=i.emptyArray,s.prototype.control=null;var a;return Object.defineProperty(s.prototype,"_control",{get:i.oneOfGetter(a=["control"]),set:i.oneOfSetter(a)}),s.encode=function(u,c){if(c||(c=r.create()),u.subscriptions!=null&&u.subscriptions.length)for(var f=0;f<u.subscriptions.length;++f)n.RPC.SubOpts.encode(u.subscriptions[f],c.uint32(10).fork()).ldelim();if(u.msgs!=null&&u.msgs.length)for(var f=0;f<u.msgs.length;++f)n.RPC.Message.encode(u.msgs[f],c.uint32(18).fork()).ldelim();return u.control!=null&&Object.hasOwnProperty.call(u,"control")&&n.RPC.ControlMessage.encode(u.control,c.uint32(26).fork()).ldelim(),c},s.decode=function(u,c){u instanceof e||(u=e.create(u));for(var f=c===void 0?u.len:u.pos+c,h=new n.RPC;u.pos<f;){var d=u.uint32();switch(d>>>3){case 1:h.subscriptions&&h.subscriptions.length||(h.subscriptions=[]),h.subscriptions.push(n.RPC.SubOpts.decode(u,u.uint32()));break;case 2:h.msgs&&h.msgs.length||(h.msgs=[]),h.msgs.push(n.RPC.Message.decode(u,u.uint32()));break;case 3:h.control=n.RPC.ControlMessage.decode(u,u.uint32());break;default:u.skipType(d&7);break}}return h},s.fromObject=function(u){if(u instanceof n.RPC)return u;var c=new n.RPC;if(u.subscriptions){if(!Array.isArray(u.subscriptions))throw TypeError(".RPC.subscriptions: array expected");c.subscriptions=[];for(var f=0;f<u.subscriptions.length;++f){if(typeof u.subscriptions[f]!="object")throw TypeError(".RPC.subscriptions: object expected");c.subscriptions[f]=n.RPC.SubOpts.fromObject(u.subscriptions[f])}}if(u.msgs){if(!Array.isArray(u.msgs))throw TypeError(".RPC.msgs: array expected");c.msgs=[];for(var f=0;f<u.msgs.length;++f){if(typeof u.msgs[f]!="object")throw TypeError(".RPC.msgs: object expected");c.msgs[f]=n.RPC.Message.fromObject(u.msgs[f])}}if(u.control!=null){if(typeof u.control!="object")throw TypeError(".RPC.control: object expected");c.control=n.RPC.ControlMessage.fromObject(u.control)}return c},s.toObject=function(u,c){c||(c={});var f={};if((c.arrays||c.defaults)&&(f.subscriptions=[],f.msgs=[]),u.subscriptions&&u.subscriptions.length){f.subscriptions=[];for(var h=0;h<u.subscriptions.length;++h)f.subscriptions[h]=n.RPC.SubOpts.toObject(u.subscriptions[h],c)}if(u.msgs&&u.msgs.length){f.msgs=[];for(var h=0;h<u.msgs.length;++h)f.msgs[h]=n.RPC.Message.toObject(u.msgs[h],c)}return u.control!=null&&u.hasOwnProperty("control")&&(f.control=n.RPC.ControlMessage.toObject(u.control,c),c.oneofs&&(f._control="control")),f},s.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},s.SubOpts=function(){function o(c){if(c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.subscribe=null,o.prototype.topicID=null;var u;return Object.defineProperty(o.prototype,"_subscribe",{get:i.oneOfGetter(u=["subscribe"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){return h||(h=r.create()),f.subscribe!=null&&Object.hasOwnProperty.call(f,"subscribe")&&h.uint32(8).bool(f.subscribe),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(18).string(f.topicID),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,y=new n.RPC.SubOpts;f.pos<d;){var g=f.uint32();switch(g>>>3){case 1:y.subscribe=f.bool();break;case 2:y.topicID=f.string();break;default:f.skipType(g&7);break}}return y},o.fromObject=function(f){if(f instanceof n.RPC.SubOpts)return f;var h=new n.RPC.SubOpts;return f.subscribe!=null&&(h.subscribe=Boolean(f.subscribe)),f.topicID!=null&&(h.topicID=String(f.topicID)),h},o.toObject=function(f,h){h||(h={});var d={};return f.subscribe!=null&&f.hasOwnProperty("subscribe")&&(d.subscribe=f.subscribe,h.oneofs&&(d._subscribe="subscribe")),f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.Message=function(){function o(c){if(this.topicIDs=[],c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.from=null,o.prototype.data=null,o.prototype.seqno=null,o.prototype.topicIDs=i.emptyArray,o.prototype.signature=null,o.prototype.key=null;var u;return Object.defineProperty(o.prototype,"_from",{get:i.oneOfGetter(u=["from"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_data",{get:i.oneOfGetter(u=["data"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_seqno",{get:i.oneOfGetter(u=["seqno"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_signature",{get:i.oneOfGetter(u=["signature"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_key",{get:i.oneOfGetter(u=["key"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){if(h||(h=r.create()),f.from!=null&&Object.hasOwnProperty.call(f,"from")&&h.uint32(10).bytes(f.from),f.data!=null&&Object.hasOwnProperty.call(f,"data")&&h.uint32(18).bytes(f.data),f.seqno!=null&&Object.hasOwnProperty.call(f,"seqno")&&h.uint32(26).bytes(f.seqno),f.topicIDs!=null&&f.topicIDs.length)for(var d=0;d<f.topicIDs.length;++d)h.uint32(34).string(f.topicIDs[d]);return f.signature!=null&&Object.hasOwnProperty.call(f,"signature")&&h.uint32(42).bytes(f.signature),f.key!=null&&Object.hasOwnProperty.call(f,"key")&&h.uint32(50).bytes(f.key),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,y=new n.RPC.Message;f.pos<d;){var g=f.uint32();switch(g>>>3){case 1:y.from=f.bytes();break;case 2:y.data=f.bytes();break;case 3:y.seqno=f.bytes();break;case 4:y.topicIDs&&y.topicIDs.length||(y.topicIDs=[]),y.topicIDs.push(f.string());break;case 5:y.signature=f.bytes();break;case 6:y.key=f.bytes();break;default:f.skipType(g&7);break}}return y},o.fromObject=function(f){if(f instanceof n.RPC.Message)return f;var h=new n.RPC.Message;if(f.from!=null&&(typeof f.from=="string"?i.base64.decode(f.from,h.from=i.newBuffer(i.base64.length(f.from)),0):f.from.length&&(h.from=f.from)),f.data!=null&&(typeof f.data=="string"?i.base64.decode(f.data,h.data=i.newBuffer(i.base64.length(f.data)),0):f.data.length&&(h.data=f.data)),f.seqno!=null&&(typeof f.seqno=="string"?i.base64.decode(f.seqno,h.seqno=i.newBuffer(i.base64.length(f.seqno)),0):f.seqno.length&&(h.seqno=f.seqno)),f.topicIDs){if(!Array.isArray(f.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");h.topicIDs=[];for(var d=0;d<f.topicIDs.length;++d)h.topicIDs[d]=String(f.topicIDs[d])}return f.signature!=null&&(typeof f.signature=="string"?i.base64.decode(f.signature,h.signature=i.newBuffer(i.base64.length(f.signature)),0):f.signature.length&&(h.signature=f.signature)),f.key!=null&&(typeof f.key=="string"?i.base64.decode(f.key,h.key=i.newBuffer(i.base64.length(f.key)),0):f.key.length&&(h.key=f.key)),h},o.toObject=function(f,h){h||(h={});var d={};if((h.arrays||h.defaults)&&(d.topicIDs=[]),f.from!=null&&f.hasOwnProperty("from")&&(d.from=h.bytes===String?i.base64.encode(f.from,0,f.from.length):h.bytes===Array?Array.prototype.slice.call(f.from):f.from,h.oneofs&&(d._from="from")),f.data!=null&&f.hasOwnProperty("data")&&(d.data=h.bytes===String?i.base64.encode(f.data,0,f.data.length):h.bytes===Array?Array.prototype.slice.call(f.data):f.data,h.oneofs&&(d._data="data")),f.seqno!=null&&f.hasOwnProperty("seqno")&&(d.seqno=h.bytes===String?i.base64.encode(f.seqno,0,f.seqno.length):h.bytes===Array?Array.prototype.slice.call(f.seqno):f.seqno,h.oneofs&&(d._seqno="seqno")),f.topicIDs&&f.topicIDs.length){d.topicIDs=[];for(var y=0;y<f.topicIDs.length;++y)d.topicIDs[y]=f.topicIDs[y]}return f.signature!=null&&f.hasOwnProperty("signature")&&(d.signature=h.bytes===String?i.base64.encode(f.signature,0,f.signature.length):h.bytes===Array?Array.prototype.slice.call(f.signature):f.signature,h.oneofs&&(d._signature="signature")),f.key!=null&&f.hasOwnProperty("key")&&(d.key=h.bytes===String?i.base64.encode(f.key,0,f.key.length):h.bytes===Array?Array.prototype.slice.call(f.key):f.key,h.oneofs&&(d._key="key")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlMessage=function(){function o(u){if(this.ihave=[],this.iwant=[],this.graft=[],this.prune=[],u)for(var c=Object.keys(u),f=0;f<c.length;++f)u[c[f]]!=null&&(this[c[f]]=u[c[f]])}return o.prototype.ihave=i.emptyArray,o.prototype.iwant=i.emptyArray,o.prototype.graft=i.emptyArray,o.prototype.prune=i.emptyArray,o.encode=function(c,f){if(f||(f=r.create()),c.ihave!=null&&c.ihave.length)for(var h=0;h<c.ihave.length;++h)n.RPC.ControlIHave.encode(c.ihave[h],f.uint32(10).fork()).ldelim();if(c.iwant!=null&&c.iwant.length)for(var h=0;h<c.iwant.length;++h)n.RPC.ControlIWant.encode(c.iwant[h],f.uint32(18).fork()).ldelim();if(c.graft!=null&&c.graft.length)for(var h=0;h<c.graft.length;++h)n.RPC.ControlGraft.encode(c.graft[h],f.uint32(26).fork()).ldelim();if(c.prune!=null&&c.prune.length)for(var h=0;h<c.prune.length;++h)n.RPC.ControlPrune.encode(c.prune[h],f.uint32(34).fork()).ldelim();return f},o.decode=function(c,f){c instanceof e||(c=e.create(c));for(var h=f===void 0?c.len:c.pos+f,d=new n.RPC.ControlMessage;c.pos<h;){var y=c.uint32();switch(y>>>3){case 1:d.ihave&&d.ihave.length||(d.ihave=[]),d.ihave.push(n.RPC.ControlIHave.decode(c,c.uint32()));break;case 2:d.iwant&&d.iwant.length||(d.iwant=[]),d.iwant.push(n.RPC.ControlIWant.decode(c,c.uint32()));break;case 3:d.graft&&d.graft.length||(d.graft=[]),d.graft.push(n.RPC.ControlGraft.decode(c,c.uint32()));break;case 4:d.prune&&d.prune.length||(d.prune=[]),d.prune.push(n.RPC.ControlPrune.decode(c,c.uint32()));break;default:c.skipType(y&7);break}}return d},o.fromObject=function(c){if(c instanceof n.RPC.ControlMessage)return c;var f=new n.RPC.ControlMessage;if(c.ihave){if(!Array.isArray(c.ihave))throw TypeError(".RPC.ControlMessage.ihave: array expected");f.ihave=[];for(var h=0;h<c.ihave.length;++h){if(typeof c.ihave[h]!="object")throw TypeError(".RPC.ControlMessage.ihave: object expected");f.ihave[h]=n.RPC.ControlIHave.fromObject(c.ihave[h])}}if(c.iwant){if(!Array.isArray(c.iwant))throw TypeError(".RPC.ControlMessage.iwant: array expected");f.iwant=[];for(var h=0;h<c.iwant.length;++h){if(typeof c.iwant[h]!="object")throw TypeError(".RPC.ControlMessage.iwant: object expected");f.iwant[h]=n.RPC.ControlIWant.fromObject(c.iwant[h])}}if(c.graft){if(!Array.isArray(c.graft))throw TypeError(".RPC.ControlMessage.graft: array expected");f.graft=[];for(var h=0;h<c.graft.length;++h){if(typeof c.graft[h]!="object")throw TypeError(".RPC.ControlMessage.graft: object expected");f.graft[h]=n.RPC.ControlGraft.fromObject(c.graft[h])}}if(c.prune){if(!Array.isArray(c.prune))throw TypeError(".RPC.ControlMessage.prune: array expected");f.prune=[];for(var h=0;h<c.prune.length;++h){if(typeof c.prune[h]!="object")throw TypeError(".RPC.ControlMessage.prune: object expected");f.prune[h]=n.RPC.ControlPrune.fromObject(c.prune[h])}}return f},o.toObject=function(c,f){f||(f={});var h={};if((f.arrays||f.defaults)&&(h.ihave=[],h.iwant=[],h.graft=[],h.prune=[]),c.ihave&&c.ihave.length){h.ihave=[];for(var d=0;d<c.ihave.length;++d)h.ihave[d]=n.RPC.ControlIHave.toObject(c.ihave[d],f)}if(c.iwant&&c.iwant.length){h.iwant=[];for(var d=0;d<c.iwant.length;++d)h.iwant[d]=n.RPC.ControlIWant.toObject(c.iwant[d],f)}if(c.graft&&c.graft.length){h.graft=[];for(var d=0;d<c.graft.length;++d)h.graft[d]=n.RPC.ControlGraft.toObject(c.graft[d],f)}if(c.prune&&c.prune.length){h.prune=[];for(var d=0;d<c.prune.length;++d)h.prune[d]=n.RPC.ControlPrune.toObject(c.prune[d],f)}return h},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlIHave=function(){function o(c){if(this.messageIDs=[],c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.topicID=null,o.prototype.messageIDs=i.emptyArray;var u;return Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){if(h||(h=r.create()),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(10).string(f.topicID),f.messageIDs!=null&&f.messageIDs.length)for(var d=0;d<f.messageIDs.length;++d)h.uint32(18).bytes(f.messageIDs[d]);return h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,y=new n.RPC.ControlIHave;f.pos<d;){var g=f.uint32();switch(g>>>3){case 1:y.topicID=f.string();break;case 2:y.messageIDs&&y.messageIDs.length||(y.messageIDs=[]),y.messageIDs.push(f.bytes());break;default:f.skipType(g&7);break}}return y},o.fromObject=function(f){if(f instanceof n.RPC.ControlIHave)return f;var h=new n.RPC.ControlIHave;if(f.topicID!=null&&(h.topicID=String(f.topicID)),f.messageIDs){if(!Array.isArray(f.messageIDs))throw TypeError(".RPC.ControlIHave.messageIDs: array expected");h.messageIDs=[];for(var d=0;d<f.messageIDs.length;++d)typeof f.messageIDs[d]=="string"?i.base64.decode(f.messageIDs[d],h.messageIDs[d]=i.newBuffer(i.base64.length(f.messageIDs[d])),0):f.messageIDs[d].length&&(h.messageIDs[d]=f.messageIDs[d])}return h},o.toObject=function(f,h){h||(h={});var d={};if((h.arrays||h.defaults)&&(d.messageIDs=[]),f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),f.messageIDs&&f.messageIDs.length){d.messageIDs=[];for(var y=0;y<f.messageIDs.length;++y)d.messageIDs[y]=h.bytes===String?i.base64.encode(f.messageIDs[y],0,f.messageIDs[y].length):h.bytes===Array?Array.prototype.slice.call(f.messageIDs[y]):f.messageIDs[y]}return d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlIWant=function(){function o(u){if(this.messageIDs=[],u)for(var c=Object.keys(u),f=0;f<c.length;++f)u[c[f]]!=null&&(this[c[f]]=u[c[f]])}return o.prototype.messageIDs=i.emptyArray,o.encode=function(c,f){if(f||(f=r.create()),c.messageIDs!=null&&c.messageIDs.length)for(var h=0;h<c.messageIDs.length;++h)f.uint32(10).bytes(c.messageIDs[h]);return f},o.decode=function(c,f){c instanceof e||(c=e.create(c));for(var h=f===void 0?c.len:c.pos+f,d=new n.RPC.ControlIWant;c.pos<h;){var y=c.uint32();switch(y>>>3){case 1:d.messageIDs&&d.messageIDs.length||(d.messageIDs=[]),d.messageIDs.push(c.bytes());break;default:c.skipType(y&7);break}}return d},o.fromObject=function(c){if(c instanceof n.RPC.ControlIWant)return c;var f=new n.RPC.ControlIWant;if(c.messageIDs){if(!Array.isArray(c.messageIDs))throw TypeError(".RPC.ControlIWant.messageIDs: array expected");f.messageIDs=[];for(var h=0;h<c.messageIDs.length;++h)typeof c.messageIDs[h]=="string"?i.base64.decode(c.messageIDs[h],f.messageIDs[h]=i.newBuffer(i.base64.length(c.messageIDs[h])),0):c.messageIDs[h].length&&(f.messageIDs[h]=c.messageIDs[h])}return f},o.toObject=function(c,f){f||(f={});var h={};if((f.arrays||f.defaults)&&(h.messageIDs=[]),c.messageIDs&&c.messageIDs.length){h.messageIDs=[];for(var d=0;d<c.messageIDs.length;++d)h.messageIDs[d]=f.bytes===String?i.base64.encode(c.messageIDs[d],0,c.messageIDs[d].length):f.bytes===Array?Array.prototype.slice.call(c.messageIDs[d]):c.messageIDs[d]}return h},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlGraft=function(){function o(c){if(c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.topicID=null;var u;return Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){return h||(h=r.create()),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(10).string(f.topicID),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,y=new n.RPC.ControlGraft;f.pos<d;){var g=f.uint32();switch(g>>>3){case 1:y.topicID=f.string();break;default:f.skipType(g&7);break}}return y},o.fromObject=function(f){if(f instanceof n.RPC.ControlGraft)return f;var h=new n.RPC.ControlGraft;return f.topicID!=null&&(h.topicID=String(f.topicID)),h},o.toObject=function(f,h){h||(h={});var d={};return f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlPrune=function(){function o(c){if(this.peers=[],c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.topicID=null,o.prototype.peers=i.emptyArray,o.prototype.backoff=null;var u;return Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_backoff",{get:i.oneOfGetter(u=["backoff"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){if(h||(h=r.create()),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(10).string(f.topicID),f.peers!=null&&f.peers.length)for(var d=0;d<f.peers.length;++d)n.RPC.PeerInfo.encode(f.peers[d],h.uint32(18).fork()).ldelim();return f.backoff!=null&&Object.hasOwnProperty.call(f,"backoff")&&h.uint32(24).uint64(f.backoff),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,y=new n.RPC.ControlPrune;f.pos<d;){var g=f.uint32();switch(g>>>3){case 1:y.topicID=f.string();break;case 2:y.peers&&y.peers.length||(y.peers=[]),y.peers.push(n.RPC.PeerInfo.decode(f,f.uint32()));break;case 3:y.backoff=f.uint64();break;default:f.skipType(g&7);break}}return y},o.fromObject=function(f){if(f instanceof n.RPC.ControlPrune)return f;var h=new n.RPC.ControlPrune;if(f.topicID!=null&&(h.topicID=String(f.topicID)),f.peers){if(!Array.isArray(f.peers))throw TypeError(".RPC.ControlPrune.peers: array expected");h.peers=[];for(var d=0;d<f.peers.length;++d){if(typeof f.peers[d]!="object")throw TypeError(".RPC.ControlPrune.peers: object expected");h.peers[d]=n.RPC.PeerInfo.fromObject(f.peers[d])}}return f.backoff!=null&&(i.Long?(h.backoff=i.Long.fromValue(f.backoff)).unsigned=!0:typeof f.backoff=="string"?h.backoff=parseInt(f.backoff,10):typeof f.backoff=="number"?h.backoff=f.backoff:typeof f.backoff=="object"&&(h.backoff=new i.LongBits(f.backoff.low>>>0,f.backoff.high>>>0).toNumber(!0))),h},o.toObject=function(f,h){h||(h={});var d={};if((h.arrays||h.defaults)&&(d.peers=[]),f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),f.peers&&f.peers.length){d.peers=[];for(var y=0;y<f.peers.length;++y)d.peers[y]=n.RPC.PeerInfo.toObject(f.peers[y],h)}return f.backoff!=null&&f.hasOwnProperty("backoff")&&(typeof f.backoff=="number"?d.backoff=h.longs===String?String(f.backoff):f.backoff:d.backoff=h.longs===String?i.Long.prototype.toString.call(f.backoff):h.longs===Number?new i.LongBits(f.backoff.low>>>0,f.backoff.high>>>0).toNumber(!0):f.backoff,h.oneofs&&(d._backoff="backoff")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.PeerInfo=function(){function o(c){if(c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.peerID=null,o.prototype.signedPeerRecord=null;var u;return Object.defineProperty(o.prototype,"_peerID",{get:i.oneOfGetter(u=["peerID"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_signedPeerRecord",{get:i.oneOfGetter(u=["signedPeerRecord"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){return h||(h=r.create()),f.peerID!=null&&Object.hasOwnProperty.call(f,"peerID")&&h.uint32(10).bytes(f.peerID),f.signedPeerRecord!=null&&Object.hasOwnProperty.call(f,"signedPeerRecord")&&h.uint32(18).bytes(f.signedPeerRecord),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,y=new n.RPC.PeerInfo;f.pos<d;){var g=f.uint32();switch(g>>>3){case 1:y.peerID=f.bytes();break;case 2:y.signedPeerRecord=f.bytes();break;default:f.skipType(g&7);break}}return y},o.fromObject=function(f){if(f instanceof n.RPC.PeerInfo)return f;var h=new n.RPC.PeerInfo;return f.peerID!=null&&(typeof f.peerID=="string"?i.base64.decode(f.peerID,h.peerID=i.newBuffer(i.base64.length(f.peerID)),0):f.peerID.length&&(h.peerID=f.peerID)),f.signedPeerRecord!=null&&(typeof f.signedPeerRecord=="string"?i.base64.decode(f.signedPeerRecord,h.signedPeerRecord=i.newBuffer(i.base64.length(f.signedPeerRecord)),0):f.signedPeerRecord.length&&(h.signedPeerRecord=f.signedPeerRecord)),h},o.toObject=function(f,h){h||(h={});var d={};return f.peerID!=null&&f.hasOwnProperty("peerID")&&(d.peerID=h.bytes===String?i.base64.encode(f.peerID,0,f.peerID.length):h.bytes===Array?Array.prototype.slice.call(f.peerID):f.peerID,h.oneofs&&(d._peerID="peerID")),f.signedPeerRecord!=null&&f.hasOwnProperty("signedPeerRecord")&&(d.signedPeerRecord=h.bytes===String?i.base64.encode(f.signedPeerRecord,0,f.signedPeerRecord.length):h.bytes===Array?Array.prototype.slice.call(f.signedPeerRecord):f.signedPeerRecord,h.oneofs&&(d._signedPeerRecord="signedPeerRecord")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s}(),n})});var oc=T(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.getGossipPeers=void 0;var Jy=yn();function x7(t,e,r,i=()=>!0){let n=t.topics.get(e);if(!n)return new Set;let s=[];return n.forEach(a=>{let o=t.peers.get(a);!o||Jy.hasGossipProtocol(o.protocol)&&i(a)&&s.push(a)}),s=Jy.shuffle(s),r>0&&s.length>r&&(s=s.slice(0,r)),new Set(s)}wo.getGossipPeers=x7});var Zy=T($r=>{"use strict";var m7=$r&&$r.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),w7=$r&&$r.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_7=$r&&$r.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m7(e,t,r);return w7(e,t),e};Object.defineProperty($r,"__esModule",{value:!0});$r.Heartbeat=void 0;var Gs=_7(bn()),_o=oc(),E7=yn(),$y=class{constructor(e){this.gossipsub=e}start(){if(this._heartbeatTimer)return;let e=this._heartbeat.bind(this),r=setTimeout(()=>{e(),this._heartbeatTimer.runPeriodically(e,Gs.GossipsubHeartbeatInterval)},Gs.GossipsubHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(i,n)=>{this._heartbeatTimer._intervalId=setInterval(i,n)},cancel:()=>{clearTimeout(r),clearInterval(this._heartbeatTimer._intervalId)}}}stop(){!this._heartbeatTimer||(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){let{D:e,Dlo:r,Dhi:i,Dscore:n,Dout:s}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;let a=new Map,o=d=>{let y=a.get(d);return y===void 0&&(y=this.gossipsub.score.score(d),a.set(d,y)),y},u=new Map,c=new Map,f=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach((d,y)=>{let g=I=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",I,y),this.gossipsub.score.prune(I,y),this.gossipsub._addBackoff(I,y),d.delete(I);let k=c.get(I);k?k.push(y):c.set(I,[y])},S=I=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",I,y),this.gossipsub.score.graft(I,y),d.add(I);let k=u.get(I);k?k.push(y):u.set(I,[y])};if(d.forEach(I=>{let k=o(I);k<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",I,k,y),g(I),f.set(I,!0))}),d.size<r){let I=this.gossipsub.backoff.get(y),k=e-d.size;_o.getGossipPeers(this.gossipsub,y,k,M=>!d.has(M)&&!this.gossipsub.direct.has(M)&&(!I||!I.has(M))&&o(M)>=0).forEach(S)}if(d.size>i){let I=Array.from(d);I.sort((R,M)=>o(M)-o(R)),I=I.slice(0,n).concat(E7.shuffle(I.slice(n)));let k=0;if(I.slice(0,e).forEach(R=>{this.gossipsub.outbound.get(R)&&k++}),k<s){let R=F=>{let L=I[F];for(let D=F;D>0;D--)I[D]=I[D-1];I[0]=L};if(k>0){let F=k;for(let L=1;L<e&&F>0;L++)this.gossipsub.outbound.get(I[L])&&(R(L),F--)}let M=e-k;for(let F=e;F<I.length&&M>0;F++)this.gossipsub.outbound.get(I[F])&&(R(F),M--)}I.slice(e).forEach(g)}if(d.size>=r){let I=0;if(d.forEach(k=>{this.gossipsub.outbound.get(k)&&I++}),I<s){let k=s-I,R=this.gossipsub.backoff.get(y);_o.getGossipPeers(this.gossipsub,y,k,M=>!d.has(M)&&!this.gossipsub.direct.has(M)&&(!R||!R.has(M))&&o(M)>=0).forEach(S)}}if(this.gossipsub.heartbeatTicks%Gs.GossipsubOpportunisticGraftTicks==0&&d.size>1){let I=Array.from(d).sort((M,F)=>o(M)-o(F)),k=d.size/2,R=o(I[k]);if(R<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){let M=this.gossipsub.backoff.get(y);_o.getGossipPeers(this.gossipsub,y,Gs.GossipsubOpportunisticGraftPeers,L=>d.has(L)&&!this.gossipsub.direct.has(L)&&(!M||!M.has(L))&&o(L)>R).forEach(L=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",L,y),S(L)})}}this.gossipsub._emitGossip(y,d)});let h=this.gossipsub._now();this.gossipsub.lastpub.forEach((d,y)=>{d+Gs.GossipsubFanoutTTL<h&&(this.gossipsub.fanout.delete(y),this.gossipsub.lastpub.delete(y))}),this.gossipsub.fanout.forEach((d,y)=>{let g=this.gossipsub.topics.get(y);if(d.forEach(S=>{(!g.has(S)||o(S)<this.gossipsub._options.scoreThresholds.publishThreshold)&&d.delete(S)}),d.size<e){let S=e-d.size;_o.getGossipPeers(this.gossipsub,y,S,k=>!d.has(k)&&!this.gossipsub.direct.has(k)&&o(k)>=this.gossipsub._options.scoreThresholds.publishThreshold).forEach(k=>{d.add(k)})}this.gossipsub._emitGossip(y,d)}),this.gossipsub._sendGraftPrune(u,c,f),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}};$r.Heartbeat=$y});var fc=T(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.ERR_INVALID_PEER_SCORE_THRESHOLDS=as.ERR_INVALID_PEER_SCORE_PARAMS=void 0;as.ERR_INVALID_PEER_SCORE_PARAMS="ERR_INVALID_PEER_SCORE_PARAMS";as.ERR_INVALID_PEER_SCORE_THRESHOLDS="ERR_INVALID_PEER_SCORE_THRESHOLDS"});var cc=T(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.validateTopicScoreParams=Lt.validatePeerScoreParams=Lt.createTopicScoreParams=Lt.createPeerScoreParams=Lt.defaultTopicScoreParams=Lt.defaultPeerScoreParams=void 0;var Ae=fc(),ke=Yt();Lt.defaultPeerScoreParams={topics:{},topicScoreCap:10,appSpecificScore:()=>0,appSpecificWeight:10,IPColocationFactorWeight:-5,IPColocationFactorThreshold:10,IPColocationFactorWhitelist:new Set,behaviourPenaltyWeight:-10,behaviourPenaltyDecay:.2,decayInterval:1e3,decayToZero:.1,retainScore:3600*1e3};Lt.defaultTopicScoreParams={topicWeight:.5,timeInMeshWeight:1,timeInMeshQuantum:1,timeInMeshCap:3600,firstMessageDeliveriesWeight:1,firstMessageDeliveriesDecay:.5,firstMessageDeliveriesCap:2e3,meshMessageDeliveriesWeight:-1,meshMessageDeliveriesDecay:.5,meshMessageDeliveriesCap:100,meshMessageDeliveriesThreshold:20,meshMessageDeliveriesWindow:10,meshMessageDeliveriesActivation:5e3,meshFailurePenaltyWeight:-1,meshFailurePenaltyDecay:.5,invalidMessageDeliveriesWeight:-1,invalidMessageDeliveriesDecay:.3};function S7(t={}){return Object.assign(Object.assign(Object.assign({},Lt.defaultPeerScoreParams),t),{topics:t.topics?Object.entries(t.topics).reduce((e,[r,i])=>(e[r]=Xy(i),e),{}):{}})}Lt.createPeerScoreParams=S7;function Xy(t={}){return Object.assign(Object.assign({},Lt.defaultTopicScoreParams),t)}Lt.createTopicScoreParams=Xy;function I7(t){for(let[e,r]of Object.entries(t.topics))try{Qy(r)}catch(i){throw ke(new Error(`invalid score parameters for topic ${e}: ${i.message}`),Ae.ERR_INVALID_PEER_SCORE_PARAMS)}if(t.topicScoreCap<0)throw ke(new Error("invalid topic score cap; must be positive (or 0 for no cap)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.appSpecificScore===null||t.appSpecificScore===void 0)throw ke(new Error("missing application specific score function"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.IPColocationFactorWeight>0)throw ke(new Error("invalid IPColocationFactorWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.IPColocationFactorWeight!==0&&t.IPColocationFactorThreshold<1)throw ke(new Error("invalid IPColocationFactorThreshold; must be at least 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.behaviourPenaltyWeight>0)throw ke(new Error("invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.behaviourPenaltyWeight!==0&&(t.behaviourPenaltyDecay<=0||t.behaviourPenaltyDecay>=1))throw ke(new Error("invalid BehaviourPenaltyDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.decayInterval<1e3)throw ke(new Error("invalid DecayInterval; must be at least 1s"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.decayToZero<=0||t.decayToZero>=1)throw ke(new Error("invalid DecayToZero; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS)}Lt.validatePeerScoreParams=I7;function Qy(t){if(t.topicWeight<0)throw ke(new Error("invalid topic weight; must be >= 0"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshQuantum===0)throw ke(new Error("invalid TimeInMeshQuantum; must be non zero"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight<0)throw ke(new Error("invalid TimeInMeshWeight; must be positive (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight!==0&&t.timeInMeshQuantum<=0)throw ke(new Error("invalid TimeInMeshQuantum; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight!==0&&t.timeInMeshCap<=0)throw ke(new Error("invalid TimeInMeshCap; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight<0)throw ke(new Error("invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight!==0&&(t.firstMessageDeliveriesDecay<=0||t.firstMessageDeliveriesDecay>=1))throw ke(new Error("invalid FirstMessageDeliveriesDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight!==0&&t.firstMessageDeliveriesCap<=0)throw ke(new Error("invalid FirstMessageDeliveriesCap; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight>0)throw ke(new Error("invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&(t.meshMessageDeliveriesDecay<=0||t.meshMessageDeliveriesDecay>=1))throw ke(new Error("invalid MeshMessageDeliveriesDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesCap<=0)throw ke(new Error("invalid MeshMessageDeliveriesCap; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesThreshold<=0)throw ke(new Error("invalid MeshMessageDeliveriesThreshold; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWindow<0)throw ke(new Error("invalid MeshMessageDeliveriesWindow; must be non-negative"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesActivation<1e3)throw ke(new Error("invalid MeshMessageDeliveriesActivation; must be at least 1s"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshFailurePenaltyWeight>0)throw ke(new Error("invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshFailurePenaltyWeight!==0&&(t.meshFailurePenaltyDecay<=0||t.meshFailurePenaltyDecay>=1))throw ke(new Error("invalid MeshFailurePenaltyDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.invalidMessageDeliveriesWeight>0)throw ke(new Error("invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.invalidMessageDeliveriesDecay<=0||t.invalidMessageDeliveriesDecay>=1)throw ke(new Error("invalid InvalidMessageDeliveriesDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS)}Lt.validateTopicScoreParams=Qy});var eg=T(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.validatePeerScoreThresholds=hi.createPeerScoreThresholds=hi.defaultPeerScoreThresholds=void 0;var zs=fc(),Vs=Yt();hi.defaultPeerScoreThresholds={gossipThreshold:-10,publishThreshold:-50,graylistThreshold:-80,acceptPXThreshold:10,opportunisticGraftThreshold:20};function A7(t={}){return Object.assign(Object.assign({},hi.defaultPeerScoreThresholds),t)}hi.createPeerScoreThresholds=A7;function k7(t){if(t.gossipThreshold>0)throw Vs(new Error("invalid gossip threshold; it must be <= 0"),zs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.publishThreshold>0||t.publishThreshold>t.gossipThreshold)throw Vs(new Error("invalid publish threshold; it must be <= 0 and <= gossip threshold"),zs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.graylistThreshold>0||t.graylistThreshold>t.publishThreshold)throw Vs(new Error("invalid graylist threshold; it must be <= 0 and <= publish threshold"),zs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.acceptPXThreshold<0)throw Vs(new Error("invalid accept PX threshold; it must be >= 0"),zs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.opportunisticGraftThreshold<0)throw Vs(new Error("invalid opportunistic grafting threshold; it must be >= 0"),zs.ERR_INVALID_PEER_SCORE_THRESHOLDS)}hi.validatePeerScoreThresholds=k7});var tg=T(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ensureTopicStats=Ni.createTopicStats=Ni.createPeerStats=void 0;function C7(t={}){return Object.assign(Object.assign({connected:!1,expire:0,ips:[],behaviourPenalty:0},t),{topics:t.topics?Object.entries(t.topics).reduce((e,[r,i])=>(e[r]=uc(i),e),{}):{}})}Ni.createPeerStats=C7;function uc(t={}){return Object.assign({inMesh:!1,graftTime:0,meshTime:0,firstMessageDeliveries:0,meshMessageDeliveries:0,meshMessageDeliveriesActive:!1,meshFailurePenalty:0,invalidMessageDeliveries:0},t)}Ni.createTopicStats=uc;function B7(t,e,r){let i=e.topics[t];if(i)return i;if(!!r.topics[t])return e.topics[t]=i=uc(),i}Ni.ensureTopicStats=B7});var rg=T(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.computeScore=void 0;function T7(t,e,r,i){let n=0;return Object.entries(e.topics).forEach(([o,u])=>{let c=r.topics[o];if(!c)return;let f=0;if(u.inMesh){let g=u.meshTime/c.timeInMeshQuantum;g>c.timeInMeshCap&&(g=c.timeInMeshCap),f+=g*c.timeInMeshWeight}if(f+=u.firstMessageDeliveries*c.firstMessageDeliveriesWeight,u.meshMessageDeliveriesActive&&u.meshMessageDeliveries<c.meshMessageDeliveriesThreshold){let g=c.meshMessageDeliveriesThreshold-u.meshMessageDeliveries;f+=g*g*c.meshMessageDeliveriesWeight}f+=u.meshFailurePenalty*c.meshFailurePenaltyWeight,f+=u.invalidMessageDeliveries*u.invalidMessageDeliveries*c.invalidMessageDeliveriesWeight,n+=f*c.topicWeight}),r.topicScoreCap>0&&n>r.topicScoreCap&&(n=r.topicScoreCap),n+=r.appSpecificScore(t)*r.appSpecificWeight,e.ips.forEach(o=>{if(r.IPColocationFactorWhitelist.has(o))return;let u=i.get(o),c=u?u.size:0;if(c>r.IPColocationFactorThreshold){let f=c-r.IPColocationFactorThreshold;n+=f*f*r.IPColocationFactorWeight}}),n+=e.behaviourPenalty*e.behaviourPenalty*r.behaviourPenaltyWeight,n}Eo.computeScore=T7});var ng=T((rI,ig)=>{"use strict";function Le(t,e){var e=e||{};this._head=0,this._tail=0,this._capacity=e.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(t)&&this._fromArray(t)}Le.prototype.peekAt=function(e){var r=e;if(r===(r|0)){var i=this.size();if(!(r>=i||r<-i))return r<0&&(r+=i),r=this._head+r&this._capacityMask,this._list[r]}};Le.prototype.get=function(e){return this.peekAt(e)};Le.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Le.prototype.peekFront=function(){return this.peek()};Le.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Le.prototype,"length",{get:function(){return this.size()}});Le.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Le.prototype.unshift=function(e){if(e===void 0)return this.size();var r=this._list.length;return this._head=this._head-1+r&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Le.prototype.shift=function(){var e=this._head;if(e!==this._tail){var r=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),r}};Le.prototype.push=function(e){if(e===void 0)return this.size();var r=this._tail;return this._list[r]=e,this._tail=r+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Le.prototype.pop=function(){var e=this._tail;if(e!==this._head){var r=this._list.length;this._tail=e-1+r&this._capacityMask;var i=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=r>>>2&&this._shrinkArray(),i}};Le.prototype.removeOne=function(e){var r=e;if(r===(r|0)&&this._head!==this._tail){var i=this.size(),n=this._list.length;if(!(r>=i||r<-i)){r<0&&(r+=i),r=this._head+r&this._capacityMask;var s=this._list[r],a;if(e<i/2){for(a=e;a>0;a--)this._list[r]=this._list[r=r-1+n&this._capacityMask];this._list[r]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(a=i-1-e;a>0;a--)this._list[r]=this._list[r=r+1+n&this._capacityMask];this._list[r]=void 0,this._tail=this._tail-1+n&this._capacityMask}return s}}};Le.prototype.remove=function(e,r){var i=e,n,s=r;if(i===(i|0)&&this._head!==this._tail){var a=this.size(),o=this._list.length;if(!(i>=a||i<-a||r<1)){if(i<0&&(i+=a),r===1||!r)return n=new Array(1),n[0]=this.removeOne(i),n;if(i===0&&i+r>=a)return n=this.toArray(),this.clear(),n;i+r>a&&(r=a-i);var u;for(n=new Array(r),u=0;u<r;u++)n[u]=this._list[this._head+i+u&this._capacityMask];if(i=this._head+i&this._capacityMask,e+r===a){for(this._tail=this._tail-r+o&this._capacityMask,u=r;u>0;u--)this._list[i=i+1+o&this._capacityMask]=void 0;return n}if(e===0){for(this._head=this._head+r+o&this._capacityMask,u=r-1;u>0;u--)this._list[i=i+1+o&this._capacityMask]=void 0;return n}if(i<a/2){for(this._head=this._head+e+r+o&this._capacityMask,u=e;u>0;u--)this.unshift(this._list[i=i-1+o&this._capacityMask]);for(i=this._head-1+o&this._capacityMask;s>0;)this._list[i=i-1+o&this._capacityMask]=void 0,s--;e<0&&(this._tail=i)}else{for(this._tail=i,i=i+r+o&this._capacityMask,u=a-(r+e);u>0;u--)this.push(this._list[i++]);for(i=this._tail;s>0;)this._list[i=i+1+o&this._capacityMask]=void 0,s--}return this._head<2&&this._tail>1e4&&this._tail<=o>>>2&&this._shrinkArray(),n}}};Le.prototype.splice=function(e,r){var i=e;if(i===(i|0)){var n=this.size();if(i<0&&(i+=n),!(i>n))if(arguments.length>2){var s,a,o,u=arguments.length,c=this._list.length,f=2;if(!n||i<n/2){for(a=new Array(i),s=0;s<i;s++)a[s]=this._list[this._head+s&this._capacityMask];for(r===0?(o=[],i>0&&(this._head=this._head+i+c&this._capacityMask)):(o=this.remove(i,r),this._head=this._head+i+c&this._capacityMask);u>f;)this.unshift(arguments[--u]);for(s=i;s>0;s--)this.unshift(a[s-1])}else{a=new Array(n-(i+r));var h=a.length;for(s=0;s<h;s++)a[s]=this._list[this._head+i+r+s&this._capacityMask];for(r===0?(o=[],i!=n&&(this._tail=this._head+i+c&this._capacityMask)):(o=this.remove(i,r),this._tail=this._tail-h+c&this._capacityMask);f<u;)this.push(arguments[f++]);for(s=0;s<h;s++)this.push(a[s])}return o}else return this.remove(i,r)}};Le.prototype.clear=function(){this._head=0,this._tail=0};Le.prototype.isEmpty=function(){return this._head===this._tail};Le.prototype.toArray=function(){return this._copyArray(!1)};Le.prototype._fromArray=function(e){for(var r=0;r<e.length;r++)this.push(e[r])};Le.prototype._copyArray=function(e){var r=[],i=this._list,n=i.length,s;if(e||this._head>this._tail){for(s=this._head;s<n;s++)r.push(i[s]);for(s=0;s<this._tail;s++)r.push(i[s])}else for(s=this._head;s<this._tail;s++)r.push(i[s]);return r};Le.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1};Le.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};ig.exports=Le});var og=T(li=>{"use strict";var R7=li&&li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});li.MessageDeliveries=li.DeliveryRecordStatus=void 0;var M7=bn(),P7=R7(ng()),D7=yn(),sg;(function(t){t[t.unknown=0]="unknown",t[t.valid=1]="valid",t[t.invalid=2]="invalid",t[t.ignored=3]="ignored"})(sg=li.DeliveryRecordStatus||(li.DeliveryRecordStatus={}));var ag=class{constructor(){this.records=new Map,this.queue=new P7.default}ensureRecord(e){let r=D7.messageIdToString(e),i=this.records.get(r);if(i)return i;i={status:sg.unknown,firstSeen:Date.now(),validated:0,peers:new Set},this.records.set(r,i);let n={msgId:r,expire:Date.now()+M7.TimeCacheDuration};return this.queue.push(n),i}gc(){let e=Date.now(),r=this.queue.peekFront();for(;r&&r.expire<e;)this.records.delete(r.msgId),this.queue.shift(),r=this.queue.peekFront()}clear(){this.records.clear(),this.queue.clear()}};li.MessageDeliveries=ag});var cg=T(os=>{"use strict";var O7=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.PeerScore=void 0;var N7=cc(),fs=tg(),L7=rg(),_r=og(),q7=bn(),F7=O7(ss()),K7=Js(),U7=Qs(),{ERR_INVALID_SIGNATURE:G7,ERR_MISSING_SIGNATURE:z7}=U7.codes,cs=K7("libp2p:gossipsub:score"),fg=class{constructor(e,r,i){N7.validatePeerScoreParams(e),this.params=e,this._connectionManager=r,this.peerStats=new Map,this.peerIPs=new Map,this.deliveryRecords=new _r.MessageDeliveries,this.msgId=i}start(){if(this._backgroundInterval){cs("Peer score already running");return}this._backgroundInterval=setInterval(()=>this.background(),this.params.decayInterval),cs("started")}stop(){if(!this._backgroundInterval){cs("Peer score already stopped");return}clearInterval(this._backgroundInterval),delete this._backgroundInterval,this.peerIPs.clear(),this.peerStats.clear(),this.deliveryRecords.clear(),cs("stopped")}background(){this._refreshScores(),this._updateIPs(),this.deliveryRecords.gc()}_refreshScores(){let e=Date.now(),r=this.params.decayToZero;this.peerStats.forEach((i,n)=>{if(!i.connected){e>i.expire&&(this._removeIPs(n,i.ips),this.peerStats.delete(n));return}Object.entries(i.topics).forEach(([s,a])=>{let o=this.params.topics[s];!o||(a.firstMessageDeliveries*=o.firstMessageDeliveriesDecay,a.firstMessageDeliveries<r&&(a.firstMessageDeliveries=0),a.meshMessageDeliveries*=o.meshMessageDeliveriesDecay,a.meshMessageDeliveries<r&&(a.meshMessageDeliveries=0),a.meshFailurePenalty*=o.meshFailurePenaltyDecay,a.meshFailurePenalty<r&&(a.meshFailurePenalty=0),a.invalidMessageDeliveries*=o.invalidMessageDeliveriesDecay,a.invalidMessageDeliveries<r&&(a.invalidMessageDeliveries=0),a.inMesh&&(a.meshTime=e-a.graftTime,a.meshTime>o.meshMessageDeliveriesActivation&&(a.meshMessageDeliveriesActive=!0)))}),i.behaviourPenalty*=this.params.behaviourPenaltyDecay,i.behaviourPenalty<r&&(i.behaviourPenalty=0)})}score(e){let r=this.peerStats.get(e);return r?L7.computeScore(e,r,this.params,this.peerIPs):0}addPenalty(e,r){let i=this.peerStats.get(e);!i||(i.behaviourPenalty+=r)}addPeer(e){let r=fs.createPeerStats({connected:!0});this.peerStats.set(e,r);let i=this._getIPs(e);this._setIPs(e,i,r.ips),r.ips=i}removePeer(e){let r=this.peerStats.get(e);if(!!r){if(this.score(e)>0){this._removeIPs(e,r.ips),this.peerStats.delete(e);return}Object.entries(r.topics).forEach(([i,n])=>{n.firstMessageDeliveries=0;let s=this.params.topics[i].meshMessageDeliveriesThreshold;if(n.inMesh&&n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let a=s-n.meshMessageDeliveries;n.meshFailurePenalty+=a*a}n.inMesh=!1}),r.connected=!1,r.expire=Date.now()+this.params.retainScore}}graft(e,r){let i=this.peerStats.get(e);if(!i)return;let n=fs.ensureTopicStats(r,i,this.params);!n||(n.inMesh=!0,n.graftTime=Date.now(),n.meshTime=0,n.meshMessageDeliveriesActive=!1)}prune(e,r){let i=this.peerStats.get(e);if(!i)return;let n=fs.ensureTopicStats(r,i,this.params);if(!n)return;let s=this.params.topics[r].meshMessageDeliveriesThreshold;if(n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let a=s-n.meshMessageDeliveries;n.meshFailurePenalty+=a*a}n.inMesh=!1}validateMessage(e){this.deliveryRecords.ensureRecord(this.msgId(e))}deliverMessage(e){let r=e.receivedFrom;this._markFirstMessageDelivery(r,e);let i=this.deliveryRecords.ensureRecord(this.msgId(e)),n=Date.now();if(i.status!==_r.DeliveryRecordStatus.unknown){cs("unexpected delivery: message from %s was first seen %s ago and has delivery status %d",r,n-i.firstSeen,_r.DeliveryRecordStatus[i.status]);return}i.status=_r.DeliveryRecordStatus.valid,i.validated=n,i.peers.forEach(s=>{s!==r&&this._markDuplicateMessageDelivery(s,e)})}rejectMessage(e,r){let i=e.receivedFrom;switch(r){case z7:case G7:this._markInvalidMessageDelivery(i,e);return}let n=this.deliveryRecords.ensureRecord(this.msgId(e));if(n.status!==_r.DeliveryRecordStatus.unknown){cs("unexpected rejection: message from %s was first seen %s ago and has delivery status %d",i,Date.now()-n.firstSeen,_r.DeliveryRecordStatus[n.status]);return}switch(r){case q7.ERR_TOPIC_VALIDATOR_IGNORE:n.status=_r.DeliveryRecordStatus.ignored;return}n.status=_r.DeliveryRecordStatus.invalid,this._markInvalidMessageDelivery(i,e),n.peers.forEach(s=>{this._markInvalidMessageDelivery(s,e)})}duplicateMessage(e){let r=e.receivedFrom,i=this.deliveryRecords.ensureRecord(this.msgId(e));if(!i.peers.has(r))switch(i.status){case _r.DeliveryRecordStatus.unknown:i.peers.add(r);break;case _r.DeliveryRecordStatus.valid:i.peers.add(r),this._markDuplicateMessageDelivery(r,e,i.validated);break;case _r.DeliveryRecordStatus.invalid:this._markInvalidMessageDelivery(r,e);break}}_markInvalidMessageDelivery(e,r){let i=this.peerStats.get(e);!i||r.topicIDs.forEach(n=>{let s=fs.ensureTopicStats(n,i,this.params);!s||(s.invalidMessageDeliveries+=1)})}_markFirstMessageDelivery(e,r){let i=this.peerStats.get(e);!i||r.topicIDs.forEach(n=>{let s=fs.ensureTopicStats(n,i,this.params);if(!s)return;let a=this.params.topics[n].firstMessageDeliveriesCap;s.firstMessageDeliveries+=1,s.firstMessageDeliveries>a&&(s.firstMessageDeliveries=a),!!s.inMesh&&(a=this.params.topics[n].meshMessageDeliveriesCap,s.meshMessageDeliveries+=1,s.meshMessageDeliveries>a&&(s.meshMessageDeliveries=a))})}_markDuplicateMessageDelivery(e,r,i=0){let n=this.peerStats.get(e);if(!n)return;let s=i?Date.now():0;r.topicIDs.forEach(a=>{let o=fs.ensureTopicStats(a,n,this.params);if(!o||!o.inMesh)return;let u=this.params.topics[a];if(i&&s>i+u.meshMessageDeliveriesWindow)return;let c=u.meshMessageDeliveriesCap;o.meshMessageDeliveries+=1,o.meshMessageDeliveries>c&&(o.meshMessageDeliveries=c)})}_getIPs(e){return this._connectionManager.getAll(F7.default.createFromB58String(e)).map(r=>r.remoteAddr.toOptions().host)}_setIPs(e,r,i){e:for(let n of r){for(let a of i)if(n===a)continue e;let s=this.peerIPs.get(n);s||(s=new Set,this.peerIPs.set(n,s)),s.add(e)}e:for(let n of i){for(let a of r)if(n===a)continue e;let s=this.peerIPs.get(n);!s||(s.delete(e),s.size||this.peerIPs.delete(n))}}_removeIPs(e,r){r.forEach(i=>{let n=this.peerIPs.get(i);!n||(n.delete(e),n.size||this.peerIPs.delete(i))})}_updateIPs(){this.peerStats.forEach((e,r)=>{let i=this._getIPs(r);this._setIPs(r,i,e.ips),e.ips=i})}};os.PeerScore=fg});var ug=T(di=>{"use strict";var V7=di&&di.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),hc=di&&di.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&V7(e,t,r)};Object.defineProperty(di,"__esModule",{value:!0});hc(cc(),di);hc(eg(),di);hc(cg(),di)});var lg=T(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.IWantTracer=void 0;var H7=bn(),lc=yn(),j7=Qs(),{ERR_INVALID_SIGNATURE:W7,ERR_MISSING_SIGNATURE:Y7}=j7.codes,hg=class{constructor(e){this.getMsgId=e,this.promises=new Map}addPromise(e,r){let i=Math.floor(Math.random()*r.length),n=r[i],s=lc.messageIdToString(n),a=this.promises.get(s);a||(a=new Map,this.promises.set(s,a)),a.has(e)||a.set(e,Date.now()+H7.GossipsubIWantFollowupTime)}getBrokenPromises(){let e=Date.now(),r=new Map;return this.promises.forEach((i,n)=>{i.forEach((s,a)=>{s<e&&(r.set(a,(r.get(a)||0)+1),i.delete(a))}),i.size||this.promises.delete(n)}),r}deliverMessage(e){let r=this.getMsgId(e),i=lc.messageIdToString(r);this.promises.delete(i)}rejectMessage(e,r){switch(r){case W7:case Y7:return}let i=this.getMsgId(e),n=lc.messageIdToString(i);this.promises.delete(n)}clear(){this.promises.clear()}};So.IWantTracer=hg});var gg=T((oI,dg)=>{var pg="Expected a function",bg=0/0,J7="[object Symbol]",$7=/^\s+|\s+$/g,Z7=/^[-+]0x[0-9a-f]+$/i,X7=/^0b[01]+$/i,Q7=/^0o[0-7]+$/i,ew=parseInt,tw=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,rw=typeof self=="object"&&self&&self.Object===Object&&self,iw=tw||rw||Function("return this")(),nw=Object.prototype,sw=nw.toString,aw=Math.max,ow=Math.min,dc=function(){return iw.Date.now()};function fw(t,e,r){var i,n,s,a,o,u,c=0,f=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(pg);e=yg(e)||0,Io(r)&&(f=!!r.leading,h="maxWait"in r,s=h?aw(yg(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d);function y(D){var j=i,z=n;return i=n=void 0,c=D,a=t.apply(z,j),a}function g(D){return c=D,o=setTimeout(k,e),f?y(D):a}function S(D){var j=D-u,z=D-c,Q=e-j;return h?ow(Q,s-z):Q}function I(D){var j=D-u,z=D-c;return u===void 0||j>=e||j<0||h&&z>=s}function k(){var D=dc();if(I(D))return R(D);o=setTimeout(k,S(D))}function R(D){return o=void 0,d&&i?y(D):(i=n=void 0,a)}function M(){o!==void 0&&clearTimeout(o),c=0,i=u=n=o=void 0}function F(){return o===void 0?a:R(dc())}function L(){var D=dc(),j=I(D);if(i=arguments,n=this,u=D,j){if(o===void 0)return g(u);if(h)return o=setTimeout(k,e),y(u)}return o===void 0&&(o=setTimeout(k,e)),a}return L.cancel=M,L.flush=F,L}function cw(t,e,r){var i=!0,n=!0;if(typeof t!="function")throw new TypeError(pg);return Io(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),fw(t,e,{leading:i,maxWait:e,trailing:n})}function Io(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function uw(t){return!!t&&typeof t=="object"}function hw(t){return typeof t=="symbol"||uw(t)&&sw.call(t)==J7}function yg(t){if(typeof t=="number")return t;if(hw(t))return bg;if(Io(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Io(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace($7,"");var r=X7.test(t);return r||Q7.test(t)?ew(t.slice(2),r?2:8):Z7.test(t)?bg:+t}dg.exports=cw});var mg=T((vg,xg)=>{"use strict";var lw=gg();vg=xg.exports=pc;function pc(t){if(!(this instanceof pc))return new pc(t);t=t||{};let e=t.validity||30,r=new Map,i=lw(()=>{r.forEach((n,s)=>{let a=n.validity||e;dw(n.timestamp)>a&&r.delete(s)})},200);this.put=(n,s,a)=>{this.has(n)||r.set(n,{value:s,timestamp:new Date,validity:a}),i()},this.get=n=>{if(r.has(n))return r.get(n).value;throw new Error("key does not exist")},this.has=n=>r.has(n)}function dw(t){let r=new Date().getTime()-t.getTime();return Math.floor(r/1e3)}});var wg=T(bc=>{"use strict";bc.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"};bc.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_INVALID_PROTOCOLS_FOR_STREAM:"ERR_INVALID_PROTOCOLS_FOR_STREAM",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_RELAYED_DIAL:"ERR_RELAYED_DIAL",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}});var Sg=T((cI,_g)=>{"use strict";var us=En(),Eg=us.Reader,pw=us.Writer,Oe=us.util,Hs=us.roots["libp2p-envelope"]||(us.roots["libp2p-envelope"]={});Hs.Envelope=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.publicKey=Oe.newBuffer([]),t.prototype.payloadType=Oe.newBuffer([]),t.prototype.payload=Oe.newBuffer([]),t.prototype.signature=Oe.newBuffer([]),t.encode=function(r,i){return i||(i=pw.create()),r.publicKey!=null&&Object.hasOwnProperty.call(r,"publicKey")&&i.uint32(10).bytes(r.publicKey),r.payloadType!=null&&Object.hasOwnProperty.call(r,"payloadType")&&i.uint32(18).bytes(r.payloadType),r.payload!=null&&Object.hasOwnProperty.call(r,"payload")&&i.uint32(26).bytes(r.payload),r.signature!=null&&Object.hasOwnProperty.call(r,"signature")&&i.uint32(42).bytes(r.signature),i},t.decode=function(r,i){r instanceof Eg||(r=Eg.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Hs.Envelope;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.publicKey=r.bytes();break;case 2:s.payloadType=r.bytes();break;case 3:s.payload=r.bytes();break;case 5:s.signature=r.bytes();break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof Hs.Envelope)return r;var i=new Hs.Envelope;return r.publicKey!=null&&(typeof r.publicKey=="string"?Oe.base64.decode(r.publicKey,i.publicKey=Oe.newBuffer(Oe.base64.length(r.publicKey)),0):r.publicKey.length&&(i.publicKey=r.publicKey)),r.payloadType!=null&&(typeof r.payloadType=="string"?Oe.base64.decode(r.payloadType,i.payloadType=Oe.newBuffer(Oe.base64.length(r.payloadType)),0):r.payloadType.length&&(i.payloadType=r.payloadType)),r.payload!=null&&(typeof r.payload=="string"?Oe.base64.decode(r.payload,i.payload=Oe.newBuffer(Oe.base64.length(r.payload)),0):r.payload.length&&(i.payload=r.payload)),r.signature!=null&&(typeof r.signature=="string"?Oe.base64.decode(r.signature,i.signature=Oe.newBuffer(Oe.base64.length(r.signature)),0):r.signature.length&&(i.signature=r.signature)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.publicKey="":(n.publicKey=[],i.bytes!==Array&&(n.publicKey=Oe.newBuffer(n.publicKey))),i.bytes===String?n.payloadType="":(n.payloadType=[],i.bytes!==Array&&(n.payloadType=Oe.newBuffer(n.payloadType))),i.bytes===String?n.payload="":(n.payload=[],i.bytes!==Array&&(n.payload=Oe.newBuffer(n.payload))),i.bytes===String?n.signature="":(n.signature=[],i.bytes!==Array&&(n.signature=Oe.newBuffer(n.signature)))),r.publicKey!=null&&r.hasOwnProperty("publicKey")&&(n.publicKey=i.bytes===String?Oe.base64.encode(r.publicKey,0,r.publicKey.length):i.bytes===Array?Array.prototype.slice.call(r.publicKey):r.publicKey),r.payloadType!=null&&r.hasOwnProperty("payloadType")&&(n.payloadType=i.bytes===String?Oe.base64.encode(r.payloadType,0,r.payloadType.length):i.bytes===Array?Array.prototype.slice.call(r.payloadType):r.payloadType),r.payload!=null&&r.hasOwnProperty("payload")&&(n.payload=i.bytes===String?Oe.base64.encode(r.payload,0,r.payload.length):i.bytes===Array?Array.prototype.slice.call(r.payload):r.payload),r.signature!=null&&r.hasOwnProperty("signature")&&(n.signature=i.bytes===String?Oe.base64.encode(r.signature,0,r.signature.length):i.bytes===Array?Array.prototype.slice.call(r.signature):r.signature),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,us.util.toJSONOptions)},t}();_g.exports=Hs});var Cg=T((uI,Ig)=>{"use strict";var bw=Yt(),yw=Cr(),gw=$t(),vw=tc(),xw=ss(),yc=oa(),Ao=wi(),{codes:mw}=wg(),{Envelope:Ag}=Sg(),Li=class{constructor({peerId:e,payloadType:r,payload:i,signature:n}){this.peerId=e,this.payloadType=r,this.payload=i,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;let e=vw.marshalPublicKey(this.peerId.pubKey);return this._marshal=Ag.encode({publicKey:e,payloadType:this.payloadType,payload:this.payload,signature:this.signature}).finish(),this._marshal}equals(e){return Ao(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&Ao(this.payloadType,e.payloadType)&&Ao(this.payload,e.payload)&&Ao(this.signature,e.signature)}validate(e){let r=kg(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(r,this.signature)}},kg=(t,e,r)=>{let i=gw(t),n=yc.encode(i.byteLength),s=yc.encode(e.length),a=yc.encode(r.length);return yw([new Uint8Array(n),i,new Uint8Array(s),e,new Uint8Array(a),r])};Li.createFromProtobuf=async t=>{let e=Ag.decode(t),r=await xw.createFromPubKey(e.publicKey);return new Li({peerId:r,payloadType:e.payloadType,payload:e.payload,signature:e.signature})};Li.seal=async(t,e)=>{let r=t.domain,i=t.codec,n=t.marshal(),s=kg(r,i,n),a=await e.privKey.sign(s);return new Li({peerId:e,payloadType:i,payload:n,signature:a})};Li.openAndCertify=async(t,e)=>{let r=await Li.createFromProtobuf(t);if(!await r.validate(e))throw bw(new Error("envelope signature is not valid for the given domain"),mw.ERR_SIGNATURE_NOT_VALID);return r};Ig.exports=Li});var Cw=T((pi,Bg)=>{"use strict";var ww=pi&&pi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),_w=pi&&pi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tg=pi&&pi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ww(e,t,r);return _w(e,t),e},js=pi&&pi.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(h){a(h)}}function u(f){try{c(i.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):n(f.value).then(o,u)}c((i=i.apply(t,e||[])).next())})},gc=Tg(Fy()),Ew=jy(),vc=Yy(),ve=Tg(bn()),Sw=Zy(),ko=oc(),Bt=yn(),xc=ug(),Iw=lg(),Aw=mg(),mc=ss(),kw=Cg(),wc=class extends gc.default{constructor(e,r={}){let i=[ve.GossipsubIDv11,ve.GossipsubIDv10],n=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:ve.GossipsubD,Dlo:ve.GossipsubDlo,Dhi:ve.GossipsubDhi,Dscore:ve.GossipsubDscore,Dout:ve.GossipsubDout,Dlazy:ve.GossipsubDlazy},r),{scoreParams:xc.createPeerScoreParams(r.scoreParams),scoreThresholds:xc.createPeerScoreThresholds(r.scoreThresholds)});n.fallbackToFloodsub&&i.push(ve.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:i,libp2p:e},n)),this._options=n,this.direct=new Set(n.directPeers.map(s=>s.id.toB58String())),n.directPeers.forEach(s=>{e.peerStore.addressBook.add(s.id,s.addrs)}),this.seenCache=new Aw,this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=r.messageCache||new Ew.MessageCache(ve.GossipsubHistoryGossip,ve.GossipsubHistoryLength,this.getMsgId.bind(this)),this.heartbeat=new Sw.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new Iw.IWantTracer(this.getMsgId.bind(this)),this._libp2p=e,this.score=new xc.PeerScore(this._options.scoreParams,e.connectionManager,this.getMsgId.bind(this))}_decodeRpc(e){return vc.RPC.decode(e)}_encodeRpc(e){return vc.RPC.encode(e).finish()}_addPeer(e,r){let i=super._addPeer(e,r);this.score.addPeer(e.toB58String());let n=!1;for(let s of this._libp2p.connectionManager.getAll(e))if(s.stat.direction==="outbound"&&Array.from(s.registry.values()).some(a=>r===a.protocol)){n=!0;break}return this.outbound.set(i.id.toB58String(),n),i}_removePeer(e){let r=super._removePeer(e),i=e.toB58String();for(let n of this.mesh.values())n.delete(i);for(let n of this.fanout.values())n.delete(i);return this.gossip.delete(i),this.control.delete(i),this.outbound.delete(i),this.score.removePeer(i),r}_processRpc(e,r,i){return super._processRpc(e,r,i)?(i.control&&this._processRpcControlMessage(e,i.control),!0):!1}_processRpcControlMessage(e,r){if(!r)return;let i=r.ihave?this._handleIHave(e,r.ihave):[],n=r.iwant?this._handleIWant(e,r.iwant):[],s=r.graft?this._handleGraft(e,r.graft):[];if(r.prune&&this._handlePrune(e,r.prune),!i.length&&!n.length&&!s.length)return;let a=Bt.createGossipRpc(n,{iwant:i,prune:s});this._sendRpc(e,a)}_processRpcMessage(e){let r=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return js(this,void 0,void 0,function*(){let i=this.getMsgId(e),n=Bt.messageIdToString(i);if(this.seenCache.has(n)){this.score.duplicateMessage(e);return}this.seenCache.put(n),this.score.validateMessage(e),yield r._processRpcMessage.call(this,e)})}_acceptFrom(e){return this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.graylistThreshold}validate(e){let r=Object.create(null,{validate:{get:()=>super.validate}});return js(this,void 0,void 0,function*(){try{yield r.validate.call(this,e)}catch(i){throw this.score.rejectMessage(e,i.code),this.gossipTracer.rejectMessage(e,i.code),i}})}_handleIHave(e,r){if(!r.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,i),[];let n=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,n),n>ve.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,n),[];let s=this.iasked.get(e)||0;if(s>=ve.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,s),[];let a=new Map;if(r.forEach(({topicID:c,messageIDs:f})=>{!c||!f||!this.mesh.has(c)||f.forEach(h=>{let d=Bt.messageIdToString(h);this.seenCache.has(d)||a.set(d,h)})}),!a.size)return[];let o=a.size;o+s>ve.GossipsubMaxIHaveLength&&(o=ve.GossipsubMaxIHaveLength-s),this.log("IHAVE: Asking for %d out of %d messages from %s",o,a.size,e);let u=Array.from(a.values());return Bt.shuffle(u),u=u.slice(0,o),this.iasked.set(e,s+o),this.gossipTracer.addPromise(e,u),[{messageIDs:u}]}_handleIWant(e,r){if(!r.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,i),[];let n=new Map;return r.forEach(({messageIDs:s})=>{s&&s.forEach(a=>{let[o,u]=this.messageCache.getForPeer(a,e);if(!!o){if(u>ve.GossipsubGossipRetransmission){this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,a);return}n.set(Bt.messageIdToString(a),o)}})}),n.size?(this.log("IWANT: Sending %d messages to %s",n.size,e),Array.from(n.values()).map(gc.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,r){let i=[],n=this.score.score(e),s=this._now(),a=this._options.doPX;return r.forEach(({topicID:o})=>{var u;if(!o)return;let c=this.mesh.get(o);if(!c){a=!1;return}if(c.has(e))return;if(this.direct.has(e)){this.log("GRAFT: ignoring request from direct peer %s",e),i.push(o),a=!1;return}let f=(u=this.backoff.get(o))===null||u===void 0?void 0:u.get(e);if(typeof f=="number"&&s<f){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),a=!1;let h=f+ve.GossipsubGraftFloodThreshold-ve.GossipsubPruneBackoff;s<h&&this.score.addPenalty(e,1),this._addBackoff(e,o),i.push(o);return}if(n<0){this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,n,o),i.push(o),a=!1,this._addBackoff(e,o);return}if(c.size>=this._options.Dhi&&!this.outbound.get(e)){i.push(o),this._addBackoff(e,o);return}this.log("GRAFT: Add mesh link from %s in %s",e,o),this.score.graft(e,o),c.add(e)}),i.length?i.map(o=>this._makePrune(e,o,a)):[]}_handlePrune(e,r){let i=this.score.score(e);r.forEach(({topicID:n,backoff:s,peers:a})=>{if(!n)return;let o=this.mesh.get(n);if(!!o&&(this.log("PRUNE: Remove mesh link to %s in %s",e,n),this.score.prune(e,n),o.delete(e),typeof s=="number"&&s>0?this._doAddBackoff(e,n,s*1e3):this._addBackoff(e,n),a&&a.length)){if(i<this._options.scoreThresholds.acceptPXThreshold){this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,i,n);return}this._pxConnect(a)}})}_addBackoff(e,r){this._doAddBackoff(e,r,ve.GossipsubPruneBackoff)}_doAddBackoff(e,r,i){let n=this.backoff.get(r);n||(n=new Map,this.backoff.set(r,n));let s=this._now()+i;(n.get(e)||0)<s&&n.set(e,s)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach((e,r)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",r,e),this.score.addPenalty(r,e)})}_clearBackoff(){if(this.heartbeatTicks%ve.GossipsubPruneBackoffTicks!=0)return;let e=this._now();this.backoff.forEach((r,i)=>{r.forEach((n,s)=>{n<e&&r.delete(s)}),r.size===0&&this.backoff.delete(i)})}_directConnect(){if(this.heartbeatTicks%ve.GossipsubDirectConnectTicks!=0)return;let e=[];this.direct.forEach(r=>{let i=this.peers.get(r);(!i||!i.isWritable)&&e.push(r)}),e.length&&e.forEach(r=>{this._connect(r)})}_pxConnect(e){return js(this,void 0,void 0,function*(){e.length>ve.GossipsubPrunePeers&&(Bt.shuffle(e),e=e.slice(0,ve.GossipsubPrunePeers));let r=[];yield Promise.all(e.map(i=>js(this,void 0,void 0,function*(){if(!i.peerID)return;let s=mc.createFromBytes(i.peerID).toB58String();if(!this.peers.has(s)){if(!i.signedPeerRecord){r.push(s);return}try{let a=yield kw.openAndCertify(i.signedPeerRecord,"libp2p-peer-record"),o=a.peerId.toB58String();if(s!==o){this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",o,s);return}if(!this._libp2p.peerStore.addressBook.consumePeerRecord(a)){this.log("bogus peer record obtained through px: could not add peer record to address book");return}r.push(s)}catch(a){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}}}))),!!r.length&&r.forEach(i=>this._connect(i))})}start(){super.start(),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout(()=>{this.direct.forEach(e=>{this._connect(e)})},ve.GossipsubDirectConnectInitialDelay)}stop(){super.stop(),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),clearTimeout(this._directPeerInitial)}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(mc.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);let r=this.fanout.get(e);if(r)r.forEach(i=>{this.score.score(i)<0&&r.delete(i)}),r.size<this._options.D&&ko.getGossipPeers(this,e,this._options.D-r.size,i=>!r.has(i)&&!this.direct.has(i)&&this.score.score(i)>=0).forEach(i=>r.add(i)),this.mesh.set(e,r),this.fanout.delete(e),this.lastpub.delete(e);else{let i=ko.getGossipPeers(this,e,this._options.D,n=>!this.direct.has(n)&&this.score.score(n)>=0);this.mesh.set(e,i)}this.mesh.get(e).forEach(i=>{this.log("JOIN: Add mesh link to %s in %s",i,e),this._sendGraft(i,e)})}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);let r=this.mesh.get(e);r&&(r.forEach(i=>{this.log("LEAVE: Remove mesh link to %s in %s",i,e),this._sendPrune(i,e)}),this.mesh.delete(e))}_publish(e){return js(this,void 0,void 0,function*(){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));let r=this.getMsgId(e),i=Bt.messageIdToString(r);this.seenCache.put(i),this.messageCache.put(e);let n=new Set;e.topicIDs.forEach(a=>{let o=this.topics.get(a);if(!!o)if(this._options.floodPublish&&e.from===this.peerId.toB58String())o.forEach(u=>{(this.direct.has(u)||this.score.score(u)>=this._options.scoreThresholds.publishThreshold)&&n.add(u)});else{this.direct.forEach(c=>{n.add(c)}),o.forEach(c=>{let f=this.score.score(c),h=this.peers.get(c);!h||h.protocol===ve.FloodsubID&&f>=this._options.scoreThresholds.publishThreshold&&n.add(c)});let u=this.mesh.get(a);if(!u||!u.size){if(u=this.fanout.get(a),!u){let c=ko.getGossipPeers(this,a,this._options.D,f=>this.score.score(f)>=this._options.scoreThresholds.publishThreshold);c.size>0?(u=c,this.fanout.set(a,c)):u=new Set}this.lastpub.set(a,this._now())}u.forEach(c=>{n.add(c)})}});let s=Bt.createGossipRpc([gc.utils.normalizeOutRpcMessage(e)]);n.forEach(a=>{a!==e.from&&this._sendRpc(a,s)})})}_sendGraft(e,r){let i=[{topicID:r}],n=Bt.createGossipRpc([],{graft:i});this._sendRpc(e,n)}_sendPrune(e,r){let i=[this._makePrune(e,r,this._options.doPX)],n=Bt.createGossipRpc([],{prune:i});this._sendRpc(e,n)}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable)return;let n=this.control.get(e);n&&(this._piggybackControl(e,r,n),this.control.delete(e));let s=this.gossip.get(e);s&&(this._piggybackGossip(e,r,s),this.gossip.delete(e)),i.write(vc.RPC.encode(r).finish())}_piggybackControl(e,r,i){let n=(i.graft||[]).filter(({topicID:a})=>(a&&this.mesh.get(a)||new Set).has(e)),s=(i.prune||[]).filter(({topicID:a})=>!(a&&this.mesh.get(a)||new Set).has(e));!n.length&&!s.length||(r.control?(r.control.graft=r.control.graft&&r.control.graft.concat(n),r.control.prune=r.control.prune&&r.control.prune.concat(s)):r.control={ihave:[],iwant:[],graft:n,prune:s})}_piggybackGossip(e,r,i){r.control||(r.control={ihave:[],iwant:[],graft:[],prune:[]}),r.control.ihave=i}_sendGraftPrune(e,r,i){let n=this._options.doPX;for(let[s,a]of e){let o=a.map(h=>({topicID:h})),u=[],c=r.get(s);c&&(u=c.map(h=>this._makePrune(s,h,n&&!i.get(s))),r.delete(s));let f=Bt.createGossipRpc([],{graft:o,prune:u});this._sendRpc(s,f)}for(let[s,a]of r){let o=a.map(c=>this._makePrune(s,c,n&&!i.get(s))),u=Bt.createGossipRpc([],{prune:o});this._sendRpc(s,u)}}_emitGossip(e,r){let i=this.messageCache.getGossipIDs(e);if(!i.length)return;Bt.shuffle(i),i.length>ve.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",i.length);let n=[],s=this.topics.get(e);if(!s)return;s.forEach(u=>{let c=this.peers.get(u);!c||!r.has(u)&&!this.direct.has(u)&&Bt.hasGossipProtocol(c.protocol)&&this.score.score(u)>=this._options.scoreThresholds.gossipThreshold&&n.push(u)});let a=this._options.Dlazy,o=ve.GossipsubGossipFactor*n.length;o>a&&(a=o),a>n.length?a=n.length:Bt.shuffle(n),n.slice(0,a).forEach(u=>{let c=i;i.length>ve.GossipsubMaxIHaveLength&&(c=Bt.shuffle(c.slice()).slice(0,ve.GossipsubMaxIHaveLength)),this._pushGossip(u,{topicID:e,messageIDs:c})})}_flush(){for(let[e,r]of this.gossip.entries()){this.gossip.delete(e);let i=Bt.createGossipRpc([],{ihave:r});this._sendRpc(e,i)}for(let[e,r]of this.control.entries()){this.control.delete(e);let i=Bt.createGossipRpc([],{graft:r.graft,prune:r.prune});this._sendRpc(e,i)}}_pushGossip(e,r){this.log("Add gossip to %s",e);let i=this.gossip.get(e)||[];this.gossip.set(e,i.concat(r))}_now(){return Date.now()}_makePrune(e,r,i){if(this.peers.get(e).protocol===ve.GossipsubIDv10)return{topicID:r,peers:[]};let n=ve.GossipsubPruneBackoff/1e3,s=[];return i&&ko.getGossipPeers(this,r,ve.GossipsubPrunePeers,o=>o!==e&&this.score.score(o)>=0).forEach(o=>{let u=mc.createFromB58String(o);s.push({peerID:u.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(u)})}),{topicID:r,peers:s,backoff:n}}};wc.multicodec=ve.GossipsubIDv11;Bg.exports=wc});return Cw();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pGossipsub}));
