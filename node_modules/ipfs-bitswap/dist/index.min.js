(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.IpfsBitswap = factory()}(typeof self !== 'undefined' ? self : this, function () {
var IpfsBitswap=(()=>{var Tu=Object.create,Cn=Object.defineProperty,Fu=Object.getPrototypeOf,Iu=Object.prototype.hasOwnProperty,Ou=Object.getOwnPropertyNames,Mu=Object.getOwnPropertyDescriptor;var Lu=r=>Cn(r,"__esModule",{value:!0});var Pu=(r,e)=>()=>(r&&(e=r(r=0)),e),y=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Du=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ou(e))!Iu.call(r,n)&&n!=="default"&&Cn(r,n,{get:()=>e[n],enumerable:!(t=Mu(e,n))||t.enumerable});return r},qi=r=>Du(Lu(Cn(r!=null?Tu(Fu(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Ni=y(zr=>{h();"use strict";zr.byteLength=qu;zr.toByteArray=Uu;zr.fromByteArray=Nu;var ge=[],le=[],Ru=typeof Uint8Array!="undefined"?Uint8Array:Array,Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var rt=0,ju=Tn.length;rt<ju;++rt)ge[rt]=Tn[rt],le[Tn.charCodeAt(rt)]=rt;le["-".charCodeAt(0)]=62;le["_".charCodeAt(0)]=63;function Ui(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function qu(r){var e=Ui(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Hu(r,e,t){return(e+t)*3/4-t}function Uu(r){var e,t=Ui(r),n=t[0],i=t[1],s=new Ru(Hu(r,n,i)),o=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=4)e=le[r.charCodeAt(c)]<<18|le[r.charCodeAt(c+1)]<<12|le[r.charCodeAt(c+2)]<<6|le[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=le[r.charCodeAt(c)]<<2|le[r.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=le[r.charCodeAt(c)]<<10|le[r.charCodeAt(c+1)]<<4|le[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function zu(r){return ge[r>>18&63]+ge[r>>12&63]+ge[r>>6&63]+ge[r&63]}function Wu(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(zu(n));return i.join("")}function Nu(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,u=t-n;o<u;o+=s)i.push(Wu(r,o,o+s>u?u:o+s));return n===1?(e=r[t-1],i.push(ge[e>>2]+ge[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(ge[e>>10]+ge[e>>4&63]+ge[e<<2&63]+"=")),i.join("")}});var Ri=y(Fn=>{h();Fn.read=function(r,e,t,n,i){var s,o,u=i*8-n-1,c=(1<<u)-1,f=c>>1,p=-7,d=t?i-1:0,I=t?-1:1,l=r[e+d];for(d+=I,s=l&(1<<-p)-1,l>>=-p,p+=u;p>0;s=s*256+r[e+d],d+=I,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=n;p>0;o=o*256+r[e+d],d+=I,p-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(l?-1:1)*Infinity;o=o+Math.pow(2,n),s=s-f}return(l?-1:1)*o*Math.pow(2,s-n)};Fn.write=function(r,e,t,n,i,s){var o,u,c,f=s*8-i-1,p=(1<<f)-1,d=p>>1,I=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:s-1,x=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(u=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=I/c:e+=I*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=p?(u=0,o=p):o+d>=1?(u=(e*c-1)*Math.pow(2,i),o=o+d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;r[t+l]=u&255,l+=x,u/=256,i-=8);for(o=o<<i|u,f+=i;f>0;r[t+l]=o&255,l+=x,o/=256,f-=8);r[t+l-x]|=v*128}});var De=y(nt=>{h();"use strict";var In=Ni(),it=Ri(),ji=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;nt.Buffer=b;nt.SlowBuffer=$u;nt.INSPECT_MAX_BYTES=50;var Wr=2147483647;nt.kMaxLength=Wr;b.TYPED_ARRAY_SUPPORT=Gu();!b.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Gu(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.buffer}});Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.byteOffset}});function Ce(r){if(r>Wr)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,b.prototype),e}function b(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return On(r)}return Hi(r,e,t)}b.poolSize=8192;function Hi(r,e,t){if(typeof r=="string")return Vu(r,e);if(ArrayBuffer.isView(r))return Ju(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(ye(r,ArrayBuffer)||r&&ye(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ye(r,SharedArrayBuffer)||r&&ye(r.buffer,SharedArrayBuffer)))return Mn(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return b.from(n,e,t);let i=Ku(r);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return b.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}b.from=function(r,e,t){return Hi(r,e,t)};Object.setPrototypeOf(b.prototype,Uint8Array.prototype);Object.setPrototypeOf(b,Uint8Array);function zi(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Qu(r,e,t){return zi(r),r<=0?Ce(r):e!==void 0?typeof t=="string"?Ce(r).fill(e,t):Ce(r).fill(e):Ce(r)}b.alloc=function(r,e,t){return Qu(r,e,t)};function On(r){return zi(r),Ce(r<0?0:Ln(r)|0)}b.allocUnsafe=function(r){return On(r)};b.allocUnsafeSlow=function(r){return On(r)};function Vu(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Wi(r,e)|0,n=Ce(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function Pn(r){let e=r.length<0?0:Ln(r.length)|0,t=Ce(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function Ju(r){if(ye(r,Uint8Array)){let e=new Uint8Array(r);return Mn(e.buffer,e.byteOffset,e.byteLength)}return Pn(r)}function Mn(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,b.prototype),n}function Ku(r){if(b.isBuffer(r)){let e=Ln(r.length)|0,t=Ce(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Dn(r.length)?Ce(0):Pn(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Pn(r.data)}function Ln(r){if(r>=Wr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Wr.toString(16)+" bytes");return r|0}function $u(r){return+r!=r&&(r=0),b.alloc(+r)}b.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==b.prototype};b.compare=function(e,t){if(ye(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),ye(t,Uint8Array)&&(t=b.from(t,t.offset,t.byteLength)),!b.isBuffer(e)||!b.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0};b.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};b.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return b.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=b.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let o=e[n];if(ye(o,Uint8Array))s+o.length>i.length?(b.isBuffer(o)||(o=b.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(b.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function Wi(r,e){if(b.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||ye(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return qn(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return $i(r).length;default:if(i)return n?-1:qn(r).length;e=(""+e).toLowerCase(),i=!0}}b.byteLength=Wi;function rl(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return el(this,e,t);case"utf8":case"utf-8":return Gi(this,e,t);case"ascii":return Zu(this,e,t);case"latin1":case"binary":return Yu(this,e,t);case"base64":return Xu(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tl(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}b.prototype._isBuffer=!0;function We(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}b.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)We(this,t,t+1);return this};b.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)We(this,t,t+3),We(this,t+1,t+2);return this};b.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)We(this,t,t+7),We(this,t+1,t+6),We(this,t+2,t+5),We(this,t+3,t+4);return this};b.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Gi(this,0,e):rl.apply(this,arguments)};b.prototype.toLocaleString=b.prototype.toString;b.prototype.equals=function(e){if(!b.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:b.compare(this,e)===0};b.prototype.inspect=function(){let e="",t=nt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};ji&&(b.prototype[ji]=b.prototype.inspect);b.prototype.compare=function(e,t,n,i,s){if(ye(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),!b.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,u=n-t,c=Math.min(o,u),f=this.slice(i,s),p=e.slice(t,n);for(let d=0;d<c;++d)if(f[d]!==p[d]){o=f[d],u=p[d];break}return o<u?-1:u<o?1:0};function Ji(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Dn(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=b.from(e,n)),b.isBuffer(e))return e.length===0?-1:Vi(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Vi(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Vi(r,e,t,n,i){let s=1,o=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,u/=2,t/=2}function c(p,d){return s===1?p[d]:p.readUInt16BE(d*s)}let f;if(i){let p=-1;for(f=t;f<o;f++)if(c(r,f)===c(e,p===-1?0:f-p)){if(p===-1&&(p=f),f-p+1===u)return p*s}else p!==-1&&(f-=f-p),p=-1}else for(t+u>o&&(t=o-u),f=t;f>=0;f--){let p=!0;for(let d=0;d<u;d++)if(c(r,f+d)!==c(e,d)){p=!1;break}if(p)return f}return-1}b.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};b.prototype.indexOf=function(e,t,n){return Ji(this,e,t,n,!0)};b.prototype.lastIndexOf=function(e,t,n){return Ji(this,e,t,n,!1)};function nl(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let u=parseInt(e.substr(o*2,2),16);if(Dn(u))return o;r[t+o]=u}return o}function il(r,e,t,n){return $r(qn(e,r.length-t),r,t,n)}function ol(r,e,t,n){return $r(sl(e),r,t,n)}function al(r,e,t,n){return $r($i(e),r,t,n)}function ul(r,e,t,n){return $r(cl(e,r.length-t),r,t,n)}b.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return nl(this,e,t,n);case"utf8":case"utf-8":return il(this,e,t,n);case"ascii":case"latin1":case"binary":return ol(this,e,t,n);case"base64":return al(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ul(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xu(r,e,t){return e===0&&t===r.length?In.fromByteArray(r):In.fromByteArray(r.slice(e,t))}function Gi(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,u=s>239?4:s>223?3:s>191?2:1;if(i+u<=t){let c,f,p,d;switch(u){case 1:s<128&&(o=s);break;case 2:c=r[i+1],(c&192)==128&&(d=(s&31)<<6|c&63,d>127&&(o=d));break;case 3:c=r[i+1],f=r[i+2],(c&192)==128&&(f&192)==128&&(d=(s&15)<<12|(c&63)<<6|f&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:c=r[i+1],f=r[i+2],p=r[i+3],(c&192)==128&&(f&192)==128&&(p&192)==128&&(d=(s&15)<<18|(c&63)<<12|(f&63)<<6|p&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=u}return ll(n)}var Ki=4096;function ll(r){let e=r.length;if(e<=Ki)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Ki));return t}function Zu(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function Yu(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function el(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let s=e;s<t;++s)i+=fl[r[s]];return i}function tl(r,e,t){let n=r.slice(e,t),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}b.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,b.prototype),i};function Y(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Y(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i};b.prototype.readUintBE=b.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Y(e,t,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i};b.prototype.readUint8=b.prototype.readUInt8=function(e,t){return e=e>>>0,t||Y(e,1,this.length),this[e]};b.prototype.readUint16LE=b.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Y(e,2,this.length),this[e]|this[e+1]<<8};b.prototype.readUint16BE=b.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Y(e,2,this.length),this[e]<<8|this[e+1]};b.prototype.readUint32LE=b.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};b.prototype.readUint32BE=b.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Y(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};b.prototype.readBigUInt64LE=Pe(function(e){e=e>>>0,st(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&vt(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});b.prototype.readBigUInt64BE=Pe(function(e){e=e>>>0,st(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&vt(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});b.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Y(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};b.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Y(e,t,this.length);let i=t,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};b.prototype.readInt8=function(e,t){return e=e>>>0,t||Y(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};b.prototype.readInt16LE=function(e,t){e=e>>>0,t||Y(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};b.prototype.readInt16BE=function(e,t){e=e>>>0,t||Y(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};b.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};b.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};b.prototype.readBigInt64LE=Pe(function(e){e=e>>>0,st(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&vt(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});b.prototype.readBigInt64BE=Pe(function(e){e=e>>>0,st(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&vt(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});b.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Y(e,4,this.length),it.read(this,e,!0,23,4)};b.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Y(e,4,this.length),it.read(this,e,!1,23,4)};b.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Y(e,8,this.length),it.read(this,e,!0,52,8)};b.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Y(e,8,this.length),it.read(this,e,!1,52,8)};function ae(r,e,t,n,i,s){if(!b.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;ae(this,e,t,n,u,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n};b.prototype.writeUintBE=b.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let u=Math.pow(2,8*n)-1;ae(this,e,t,n,u,0)}let s=n-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n};b.prototype.writeUint8=b.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,1,255,0),this[t]=e&255,t+1};b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Xi(r,e,t,n,i){Qi(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function Zi(r,e,t,n,i){Qi(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}b.prototype.writeBigUInt64LE=Pe(function(e,t=0){return Xi(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});b.prototype.writeBigUInt64BE=Pe(function(e,t=0){return Zi(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});b.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(2,8*n-1);ae(this,e,t,n,c-1,-c)}let s=0,o=1,u=0;for(this[t]=e&255;++s<n&&(o*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n};b.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let c=Math.pow(2,8*n-1);ae(this,e,t,n,c-1,-c)}let s=n-1,o=1,u=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/o>>0)-u&255;return t+n};b.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};b.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};b.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};b.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};b.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||ae(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};b.prototype.writeBigInt64LE=Pe(function(e,t=0){return Xi(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});b.prototype.writeBigInt64BE=Pe(function(e,t=0){return Zi(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Yi(r,e,t,n,i,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function es(r,e,t,n,i){return e=+e,t=t>>>0,i||Yi(r,e,t,4,34028234663852886e22,-34028234663852886e22),it.write(r,e,t,n,23,4),t+4}b.prototype.writeFloatLE=function(e,t,n){return es(this,e,t,!0,n)};b.prototype.writeFloatBE=function(e,t,n){return es(this,e,t,!1,n)};function ts(r,e,t,n,i){return e=+e,t=t>>>0,i||Yi(r,e,t,8,17976931348623157e292,-17976931348623157e292),it.write(r,e,t,n,52,8),t+8}b.prototype.writeDoubleLE=function(e,t,n){return ts(this,e,t,!0,n)};b.prototype.writeDoubleBE=function(e,t,n){return ts(this,e,t,!1,n)};b.prototype.copy=function(e,t,n,i){if(!b.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),s};b.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!b.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let o=b.isBuffer(e)?e:b.from(e,i),u=o.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%u]}return this};var ot={};function Un(r,e,t){ot[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Un("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Un("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Un("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=rs(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=rs(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function rs(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function hl(r,e,t){st(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&vt(e,r.length-(t+1))}function Qi(r,e,t,n,i,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:u=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:u=`>= ${e}${o} and <= ${t}${o}`,new ot.ERR_OUT_OF_RANGE("value",u,r)}hl(n,i,s)}function st(r,e){if(typeof r!="number")throw new ot.ERR_INVALID_ARG_TYPE(e,"number",r)}function vt(r,e,t){throw Math.floor(r)!==r?(st(r,t),new ot.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var pl=/[^+/0-9A-Za-z-_]/g;function dl(r){if(r=r.split("=")[0],r=r.trim().replace(pl,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function qn(r,e){e=e||Infinity;let t,n=r.length,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function sl(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function cl(r,e){let t,n,i,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,s.push(i),s.push(n);return s}function $i(r){return In.toByteArray(dl(r))}function $r(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function ye(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Dn(r){return r!==r}var fl=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function Pe(r){return typeof BigInt=="undefined"?bl:r}function bl(){throw new Error("BigInt not supported")}});var as=y((g1,ns)=>{h();var K=ns.exports={},ke,we;function Nn(){throw new Error("setTimeout has not been defined")}function Rn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ke=setTimeout:ke=Nn}catch(r){ke=Nn}try{typeof clearTimeout=="function"?we=clearTimeout:we=Rn}catch(r){we=Rn}})();function is(r){if(ke===setTimeout)return setTimeout(r,0);if((ke===Nn||!ke)&&setTimeout)return ke=setTimeout,setTimeout(r,0);try{return ke(r,0)}catch(e){try{return ke.call(null,r,0)}catch(t){return ke.call(this,r,0)}}}function xl(r){if(we===clearTimeout)return clearTimeout(r);if((we===Rn||!we)&&clearTimeout)return we=clearTimeout,clearTimeout(r);try{return we(r)}catch(e){try{return we.call(null,r)}catch(t){return we.call(this,r)}}}var Te=[],at=!1,$e,Gr=-1;function gl(){!at||!$e||(at=!1,$e.length?Te=$e.concat(Te):Gr=-1,Te.length&&ss())}function ss(){if(!at){var r=is(gl);at=!0;for(var e=Te.length;e;){for($e=Te,Te=[];++Gr<e;)$e&&$e[Gr].run();Gr=-1,e=Te.length}$e=null,at=!1,xl(r)}}K.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Te.push(new os(r,e)),Te.length===1&&!at&&is(ss)};function os(r,e){this.fun=r,this.array=e}os.prototype.run=function(){this.fun.apply(null,this.array)};K.title="browser";K.browser=!0;K.env={};K.argv=[];K.version="";K.versions={};function Fe(){}K.on=Fe;K.addListener=Fe;K.once=Fe;K.off=Fe;K.removeListener=Fe;K.removeAllListeners=Fe;K.emit=Fe;K.prependListener=Fe;K.prependOnceListener=Fe;K.listeners=function(r){return[]};K.binding=function(r){throw new Error("process.binding is not supported")};K.cwd=function(){return"/"};K.chdir=function(r){throw new Error("process.chdir is not supported")};K.umask=function(){return 0}});var k,g,h=Pu(()=>{k=qi(De()),g=qi(as())});var us=y((k1,cs)=>{h();"use strict";function yl(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,u=r.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function p(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";for(var x=0,v=0,V=0,E=l.length;V!==E&&l[V]===0;)V++,x++;for(var B=(E-V)*f+1>>>0,S=new Uint8Array(B);V!==E;){for(var C=l[V],M=0,q=B-1;(C!==0||M<v)&&q!==-1;q--,M++)C+=256*S[q]>>>0,S[q]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");v=M,V++}for(var A=B-v;A!==B&&S[A]===0;)A++;for(var W=u.repeat(x);A<B;++A)W+=r.charAt(S[A]);return W}function d(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;var x=0;if(l[x]!==" "){for(var v=0,V=0;l[x]===u;)v++,x++;for(var E=(l.length-x)*c+1>>>0,B=new Uint8Array(E);l[x];){var S=e[l.charCodeAt(x)];if(S===255)return;for(var C=0,M=E-1;(S!==0||C<V)&&M!==-1;M--,C++)S+=o*B[M]>>>0,B[M]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");V=C,x++}if(l[x]!==" "){for(var q=E-V;q!==E&&B[q]===0;)q++;for(var A=new Uint8Array(v+(E-q)),W=v;q!==E;)A[W++]=B[q++];return A}}}function I(l){var x=d(l);if(x)return x;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:d,decode:I}}cs.exports=yl});var Vr=y((w1,ls)=>{h();"use strict";var kl=new TextDecoder,wl=r=>kl.decode(r),ml=new TextEncoder,_l=r=>ml.encode(r);function vl(r,e){let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}ls.exports={decodeText:wl,encodeText:_l,concat:vl}});var ps=y((m1,fs)=>{h();"use strict";var{encodeText:Bl}=Vr(),hs=class{constructor(e,t,n,i){this.name=e,this.code=t,this.codeBuf=Bl(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};fs.exports=hs});var bs=y((_1,ds)=>{h();"use strict";var El=(r,e,t)=>{let n={};for(let f=0;f<e.length;++f)n[e[f]]=f;let i=r.length;for(;r[i-1]==="=";)--i;let s=new Uint8Array(i*t/8|0),o=0,u=0,c=0;for(let f=0;f<i;++f){let p=n[r[f]];if(p===void 0)throw new SyntaxError("Invalid character "+r[f]);u=u<<t|p,o+=t,o>=8&&(o-=8,s[c++]=255&u>>o)}if(o>=t||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return s},Al=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,s="",o=0,u=0;for(let c=0;c<r.length;++c)for(u=u<<8|r[c],o+=8;o>t;)o-=t,s+=e[i&u>>o];if(o&&(s+=e[i&u<<t-o]),n)for(;s.length*t&7;)s+="=";return s},Sl=r=>e=>({encode(t){return Al(t,e,r)},decode(t){return El(t,e,r)}});ds.exports={rfc4648:Sl}});var ks=y((v1,xs)=>{h();"use strict";var Bt=us(),Cl=ps(),{rfc4648:re}=bs(),{decodeText:Tl,encodeText:Fl}=Vr(),Il=()=>({encode:Tl,decode:Fl}),gs=[["identity","\0",Il,""],["base2","0",re(1),"01"],["base8","7",re(3),"01234567"],["base10","9",Bt,"0123456789"],["base16","f",re(4),"0123456789abcdef"],["base16upper","F",re(4),"0123456789ABCDEF"],["base32hex","v",re(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",re(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",re(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",re(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",re(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",re(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",re(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",re(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",re(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Bt,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Bt,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Bt,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Bt,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",re(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",re(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",re(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",re(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],ys=gs.reduce((r,e)=>(r[e[0]]=new Cl(e[0],e[1],e[2],e[3]),r),{}),Ol=gs.reduce((r,e)=>(r[e[1]]=ys[e[0]],r),{});xs.exports={names:ys,codes:Ol}});var Et=y((Ie,ws)=>{h();"use strict";var ct=ks(),{encodeText:Ml,decodeText:Jr,concat:ms}=Vr();function Pl(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:n}=Ge(r);return Ll(t,e),ms([n,e],n.length+e.length)}function Dl(r,e){let t=Ge(r),n=Ml(t.encode(e));return ms([t.codeBuf,n],t.codeBuf.length+n.length)}function ql(r){r instanceof Uint8Array&&(r=Jr(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),Ge(r[0]).decode(r.substring(1))}function Ul(r){if(r instanceof Uint8Array&&(r=Jr(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return Ge(r[0]).name}catch(e){return!1}}function Ll(r,e){Ge(r).decode(Jr(e))}function Ge(r){if(Object.prototype.hasOwnProperty.call(ct.names,r))return ct.names[r];if(Object.prototype.hasOwnProperty.call(ct.codes,r))return ct.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function Nl(r){return r instanceof Uint8Array&&(r=Jr(r)),Ge(r[0])}Ie=ws.exports=Pl;Ie.encode=Dl;Ie.decode=ql;Ie.isEncoded=Ul;Ie.encoding=Ge;Ie.encodingFromData=Nl;var Rl=Object.freeze(ct.names),jl=Object.freeze(ct.codes);Ie.names=Rl;Ie.codes=jl});var Es=y((B1,_s)=>{h();_s.exports=vs;var Bs=128,Hl=127,zl=~Hl,Wl=Math.pow(2,31);function vs(r,e,t){e=e||[],t=t||0;for(var n=t;r>=Wl;)e[t++]=r&255|Bs,r/=128;for(;r&zl;)e[t++]=r&255|Bs,r>>>=7;return e[t]=r|0,vs.bytes=t-n+1,e}});var Cs=y((E1,As)=>{h();As.exports=jn;var $l=128,Ss=127;function jn(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o)throw jn.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&Ss)<<n:(s&Ss)*Math.pow(2,n),n+=7}while(s>=$l);return jn.bytes=i-e,t}});var Fs=y((A1,Ts)=>{h();var Gl=Math.pow(2,7),Vl=Math.pow(2,14),Jl=Math.pow(2,21),Kl=Math.pow(2,28),Ql=Math.pow(2,35),Xl=Math.pow(2,42),Zl=Math.pow(2,49),Yl=Math.pow(2,56),ef=Math.pow(2,63);Ts.exports=function(r){return r<Gl?1:r<Vl?2:r<Jl?3:r<Kl?4:r<Ql?5:r<Xl?6:r<Zl?7:r<Yl?8:r<ef?9:10}});var At=y((S1,Is)=>{h();Is.exports={encode:Es(),decode:Cs(),encodingLength:Fs()}});var Ms=y((C1,Os)=>{h();"use strict";var tf=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});Os.exports={names:tf}});var St=y((T1,Ls)=>{h();"use strict";var{encoding:rf}=Et(),nf=new TextDecoder("utf8");function sf(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function of(r,e="utf8"){return e==="utf8"||e==="utf-8"?nf.decode(r):e==="ascii"?sf(r):rf(e).encode(r)}Ls.exports=of});var Kr=y((F1,Ps)=>{h();"use strict";var{encoding:af}=Et(),cf=new TextEncoder;function uf(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function lf(r,e="utf8"){return e==="utf8"||e==="utf-8"?cf.encode(r):e==="ascii"?uf(r):af(e).decode(r)}Ps.exports=lf});var Qr=y((I1,Ds)=>{h();"use strict";function ff(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}Ds.exports=ff});var Tt=y((O1,qs)=>{h();"use strict";var Us=Et(),ut=At(),{names:Ct}=Ms(),Xr=St(),hf=Kr(),pf=Qr(),lt={};for(let r in Ct){let e=r;lt[Ct[e]]=e}Object.freeze(lt);function df(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Xr(r,"base16")}function bf(r){return hf(r,"base16")}function xf(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Xr(Us.encode("base58btc",r)).slice(1)}function gf(r){let e=r instanceof Uint8Array?Xr(r):r;return Us.decode("z"+e)}function Rs(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=ut.decode(r);if(!Ns(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(ut.decode.bytes);let t=ut.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(ut.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${Xr(r,"base16")}`);return{code:e,name:lt[e],length:t,digest:r}}function yf(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let n=js(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let i=ut.encode(n),s=ut.encode(t);return pf([i,s,r],i.length+s.length+r.length)}function js(r){let e=r;if(typeof r=="string"){if(Ct[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=Ct[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(lt[e]===void 0&&!Hn(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Hn(r){return r>0&&r<16}function Ns(r){return!!(Hn(r)||lt[r])}function Hs(r){Rs(r)}function kf(r){return Hs(r),r.subarray(0,2)}qs.exports={names:Ct,codes:lt,toHexString:df,fromHexString:bf,toB58String:xf,fromB58String:gf,decode:Rs,encode:yf,coerceCode:js,isAppCode:Hn,validate:Hs,prefix:kf,isValidCode:Ns}});var zn=y((M1,zs)=>{h();"use strict";var Ws=At(),wf=St(),mf=Kr();zs.exports={numberToUint8Array:_f,uint8ArrayToNumber:$s,varintUint8ArrayEncode:vf,varintEncode:Bf};function $s(r){return parseInt(wf(r,"base16"),16)}function _f(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),mf(e,"base16")}function vf(r){return Uint8Array.from(Ws.encode($s(r)))}function Bf(r){return Uint8Array.from(Ws.encode(r))}});var Vs=y((L1,Gs)=>{h();"use strict";var Ef=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Gs.exports={baseTable:Ef}});var Ks=y((P1,Js)=>{h();"use strict";var{baseTable:Wn}=Vs(),Af=zn().varintEncode,$n={},Gn={},Zr={};for(let r in Wn){let e=r,t=Wn[e];$n[e]=Af(t);let n=e.toUpperCase().replace(/-/g,"_");Gn[n]=t,Zr[t]||(Zr[t]=e)}Object.freeze($n);Object.freeze(Gn);Object.freeze(Zr);var Sf=Object.freeze(Wn);Js.exports={nameToVarint:$n,constantToCode:Gn,nameToCode:Sf,codeToName:Zr}});var Jn=y((D1,Qs)=>{h();"use strict";var Yr=At(),Cf=Qr(),Xs=zn(),{nameToVarint:en,constantToCode:Tf,nameToCode:Zs,codeToName:Vn}=Ks();function Ff(r,e){let t;if(r instanceof Uint8Array)t=Xs.varintUint8ArrayEncode(r);else if(en[r])t=en[r];else throw new Error("multicodec not recognized");return Cf([t,e],t.length+e.length)}function If(r){return Yr.decode(r),r.slice(Yr.decode.bytes)}function Ys(r){let e=Yr.decode(r),t=Vn[e];if(t===void 0)throw new Error(`Code "${e}" not found`);return t}function eo(r){return Vn[r]}function to(r){let e=Zs[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function ro(r){return Yr.decode(r)}function no(r){let e=en[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function io(r){return Xs.varintEncode(r)}function Of(r){return Ys(r)}function Mf(r){return eo(r)}function Lf(r){return to(r)}function Pf(r){return ro(r)}function Df(r){return no(r)}function qf(r){return Array.from(io(r))}Qs.exports={addPrefix:Ff,rmPrefix:If,getNameFromData:Ys,getNameFromCode:eo,getCodeFromName:to,getCodeFromData:ro,getVarintFromName:no,getVarintFromCode:io,getCodec:Of,getName:Mf,getNumber:Lf,getCode:Pf,getCodeVarint:Df,getVarint:qf,...Tf,nameToVarint:en,nameToCode:Zs,codeToName:Vn}});var oo=y((q1,so)=>{h();"use strict";var Uf=Tt(),Nf={checkCIDComponents:function(r){if(r==null)return"null values are not valid CIDs";if(!(r.version===0||r.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof r.codec!="string")return"codec must be string";if(r.version===0){if(r.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(r.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(r.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{Uf.validate(r.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};so.exports=Nf});var Ft=y((U1,ao)=>{h();"use strict";function Rf(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}ao.exports=Rf});var nn=y((N1,co)=>{h();"use strict";var tn=Tt(),Kn=Et(),Ve=Jn(),jf=oo(),uo=Qr(),Hf=St(),zf=Ft(),rn=Ve.nameToCode,Wf=Object.keys(rn).reduce((r,e)=>(r[rn[e]]=e,r),{}),lo=Symbol.for("@ipld/js-cid/CID"),de=class{constructor(e,t,n,i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,lo,{value:!0}),de.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=Kn.isEncoded(e);if(s){let o=Kn.decode(e);this.version=parseInt(o[0].toString(),16),this.codec=Ve.getCodec(o.slice(1)),this.multihash=Ve.rmPrefix(o.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=tn.fromB58String(e),this.multibaseName="base58btc";de.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let o=e;this.version=s,this.codec=Ve.getCodec(o.slice(1)),this.multihash=Ve.rmPrefix(o.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";de.validateCID(this);return}this.version=e,typeof t=="number"&&(t=Wf[t]),this.codec=t,this.multihash=n,this.multibaseName=i||(e===0?"base58btc":"base32"),de.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let t=Ve.getCodeVarint(this.codec);e=uo([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=Ve.getCodeVarint(this.codec),t=tn.prefix(this.multihash);return uo([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return rn[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:t}=tn.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(t!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new de(0,this.codec,this.multihash)}toV1(){return new de(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let t;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=tn.toB58String(this.multihash)}else if(this.version===1)t=Hf(Kn.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&zf(this.multihash,e.multihash)}static validateCID(e){let t=jf.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof de||Boolean(e&&e[lo])}};de.codecs=rn;co.exports=de});var ho=y((R1,fo)=>{fo.exports={_from:"ipld-block@^0.11.0",_id:"ipld-block@0.11.1",_inBundle:!1,_integrity:"sha512-sDqqLqD5qh4QzGq6ssxLHUCnH4emCf/8F8IwjQM2cjEEIEHMUj57XhNYgmGbemdYPznUhffxFGEHsruh5+HQRw==",_location:"/ipld-block",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"ipld-block@^0.11.0",name:"ipld-block",escapedName:"ipld-block",rawSpec:"^0.11.0",saveSpec:null,fetchSpec:"^0.11.0"},_requiredBy:["/","/ipfs-repo"],_resolved:"https://registry.npmjs.org/ipld-block/-/ipld-block-0.11.1.tgz",_shasum:"c3a7b41aee3244187bd87a73f980e3565d299b6e",_spec:"ipld-block@^0.11.0",_where:"/Users/alex/Documents/Workspaces/ipfs/js-ipfs-bitswap",bugs:{url:"https://github.com/ipld/js-ipld-block/issues"},bundleDependencies:!1,contributors:[{name:"David Dias",email:"daviddias.p@gmail.com"},{name:"Volker Mische",email:"volker.mische@gmail.com"},{name:"Friedel Ziegelmayer",email:"dignifiedquire@gmail.com"},{name:"Irakli Gozalishvili",email:"contact@gozala.io"},{name:"achingbrain",email:"alex@achingbrain.net"},{name:"\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D",email:"victorbjelkholm@gmail.com"},{name:"Alan Shaw",email:"alan.shaw@protocol.ai"},{name:"Charlie",email:"the_charlie_daly@hotmail.co.uk"},{name:"Diogo Silva",email:"fsdiogo@gmail.com"},{name:"Hugo Dias",email:"hugomrdias@gmail.com"},{name:"Mikeal Rogers",email:"mikeal.rogers@gmail.com"},{name:"Richard Littauer",email:"richard.littauer@gmail.com"},{name:"Richard Schneider",email:"makaretu@gmail.com"},{name:"Xmader",email:"xmader@outlook.com"}],dependencies:{cids:"^1.0.0"},deprecated:!1,description:"JavaScript Implementation of IPLD Block",devDependencies:{aegir:"^31.0.4",uint8arrays:"^2.1.3"},engines:{node:">=6.0.0",npm:">=3.0.0"},homepage:"https://github.com/ipld/js-ipld-block#readme",keywords:["IPLD"],leadMaintainer:"Volker Mische <volker.mische@gmail.com>",license:"MIT",main:"src/index.js",name:"ipld-block","pre-push":["lint","test"],repository:{type:"git",url:"git+https://github.com/ipld/js-ipld-block.git"},scripts:{check:"tsc --noEmit --noErrorTruncation",coverage:"aegir coverage","coverage-publish":"aegir coverage --provider coveralls",docs:"aegir docs",lint:"aegir lint",prepare:"aegir build --no-bundle",prepublishOnly:"aegir build",release:"aegir release --docs","release-major":"aegir release --type major --docs","release-minor":"aegir release --type minor --docs",test:"aegir test","test:browser":"aegir test --target browser","test:node":"aegir test --target node"},types:"dist/src/index.d.ts",version:"0.11.1"}});var Qn=y((j1,po)=>{h();"use strict";var $f=nn(),{version:Gf}=ho(),bo=Symbol.for("@ipld/js-ipld-block/block"),xo={writable:!1,configurable:!1,enumerable:!0},go=class{constructor(e,t){if(!e||!(e instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!t||!$f.isCID(t))throw new Error("second argument must be a CID");this.data=e,this.cid=t,Object.defineProperties(this,{data:xo,cid:xo})}get _data(){return Jf(),this.data}get _cid(){return Vf(),this.cid}get[Symbol.toStringTag](){return"Block"}get[bo](){return!0}static isBlock(e){return Boolean(e&&e[bo])}},yo=(r,e)=>{let t=!1;return()=>{if(r.test(Gf))t||(t=!0,console.warn(e));else throw new Error(e)}},Vf=yo(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),Jf=yo(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");po.exports=go});var mo=y((H1,ko)=>{h();"use strict";var wo=At();ko.exports=r=>{if(!(r instanceof Uint8Array))throw new Error("arg needs to be a Uint8Array");let e=[];for(;r.length>0;){let t=wo.decode(r);e.push(t),r=r.slice(wo.decode.bytes)}return e}});var Bo=y((z1,_o)=>{h();"use strict";function vo(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Kf(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return vo(r,t)}catch(n){t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),vo(new i,t)}}_o.exports=Kf});var Eo=y((W1,sn)=>{h();(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var i=!t&&typeof self=="object",s=!n.JS_SHA3_NO_NODE_JS&&typeof g.default=="object"&&g.default.versions&&g.default.versions.node;s?n=globalThis:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&typeof sn=="object"&&sn.exports,u=typeof define=="function"&&define.amd,c=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",f="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],I=[1,256,65536,16777216],l=[6,1536,393216,100663296],x=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],V=[224,256,384,512],E=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],S={"128":168,"256":136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),c&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return typeof a=="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer});for(var C=function(a,w,m){return function(_){return new X(a,w,a).update(_)[m]()}},M=function(a,w,m){return function(_,T){return new X(a,w,T).update(_)[m]()}},q=function(a,w,m){return function(_,T,L,P){return Se["cshake"+a].update(_,T,L,P)[m]()}},A=function(a,w,m){return function(_,T,L,P){return Se["kmac"+a].update(_,T,L,P)[m]()}},W=function(a,w,m,_){for(var T=0;T<B.length;++T){var L=B[T];a[L]=w(m,_,L)}return a},ze=function(a,w){var m=C(a,w,"hex");return m.create=function(){return new X(a,w,a)},m.update=function(_){return m.create().update(_)},W(m,C,a,w)},Ze=function(a,w){var m=M(a,w,"hex");return m.create=function(_){return new X(a,w,_)},m.update=function(_,T){return m.create(T).update(_)},W(m,M,a,w)},Ye=function(a,w){var m=S[a],_=q(a,w,"hex");return _.create=function(T,L,P){return!L&&!P?Se["shake"+a].create(T):new X(a,w,T).bytepad([L,P],m)},_.update=function(T,L,P,O){return _.create(L,P,O).update(T)},W(_,q,a,w)},et=function(a,w){var m=S[a],_=A(a,w,"hex");return _.create=function(T,L,P){return new Sn(a,w,L).bytepad(["KMAC",P],m).bytepad([T],m)},_.update=function(T,L,P,O){return _.create(T,P,O).update(L)},W(_,A,a,w)},N=[{name:"keccak",padding:I,bits:V,createMethod:ze},{name:"sha3",padding:l,bits:V,createMethod:ze},{name:"shake",padding:p,bits:E,createMethod:Ze},{name:"cshake",padding:d,bits:E,createMethod:Ye},{name:"kmac",padding:d,bits:E,createMethod:et}],Se={},wt=[],Le=0;Le<N.length;++Le)for(var tt=N[Le],zt=tt.bits,mt=0;mt<zt.length;++mt){var An=tt.name+"_"+zt[mt];if(wt.push(An),Se[An]=tt.createMethod(zt[mt],tt.padding),tt.name!=="sha3"){var Di=tt.name+zt[mt];wt.push(Di),Se[Di]=Se[An]}}function X(a,w,m){this.blocks=[],this.s=[],this.padding=w,this.outputBits=m,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(a<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=m>>5,this.extraBytes=(m&31)>>3;for(var _=0;_<50;++_)this.s[_]=0}X.prototype.update=function(a){if(this.finalized)throw new Error(e);var w,m=typeof a;if(m!=="string"){if(m==="object"){if(a===null)throw new Error(r);if(c&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!c||!ArrayBuffer.isView(a)))throw new Error(r)}else throw new Error(r);w=!0}for(var _=this.blocks,T=this.byteCount,L=a.length,P=this.blockCount,O=0,Z=this.s,D,J;O<L;){if(this.reset)for(this.reset=!1,_[0]=this.block,D=1;D<P+1;++D)_[D]=0;if(w)for(D=this.start;O<L&&D<T;++O)_[D>>2]|=a[O]<<x[D++&3];else for(D=this.start;O<L&&D<T;++O)J=a.charCodeAt(O),J<128?_[D>>2]|=J<<x[D++&3]:J<2048?(_[D>>2]|=(192|J>>6)<<x[D++&3],_[D>>2]|=(128|J&63)<<x[D++&3]):J<55296||J>=57344?(_[D>>2]|=(224|J>>12)<<x[D++&3],_[D>>2]|=(128|J>>6&63)<<x[D++&3],_[D>>2]|=(128|J&63)<<x[D++&3]):(J=65536+((J&1023)<<10|a.charCodeAt(++O)&1023),_[D>>2]|=(240|J>>18)<<x[D++&3],_[D>>2]|=(128|J>>12&63)<<x[D++&3],_[D>>2]|=(128|J>>6&63)<<x[D++&3],_[D>>2]|=(128|J&63)<<x[D++&3]);if(this.lastByteIndex=D,D>=T){for(this.start=D-T,this.block=_[P],D=0;D<P;++D)Z[D]^=_[D];_t(Z),this.reset=!0}else this.start=D}return this},X.prototype.encode=function(a,w){var m=a&255,_=1,T=[m];for(a=a>>8,m=a&255;m>0;)T.unshift(m),a=a>>8,m=a&255,++_;return w?T.push(_):T.unshift(_),this.update(T),T.length},X.prototype.encodeString=function(a){var w,m=typeof a;if(m!=="string"){if(m==="object"){if(a===null)throw new Error(r);if(c&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!c||!ArrayBuffer.isView(a)))throw new Error(r)}else throw new Error(r);w=!0}var _=0,T=a.length;if(w)_=T;else for(var L=0;L<a.length;++L){var P=a.charCodeAt(L);P<128?_+=1:P<2048?_+=2:P<55296||P>=57344?_+=3:(P=65536+((P&1023)<<10|a.charCodeAt(++L)&1023),_+=4)}return _+=this.encode(_*8),this.update(a),_},X.prototype.bytepad=function(a,w){for(var m=this.encode(w),_=0;_<a.length;++_)m+=this.encodeString(a[_]);var T=w-m%w,L=[];return L.length=T,this.update(L),this},X.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,w=this.lastByteIndex,m=this.blockCount,_=this.s;if(a[w>>2]|=this.padding[w&3],this.lastByteIndex===this.byteCount)for(a[0]=a[m],w=1;w<m+1;++w)a[w]=0;for(a[m-1]|=2147483648,w=0;w<m;++w)_[w]^=a[w];_t(_)}},X.prototype.toString=X.prototype.hex=function(){this.finalize();for(var a=this.blockCount,w=this.s,m=this.outputBlocks,_=this.extraBytes,T=0,L=0,P="",O;L<m;){for(T=0;T<a&&L<m;++T,++L)O=w[T],P+=f[O>>4&15]+f[O&15]+f[O>>12&15]+f[O>>8&15]+f[O>>20&15]+f[O>>16&15]+f[O>>28&15]+f[O>>24&15];L%a==0&&(_t(w),T=0)}return _&&(O=w[T],P+=f[O>>4&15]+f[O&15],_>1&&(P+=f[O>>12&15]+f[O>>8&15]),_>2&&(P+=f[O>>20&15]+f[O>>16&15])),P},X.prototype.arrayBuffer=function(){this.finalize();var a=this.blockCount,w=this.s,m=this.outputBlocks,_=this.extraBytes,T=0,L=0,P=this.outputBits>>3,O;_?O=new ArrayBuffer(m+1<<2):O=new ArrayBuffer(P);for(var Z=new Uint32Array(O);L<m;){for(T=0;T<a&&L<m;++T,++L)Z[L]=w[T];L%a==0&&_t(w)}return _&&(Z[T]=w[T],O=O.slice(0,P)),O},X.prototype.buffer=X.prototype.arrayBuffer,X.prototype.digest=X.prototype.array=function(){this.finalize();for(var a=this.blockCount,w=this.s,m=this.outputBlocks,_=this.extraBytes,T=0,L=0,P=[],O,Z;L<m;){for(T=0;T<a&&L<m;++T,++L)O=L<<2,Z=w[T],P[O]=Z&255,P[O+1]=Z>>8&255,P[O+2]=Z>>16&255,P[O+3]=Z>>24&255;L%a==0&&_t(w)}return _&&(O=L<<2,Z=w[T],P[O]=Z&255,_>1&&(P[O+1]=Z>>8&255),_>2&&(P[O+2]=Z>>16&255)),P};function Sn(a,w,m){X.call(this,a,w,m)}Sn.prototype=new X,Sn.prototype.finalize=function(){return this.encode(this.outputBits,!0),X.prototype.finalize.call(this)};var _t=function(a){var w,m,_,T,L,P,O,Z,D,J,Wt,$t,Gt,Vt,Jt,Kt,Qt,Xt,Zt,Yt,er,tr,rr,nr,ir,sr,or,ar,cr,ur,lr,fr,hr,pr,dr,br,xr,gr,yr,kr,wr,mr,_r,vr,Br,Er,Ar,Sr,Cr,Tr,Fr,Ir,Or,Mr,Lr,Pr,Dr,qr,Ur,Nr,Rr,jr,Hr;for(_=0;_<48;_+=2)T=a[0]^a[10]^a[20]^a[30]^a[40],L=a[1]^a[11]^a[21]^a[31]^a[41],P=a[2]^a[12]^a[22]^a[32]^a[42],O=a[3]^a[13]^a[23]^a[33]^a[43],Z=a[4]^a[14]^a[24]^a[34]^a[44],D=a[5]^a[15]^a[25]^a[35]^a[45],J=a[6]^a[16]^a[26]^a[36]^a[46],Wt=a[7]^a[17]^a[27]^a[37]^a[47],$t=a[8]^a[18]^a[28]^a[38]^a[48],Gt=a[9]^a[19]^a[29]^a[39]^a[49],w=$t^(P<<1|O>>>31),m=Gt^(O<<1|P>>>31),a[0]^=w,a[1]^=m,a[10]^=w,a[11]^=m,a[20]^=w,a[21]^=m,a[30]^=w,a[31]^=m,a[40]^=w,a[41]^=m,w=T^(Z<<1|D>>>31),m=L^(D<<1|Z>>>31),a[2]^=w,a[3]^=m,a[12]^=w,a[13]^=m,a[22]^=w,a[23]^=m,a[32]^=w,a[33]^=m,a[42]^=w,a[43]^=m,w=P^(J<<1|Wt>>>31),m=O^(Wt<<1|J>>>31),a[4]^=w,a[5]^=m,a[14]^=w,a[15]^=m,a[24]^=w,a[25]^=m,a[34]^=w,a[35]^=m,a[44]^=w,a[45]^=m,w=Z^($t<<1|Gt>>>31),m=D^(Gt<<1|$t>>>31),a[6]^=w,a[7]^=m,a[16]^=w,a[17]^=m,a[26]^=w,a[27]^=m,a[36]^=w,a[37]^=m,a[46]^=w,a[47]^=m,w=J^(T<<1|L>>>31),m=Wt^(L<<1|T>>>31),a[8]^=w,a[9]^=m,a[18]^=w,a[19]^=m,a[28]^=w,a[29]^=m,a[38]^=w,a[39]^=m,a[48]^=w,a[49]^=m,Vt=a[0],Jt=a[1],Er=a[11]<<4|a[10]>>>28,Ar=a[10]<<4|a[11]>>>28,ar=a[20]<<3|a[21]>>>29,cr=a[21]<<3|a[20]>>>29,Nr=a[31]<<9|a[30]>>>23,Rr=a[30]<<9|a[31]>>>23,mr=a[40]<<18|a[41]>>>14,_r=a[41]<<18|a[40]>>>14,pr=a[2]<<1|a[3]>>>31,dr=a[3]<<1|a[2]>>>31,Kt=a[13]<<12|a[12]>>>20,Qt=a[12]<<12|a[13]>>>20,Sr=a[22]<<10|a[23]>>>22,Cr=a[23]<<10|a[22]>>>22,ur=a[33]<<13|a[32]>>>19,lr=a[32]<<13|a[33]>>>19,jr=a[42]<<2|a[43]>>>30,Hr=a[43]<<2|a[42]>>>30,Mr=a[5]<<30|a[4]>>>2,Lr=a[4]<<30|a[5]>>>2,br=a[14]<<6|a[15]>>>26,xr=a[15]<<6|a[14]>>>26,Xt=a[25]<<11|a[24]>>>21,Zt=a[24]<<11|a[25]>>>21,Tr=a[34]<<15|a[35]>>>17,Fr=a[35]<<15|a[34]>>>17,fr=a[45]<<29|a[44]>>>3,hr=a[44]<<29|a[45]>>>3,nr=a[6]<<28|a[7]>>>4,ir=a[7]<<28|a[6]>>>4,Pr=a[17]<<23|a[16]>>>9,Dr=a[16]<<23|a[17]>>>9,gr=a[26]<<25|a[27]>>>7,yr=a[27]<<25|a[26]>>>7,Yt=a[36]<<21|a[37]>>>11,er=a[37]<<21|a[36]>>>11,Ir=a[47]<<24|a[46]>>>8,Or=a[46]<<24|a[47]>>>8,vr=a[8]<<27|a[9]>>>5,Br=a[9]<<27|a[8]>>>5,sr=a[18]<<20|a[19]>>>12,or=a[19]<<20|a[18]>>>12,qr=a[29]<<7|a[28]>>>25,Ur=a[28]<<7|a[29]>>>25,kr=a[38]<<8|a[39]>>>24,wr=a[39]<<8|a[38]>>>24,tr=a[48]<<14|a[49]>>>18,rr=a[49]<<14|a[48]>>>18,a[0]=Vt^~Kt&Xt,a[1]=Jt^~Qt&Zt,a[10]=nr^~sr&ar,a[11]=ir^~or&cr,a[20]=pr^~br&gr,a[21]=dr^~xr&yr,a[30]=vr^~Er&Sr,a[31]=Br^~Ar&Cr,a[40]=Mr^~Pr&qr,a[41]=Lr^~Dr&Ur,a[2]=Kt^~Xt&Yt,a[3]=Qt^~Zt&er,a[12]=sr^~ar&ur,a[13]=or^~cr&lr,a[22]=br^~gr&kr,a[23]=xr^~yr&wr,a[32]=Er^~Sr&Tr,a[33]=Ar^~Cr&Fr,a[42]=Pr^~qr&Nr,a[43]=Dr^~Ur&Rr,a[4]=Xt^~Yt&tr,a[5]=Zt^~er&rr,a[14]=ar^~ur&fr,a[15]=cr^~lr&hr,a[24]=gr^~kr&mr,a[25]=yr^~wr&_r,a[34]=Sr^~Tr&Ir,a[35]=Cr^~Fr&Or,a[44]=qr^~Nr&jr,a[45]=Ur^~Rr&Hr,a[6]=Yt^~tr&Vt,a[7]=er^~rr&Jt,a[16]=ur^~fr&nr,a[17]=lr^~hr&ir,a[26]=kr^~mr&pr,a[27]=wr^~_r&dr,a[36]=Tr^~Ir&vr,a[37]=Fr^~Or&Br,a[46]=Nr^~jr&Mr,a[47]=Rr^~Hr&Lr,a[8]=tr^~Vt&Kt,a[9]=rr^~Jt&Qt,a[18]=fr^~nr&sr,a[19]=hr^~ir&or,a[28]=mr^~pr&br,a[29]=_r^~dr&xr,a[38]=Ir^~vr&Er,a[39]=Or^~Br&Ar,a[48]=jr^~Mr&Pr,a[49]=Hr^~Lr&Dr,a[0]^=v[_],a[1]^=v[_+1]};if(o)sn.exports=Se;else{for(Le=0;Le<wt.length;++Le)n[wt[Le]]=Se[wt[Le]];u&&define(function(){return Se})}})()});var Ao=y((It,on)=>{h();(function(r,e){"use strict";var t={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function n(l){if(!Array.isArray(l)&&!ArrayBuffer.isView(l))return!1;for(var x=0;x<l.length;x++)if(!Number.isInteger(l[x])||l[x]<0||l[x]>255)return!1;return!0}function i(l,x){return(l&65535)*x+(((l>>>16)*x&65535)<<16)}function s(l,x){return l<<x|l>>>32-x}function o(l){return l^=l>>>16,l=i(l,2246822507),l^=l>>>13,l=i(l,3266489909),l^=l>>>16,l}function u(l,x){l=[l[0]>>>16,l[0]&65535,l[1]>>>16,l[1]&65535],x=[x[0]>>>16,x[0]&65535,x[1]>>>16,x[1]&65535];var v=[0,0,0,0];return v[3]+=l[3]+x[3],v[2]+=v[3]>>>16,v[3]&=65535,v[2]+=l[2]+x[2],v[1]+=v[2]>>>16,v[2]&=65535,v[1]+=l[1]+x[1],v[0]+=v[1]>>>16,v[1]&=65535,v[0]+=l[0]+x[0],v[0]&=65535,[v[0]<<16|v[1],v[2]<<16|v[3]]}function c(l,x){l=[l[0]>>>16,l[0]&65535,l[1]>>>16,l[1]&65535],x=[x[0]>>>16,x[0]&65535,x[1]>>>16,x[1]&65535];var v=[0,0,0,0];return v[3]+=l[3]*x[3],v[2]+=v[3]>>>16,v[3]&=65535,v[2]+=l[2]*x[3],v[1]+=v[2]>>>16,v[2]&=65535,v[2]+=l[3]*x[2],v[1]+=v[2]>>>16,v[2]&=65535,v[1]+=l[1]*x[3],v[0]+=v[1]>>>16,v[1]&=65535,v[1]+=l[2]*x[2],v[0]+=v[1]>>>16,v[1]&=65535,v[1]+=l[3]*x[1],v[0]+=v[1]>>>16,v[1]&=65535,v[0]+=l[0]*x[3]+l[1]*x[2]+l[2]*x[1]+l[3]*x[0],v[0]&=65535,[v[0]<<16|v[1],v[2]<<16|v[3]]}function f(l,x){return x%=64,x===32?[l[1],l[0]]:x<32?[l[0]<<x|l[1]>>>32-x,l[1]<<x|l[0]>>>32-x]:(x-=32,[l[1]<<x|l[0]>>>32-x,l[0]<<x|l[1]>>>32-x])}function p(l,x){return x%=64,x===0?l:x<32?[l[0]<<x|l[1]>>>32-x,l[1]<<x]:[l[1]<<x-32,0]}function d(l,x){return[l[0]^x[0],l[1]^x[1]]}function I(l){return l=d(l,[0,l[0]>>>1]),l=c(l,[4283543511,3981806797]),l=d(l,[0,l[0]>>>1]),l=c(l,[3301882366,444984403]),l=d(l,[0,l[0]>>>1]),l}t.x86.hash32=function(l,x){if(t.inputValidation&&!n(l))return e;x=x||0;for(var v=l.length%4,V=l.length-v,E=x,B=0,S=3432918353,C=461845907,M=0;M<V;M=M+4)B=l[M]|l[M+1]<<8|l[M+2]<<16|l[M+3]<<24,B=i(B,S),B=s(B,15),B=i(B,C),E^=B,E=s(E,13),E=i(E,5)+3864292196;switch(B=0,v){case 3:B^=l[M+2]<<16;case 2:B^=l[M+1]<<8;case 1:B^=l[M],B=i(B,S),B=s(B,15),B=i(B,C),E^=B}return E^=l.length,E=o(E),E>>>0},t.x86.hash128=function(l,x){if(t.inputValidation&&!n(l))return e;x=x||0;for(var v=l.length%16,V=l.length-v,E=x,B=x,S=x,C=x,M=0,q=0,A=0,W=0,ze=597399067,Ze=2869860233,Ye=951274213,et=2716044179,N=0;N<V;N=N+16)M=l[N]|l[N+1]<<8|l[N+2]<<16|l[N+3]<<24,q=l[N+4]|l[N+5]<<8|l[N+6]<<16|l[N+7]<<24,A=l[N+8]|l[N+9]<<8|l[N+10]<<16|l[N+11]<<24,W=l[N+12]|l[N+13]<<8|l[N+14]<<16|l[N+15]<<24,M=i(M,ze),M=s(M,15),M=i(M,Ze),E^=M,E=s(E,19),E+=B,E=i(E,5)+1444728091,q=i(q,Ze),q=s(q,16),q=i(q,Ye),B^=q,B=s(B,17),B+=S,B=i(B,5)+197830471,A=i(A,Ye),A=s(A,17),A=i(A,et),S^=A,S=s(S,15),S+=C,S=i(S,5)+2530024501,W=i(W,et),W=s(W,18),W=i(W,ze),C^=W,C=s(C,13),C+=E,C=i(C,5)+850148119;switch(M=0,q=0,A=0,W=0,v){case 15:W^=l[N+14]<<16;case 14:W^=l[N+13]<<8;case 13:W^=l[N+12],W=i(W,et),W=s(W,18),W=i(W,ze),C^=W;case 12:A^=l[N+11]<<24;case 11:A^=l[N+10]<<16;case 10:A^=l[N+9]<<8;case 9:A^=l[N+8],A=i(A,Ye),A=s(A,17),A=i(A,et),S^=A;case 8:q^=l[N+7]<<24;case 7:q^=l[N+6]<<16;case 6:q^=l[N+5]<<8;case 5:q^=l[N+4],q=i(q,Ze),q=s(q,16),q=i(q,Ye),B^=q;case 4:M^=l[N+3]<<24;case 3:M^=l[N+2]<<16;case 2:M^=l[N+1]<<8;case 1:M^=l[N],M=i(M,ze),M=s(M,15),M=i(M,Ze),E^=M}return E^=l.length,B^=l.length,S^=l.length,C^=l.length,E+=B,E+=S,E+=C,B+=E,S+=E,C+=E,E=o(E),B=o(B),S=o(S),C=o(C),E+=B,E+=S,E+=C,B+=E,S+=E,C+=E,("00000000"+(E>>>0).toString(16)).slice(-8)+("00000000"+(B>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)+("00000000"+(C>>>0).toString(16)).slice(-8)},t.x64.hash128=function(l,x){if(t.inputValidation&&!n(l))return e;x=x||0;for(var v=l.length%16,V=l.length-v,E=[0,x],B=[0,x],S=[0,0],C=[0,0],M=[2277735313,289559509],q=[1291169091,658871167],A=0;A<V;A=A+16)S=[l[A+4]|l[A+5]<<8|l[A+6]<<16|l[A+7]<<24,l[A]|l[A+1]<<8|l[A+2]<<16|l[A+3]<<24],C=[l[A+12]|l[A+13]<<8|l[A+14]<<16|l[A+15]<<24,l[A+8]|l[A+9]<<8|l[A+10]<<16|l[A+11]<<24],S=c(S,M),S=f(S,31),S=c(S,q),E=d(E,S),E=f(E,27),E=u(E,B),E=u(c(E,[0,5]),[0,1390208809]),C=c(C,q),C=f(C,33),C=c(C,M),B=d(B,C),B=f(B,31),B=u(B,E),B=u(c(B,[0,5]),[0,944331445]);switch(S=[0,0],C=[0,0],v){case 15:C=d(C,p([0,l[A+14]],48));case 14:C=d(C,p([0,l[A+13]],40));case 13:C=d(C,p([0,l[A+12]],32));case 12:C=d(C,p([0,l[A+11]],24));case 11:C=d(C,p([0,l[A+10]],16));case 10:C=d(C,p([0,l[A+9]],8));case 9:C=d(C,[0,l[A+8]]),C=c(C,q),C=f(C,33),C=c(C,M),B=d(B,C);case 8:S=d(S,p([0,l[A+7]],56));case 7:S=d(S,p([0,l[A+6]],48));case 6:S=d(S,p([0,l[A+5]],40));case 5:S=d(S,p([0,l[A+4]],32));case 4:S=d(S,p([0,l[A+3]],24));case 3:S=d(S,p([0,l[A+2]],16));case 2:S=d(S,p([0,l[A+1]],8));case 1:S=d(S,[0,l[A]]),S=c(S,M),S=f(S,31),S=c(S,q),E=d(E,S)}return E=d(E,[0,l.length]),B=d(B,[0,l.length]),E=u(E,B),B=u(B,E),E=I(E),B=I(B),E=u(E,B),B=u(B,E),("00000000"+(E[0]>>>0).toString(16)).slice(-8)+("00000000"+(E[1]>>>0).toString(16)).slice(-8)+("00000000"+(B[0]>>>0).toString(16)).slice(-8)+("00000000"+(B[1]>>>0).toString(16)).slice(-8)},typeof It!="undefined"?(typeof on!="undefined"&&on.exports&&(It=on.exports=t),It.murmurHash3=t):typeof define=="function"&&define.amd?define([],function(){return t}):(t._murmurHash3=r.murmurHash3,t.noConflict=function(){return r.murmurHash3=t._murmurHash3,t._murmurHash3=e,t.noConflict=e,t},r.murmurHash3=t)})(It)});var Co=y(($1,So)=>{h();So.exports=Ao()});var Fo=y((G1,To)=>{h();"use strict";var Qf=Tt(),ft=self.crypto||self.msCrypto,Xn=async(r,e)=>{if(typeof self=="undefined"||!ft)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await ft.subtle.digest({name:"SHA-1"},r));case"sha2-256":return new Uint8Array(await ft.subtle.digest({name:"SHA-256"},r));case"sha2-512":return new Uint8Array(await ft.subtle.digest({name:"SHA-512"},r));case"dbl-sha2-256":{let t=await ft.subtle.digest({name:"SHA-256"},r);return new Uint8Array(await ft.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${e} is not a supported algorithm`)}};To.exports={factory:r=>async e=>Xn(e,r),digest:Xn,multihashing:async(r,e,t)=>{let n=await Xn(r,e);return Qf.encode(n,e,t)}}});var Oo=y((V1,Io)=>{h();"use strict";var Xf=r=>{let e=new Uint8Array(4);for(let t=0;t<4;t++)e[t]=r&255,r=r>>8;return e};Io.exports={fromNumberTo32BitBuf:Xf}});var Zn=y((J1,Mo)=>{h();var Zf="Input must be an string, Buffer or Uint8Array";function Yf(r){var e;if(r instanceof Uint8Array)e=r;else if(r instanceof k.Buffer)e=new Uint8Array(r);else if(typeof r=="string")e=new Uint8Array(k.Buffer.from(r,"utf8"));else throw new Error(Zf);return e}function eh(r){return Array.prototype.map.call(r,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function an(r){return(4294967296+r).toString(16).substring(1)}function th(r,e,t){for(var n=`
`+r+" = ",i=0;i<e.length;i+=2){if(t===32)n+=an(e[i]).toUpperCase(),n+=" ",n+=an(e[i+1]).toUpperCase();else if(t===64)n+=an(e[i+1]).toUpperCase(),n+=an(e[i]).toUpperCase();else throw new Error("Invalid size "+t);i%6==4?n+=`
`+new Array(r.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function rh(r,e,t){for(var n=new Date().getTime(),i=new Uint8Array(e),s=0;s<e;s++)i[s]=s%256;var o=new Date().getTime();for(console.log("Generated random input in "+(o-n)+"ms"),n=o,s=0;s<t;s++){var u=r(i),c=new Date().getTime(),f=c-n;n=c,console.log("Hashed in "+f+"ms: "+u.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(f/1e3)*100)/100+" MB PER SECOND")}}Mo.exports={normalizeInput:Yf,toHex:eh,debugPrint:th,testSpeed:rh}});var Ho=y((K1,Lo)=>{h();var Po=Zn();function cn(r,e,t){var n=r[e]+r[t],i=r[e+1]+r[t+1];n>=4294967296&&i++,r[e]=n,r[e+1]=i}function Do(r,e,t,n){var i=r[e]+t;t<0&&(i+=4294967296);var s=r[e+1]+n;i>=4294967296&&s++,r[e]=i,r[e+1]=s}function nh(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function qe(r,e,t,n,i,s){var o=Ot[i],u=Ot[i+1],c=Ot[s],f=Ot[s+1];cn(U,r,e),Do(U,r,o,u);var p=U[n]^U[r],d=U[n+1]^U[r+1];U[n]=d,U[n+1]=p,cn(U,t,n),p=U[e]^U[t],d=U[e+1]^U[t+1],U[e]=p>>>24^d<<8,U[e+1]=d>>>24^p<<8,cn(U,r,e),Do(U,r,c,f),p=U[n]^U[r],d=U[n+1]^U[r+1],U[n]=p>>>16^d<<16,U[n+1]=d>>>16^p<<16,cn(U,t,n),p=U[e]^U[t],d=U[e+1]^U[t+1],U[e]=d>>>31^p<<1,U[e+1]=p>>>31^d<<1}var qo=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ih=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ie=new Uint8Array(ih.map(function(r){return r*2})),U=new Uint32Array(32),Ot=new Uint32Array(32);function Uo(r,e){var t=0;for(t=0;t<16;t++)U[t]=r.h[t],U[t+16]=qo[t];for(U[24]=U[24]^r.t,U[25]=U[25]^r.t/4294967296,e&&(U[28]=~U[28],U[29]=~U[29]),t=0;t<32;t++)Ot[t]=nh(r.b,4*t);for(t=0;t<12;t++)qe(0,8,16,24,ie[t*16+0],ie[t*16+1]),qe(2,10,18,26,ie[t*16+2],ie[t*16+3]),qe(4,12,20,28,ie[t*16+4],ie[t*16+5]),qe(6,14,22,30,ie[t*16+6],ie[t*16+7]),qe(0,10,20,30,ie[t*16+8],ie[t*16+9]),qe(2,12,22,24,ie[t*16+10],ie[t*16+11]),qe(4,14,16,26,ie[t*16+12],ie[t*16+13]),qe(6,8,18,28,ie[t*16+14],ie[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^U[t]^U[t+16]}function No(r,e){if(r===0||r>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:r},n=0;n<16;n++)t.h[n]=qo[n];var i=e?e.length:0;return t.h[0]^=16842752^i<<8^r,e&&(Yn(t,e),t.c=128),t}function Yn(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,Uo(r,!1),r.c=0),r.b[r.c++]=e[t]}function Ro(r){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;Uo(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function jo(r,e,t){t=t||64,r=Po.normalizeInput(r);var n=No(t,e);return Yn(n,r),Ro(n)}function sh(r,e,t){var n=jo(r,e,t);return Po.toHex(n)}Lo.exports={blake2b:jo,blake2bHex:sh,blake2bInit:No,blake2bUpdate:Yn,blake2bFinal:Ro}});var Qo=y((Q1,zo)=>{h();var Wo=Zn();function oh(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Ue(r,e,t,n,i,s){H[r]=H[r]+H[e]+i,H[n]=un(H[n]^H[r],16),H[t]=H[t]+H[n],H[e]=un(H[e]^H[t],12),H[r]=H[r]+H[e]+s,H[n]=un(H[n]^H[r],8),H[t]=H[t]+H[n],H[e]=un(H[e]^H[t],7)}function un(r,e){return r>>>e^r<<32-e}var $o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),se=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),H=new Uint32Array(16),ne=new Uint32Array(16);function Go(r,e){var t=0;for(t=0;t<8;t++)H[t]=r.h[t],H[t+8]=$o[t];for(H[12]^=r.t,H[13]^=r.t/4294967296,e&&(H[14]=~H[14]),t=0;t<16;t++)ne[t]=oh(r.b,4*t);for(t=0;t<10;t++)Ue(0,4,8,12,ne[se[t*16+0]],ne[se[t*16+1]]),Ue(1,5,9,13,ne[se[t*16+2]],ne[se[t*16+3]]),Ue(2,6,10,14,ne[se[t*16+4]],ne[se[t*16+5]]),Ue(3,7,11,15,ne[se[t*16+6]],ne[se[t*16+7]]),Ue(0,5,10,15,ne[se[t*16+8]],ne[se[t*16+9]]),Ue(1,6,11,12,ne[se[t*16+10]],ne[se[t*16+11]]),Ue(2,7,8,13,ne[se[t*16+12]],ne[se[t*16+13]]),Ue(3,4,9,14,ne[se[t*16+14]],ne[se[t*16+15]]);for(t=0;t<8;t++)r.h[t]^=H[t]^H[t+8]}function Vo(r,e){if(!(r>0&&r<=32))throw new Error("Incorrect output length, should be in [1, 32]");var t=e?e.length:0;if(e&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array($o),b:new Uint32Array(64),c:0,t:0,outlen:r};return n.h[0]^=16842752^t<<8^r,t>0&&(ei(n,e),n.c=64),n}function ei(r,e){for(var t=0;t<e.length;t++)r.c===64&&(r.t+=r.c,Go(r,!1),r.c=0),r.b[r.c++]=e[t]}function Jo(r){for(r.t+=r.c;r.c<64;)r.b[r.c++]=0;Go(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3)&255;return e}function Ko(r,e,t){t=t||32,r=Wo.normalizeInput(r);var n=Vo(t,e);return ei(n,r),Jo(n)}function ah(r,e,t){var n=Ko(r,e,t);return Wo.toHex(n)}zo.exports={blake2s:Ko,blake2sHex:ah,blake2sInit:Vo,blake2sUpdate:ei,blake2sFinal:Jo}});var Zo=y((X1,Xo)=>{h();var Mt=Ho(),Lt=Qo();Xo.exports={blake2b:Mt.blake2b,blake2bHex:Mt.blake2bHex,blake2bInit:Mt.blake2bInit,blake2bUpdate:Mt.blake2bUpdate,blake2bFinal:Mt.blake2bFinal,blake2s:Lt.blake2s,blake2sHex:Lt.blake2sHex,blake2sInit:Lt.blake2sInit,blake2sUpdate:Lt.blake2sUpdate,blake2sFinal:Lt.blake2sFinal}});var ta=y((Z1,Yo)=>{h();"use strict";var ht=Zo(),ch=45569,uh=45633,lh={init:ht.blake2bInit,update:ht.blake2bUpdate,digest:ht.blake2bFinal},fh={init:ht.blake2sInit,update:ht.blake2sUpdate,digest:ht.blake2sFinal},ea=(r,e)=>async t=>{let n=e.init(r,null);return e.update(n,t),e.digest(n)};Yo.exports=r=>{for(let e=0;e<64;e++)r[ch+e]=ea(e+1,lh);for(let e=0;e<32;e++)r[uh+e]=ea(e+1,fh)}});var ia=y((Y1,ra)=>{h();"use strict";var me=Eo(),na=Co(),{factory:ln}=Fo(),{fromNumberTo32BitBuf:hh}=Oo(),ph=Kr(),fe=r=>async e=>{switch(r){case"sha3-224":return new Uint8Array(me.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(me.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(me.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(me.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(me.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(me.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(me.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(me.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(me.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(me.keccak512.arrayBuffer(e));case"murmur3-128":return ph(na.x64.hash128(e),"base16");case"murmur3-32":return hh(na.x86.hash32(e));default:throw new TypeError(`${r} is not a supported algorithm`)}},dh=r=>r;ra.exports={identity:dh,sha1:ln("sha1"),sha2256:ln("sha2-256"),sha2512:ln("sha2-512"),dblSha2256:ln("dbl-sha2-256"),sha3224:fe("sha3-224"),sha3256:fe("sha3-256"),sha3384:fe("sha3-384"),sha3512:fe("sha3-512"),shake128:fe("shake-128"),shake256:fe("shake-256"),keccak224:fe("keccak-224"),keccak256:fe("keccak-256"),keccak384:fe("keccak-384"),keccak512:fe("keccak-512"),murmur3128:fe("murmur3-128"),murmur332:fe("murmur3-32"),addBlake:ta()}});var aa=y((ep,sa)=>{h();"use strict";var oa=Bo(),fn=Tt(),ee=ia(),bh=Ft();async function he(r,e,t){let n=await he.digest(r,e,t);return fn.encode(n,e,t)}he.multihash=fn;he.digest=async(r,e,t)=>{let i=await he.createHash(e)(r);return t?i.slice(0,t):i};he.createHash=function(r){if(!r)throw oa(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");let e=fn.coerceCode(r);if(!he.functions[e])throw oa(new Error(`multihash function '${r}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return he.functions[e]};he.functions={0:ee.identity,17:ee.sha1,18:ee.sha2256,19:ee.sha2512,20:ee.sha3512,21:ee.sha3384,22:ee.sha3256,23:ee.sha3224,24:ee.shake128,25:ee.shake256,26:ee.keccak224,27:ee.keccak256,28:ee.keccak384,29:ee.keccak512,34:ee.murmur3128,35:ee.murmur332,86:ee.dblSha2256};ee.addBlake(he.functions);he.validate=async(r,e)=>{let t=await he(r,fn.decode(e).name);return bh(e,t)};sa.exports=he});var ua=y((tp,ca)=>{h();var pt=1e3,dt=pt*60,bt=dt*60,Je=bt*24,xh=Je*7,gh=Je*365.25;ca.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return yh(r);if(t==="number"&&isFinite(r))return e.long?wh(r):kh(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function yh(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*gh;case"weeks":case"week":case"w":return t*xh;case"days":case"day":case"d":return t*Je;case"hours":case"hour":case"hrs":case"hr":case"h":return t*bt;case"minutes":case"minute":case"mins":case"min":case"m":return t*dt;case"seconds":case"second":case"secs":case"sec":case"s":return t*pt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function kh(r){var e=Math.abs(r);return e>=Je?Math.round(r/Je)+"d":e>=bt?Math.round(r/bt)+"h":e>=dt?Math.round(r/dt)+"m":e>=pt?Math.round(r/pt)+"s":r+"ms"}function wh(r){var e=Math.abs(r);return e>=Je?hn(r,e,Je,"day"):e>=bt?hn(r,e,bt,"hour"):e>=dt?hn(r,e,dt,"minute"):e>=pt?hn(r,e,pt,"second"):r+" ms"}function hn(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var fa=y((rp,la)=>{h();function mh(r){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=i,t.enabled=o,t.humanize=ua(),t.destroy=f,Object.keys(r).forEach(p=>{t[p]=r[p]}),t.names=[],t.skips=[],t.formatters={};function e(p){let d=0;for(let I=0;I<p.length;I++)d=(d<<5)-d+p.charCodeAt(I),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(p){let d,I=null;function l(...x){if(!l.enabled)return;let v=l,V=Number(new Date),E=V-(d||V);v.diff=E,v.prev=d,v.curr=V,d=V,x[0]=t.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let B=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(C,M)=>{if(C==="%%")return"%";B++;let q=t.formatters[M];if(typeof q=="function"){let A=x[B];C=q.call(v,A),x.splice(B,1),B--}return C}),t.formatArgs.call(v,x),(v.log||t.log).apply(v,x)}return l.namespace=p,l.useColors=t.useColors(),l.color=t.selectColor(p),l.extend=n,l.destroy=t.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>I===null?t.enabled(p):I,set:x=>{I=x}}),typeof t.init=="function"&&t.init(l),l}function n(p,d){let I=t(this.namespace+(typeof d=="undefined"?":":d)+p);return I.log=this.log,I}function i(p){t.save(p),t.names=[],t.skips=[];let d,I=(typeof p=="string"?p:"").split(/[\s,]+/),l=I.length;for(d=0;d<l;d++)!I[d]||(p=I[d].replace(/\*/g,".*?"),p[0]==="-"?t.skips.push(new RegExp("^"+p.substr(1)+"$")):t.names.push(new RegExp("^"+p+"$")))}function s(){let p=[...t.names.map(u),...t.skips.map(u).map(d=>"-"+d)].join(",");return t.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let d,I;for(d=0,I=t.skips.length;d<I;d++)if(t.skips[d].test(p))return!1;for(d=0,I=t.names.length;d<I;d++)if(t.names[d].test(p))return!0;return!1}function u(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function c(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}la.exports=mh});var ha=y((ue,pn)=>{h();ue.formatArgs=_h;ue.save=vh;ue.load=Bh;ue.useColors=Eh;ue.storage=Ah();ue.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ue.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Eh(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function _h(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+pn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}ue.log=console.debug||console.log||(()=>{});function vh(r){try{r?ue.storage.setItem("debug",r):ue.storage.removeItem("debug")}catch(e){}}function Bh(){let r;try{r=ue.storage.getItem("debug")}catch(e){}return!r&&typeof g.default!="undefined"&&"env"in g.default&&(r=g.default.env.DEBUG),r}function Ah(){try{return localStorage}catch(r){}}pn.exports=fa()(ue);var{formatters:Sh}=pn.exports;Sh.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Oe=y((np,pa)=>{h();"use strict";var da=ha(),Ch=Ft(),Th=(r,e)=>{let t=["bitswap"];return e&&t.push(e),r&&t.push(`${r.toB58String().slice(0,8)}`),Object.assign(da(t.join(":")),{error:da(t.concat(["error"]).join(":"))})},ti=(r,e,t)=>{let n=0,i=t.length;for(;n<i;){if(r(e,t[n]))return!0;n+=1}return!1},Fh=(r,e)=>{let t=0,n=e.length,i=[],s;for(;t<n;)s=e[t],ti(r,s,i)||(i[i.length]=s),t+=1;return i},Ih=(r,e)=>e.reduce((t,n)=>{let i=r(n);return t[i]?t[i].push(n):t[i]=[n],t},{}),Oh=(r,e,t)=>e.filter(n=>!ti(r,n,t)),Mh=(r,e)=>Array.prototype.slice.call(e,0).sort((t,n)=>{let i=r(t),s=r(n);return i<s?-1:i>s?1:0}),Lh=(r,e)=>{if(r.size!==e.size)return!1;for(let[t,n]of r){let i=e.get(t);if(i===void 0||typeof n.equals=="function"&&!n.equals(i)||n.data&&!(i.data&&Ch(n.data,i.data)))return!1}return!0};pa.exports={logger:Th,includesWith:ti,uniqWith:Fh,groupBy:Ih,pullAllWith:Oh,sortBy:Mh,isMapEqual:Lh}});var xa=y((ip,ba)=>{h();"use strict";ba.exports=Ph;function Ph(r,e){for(var t=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)t[n++]=arguments[i++];return new Promise(function(u,c){t[n]=function(p){if(s)if(s=!1,p)c(p);else{for(var d=new Array(arguments.length-1),I=0;I<d.length;)d[I++]=arguments[I];u.apply(null,d)}};try{r.apply(e||null,t)}catch(f){s&&(s=!1,c(f))}})}});var wa=y(ga=>{h();"use strict";var dn=ga;dn.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&e.charAt(t)==="=";)++n;return Math.ceil(e.length*3)/4-n};var xt=new Array(64),ya=new Array(123);for(var _e=0;_e<64;)ya[xt[_e]=_e<26?_e+65:_e<52?_e+71:_e<62?_e-4:_e-59|43]=_e++;dn.encode=function(e,t,n){for(var i=null,s=[],o=0,u=0,c;t<n;){var f=e[t++];switch(u){case 0:s[o++]=xt[f>>2],c=(f&3)<<4,u=1;break;case 1:s[o++]=xt[c|f>>4],c=(f&15)<<2,u=2;break;case 2:s[o++]=xt[c|f>>6],s[o++]=xt[f&63],u=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return u&&(s[o++]=xt[c],s[o++]=61,u===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var ka="invalid encoding";dn.decode=function(e,t,n){for(var i=n,s=0,o,u=0;u<e.length;){var c=e.charCodeAt(u++);if(c===61&&s>1)break;if((c=ya[c])===void 0)throw Error(ka);switch(s){case 0:o=c,s=1;break;case 1:t[n++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:t[n++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:t[n++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(ka);return n-i};dn.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var _a=y((op,ma)=>{h();"use strict";ma.exports=bn;function bn(){this._listeners={}}bn.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this};bn.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this};bn.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}});var Ta=y((ap,va)=>{h();"use strict";va.exports=Ba(Ba);function Ba(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function i(c,f,p){e[0]=c,f[p]=t[0],f[p+1]=t[1],f[p+2]=t[2],f[p+3]=t[3]}function s(c,f,p){e[0]=c,f[p]=t[3],f[p+1]=t[2],f[p+2]=t[1],f[p+3]=t[0]}r.writeFloatLE=n?i:s,r.writeFloatBE=n?s:i;function o(c,f){return t[0]=c[f],t[1]=c[f+1],t[2]=c[f+2],t[3]=c[f+3],e[0]}function u(c,f){return t[3]=c[f],t[2]=c[f+1],t[1]=c[f+2],t[0]=c[f+3],e[0]}r.readFloatLE=n?o:u,r.readFloatBE=n?u:o}():function(){function e(n,i,s,o){var u=i<0?1:0;if(u&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((u<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((u<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(i)/Math.LN2),f=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((u<<31|c+127<<23|f)>>>0,s,o)}}r.writeFloatLE=e.bind(null,Ea),r.writeFloatBE=e.bind(null,Aa);function t(n,i,s){var o=n(i,s),u=(o>>31)*2+1,c=o>>>23&255,f=o&8388607;return c===255?f?NaN:u*Infinity:c===0?u*1401298464324817e-60*f:u*Math.pow(2,c-150)*(f+8388608)}r.readFloatLE=t.bind(null,Sa),r.readFloatBE=t.bind(null,Ca)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function i(c,f,p){e[0]=c,f[p]=t[0],f[p+1]=t[1],f[p+2]=t[2],f[p+3]=t[3],f[p+4]=t[4],f[p+5]=t[5],f[p+6]=t[6],f[p+7]=t[7]}function s(c,f,p){e[0]=c,f[p]=t[7],f[p+1]=t[6],f[p+2]=t[5],f[p+3]=t[4],f[p+4]=t[3],f[p+5]=t[2],f[p+6]=t[1],f[p+7]=t[0]}r.writeDoubleLE=n?i:s,r.writeDoubleBE=n?s:i;function o(c,f){return t[0]=c[f],t[1]=c[f+1],t[2]=c[f+2],t[3]=c[f+3],t[4]=c[f+4],t[5]=c[f+5],t[6]=c[f+6],t[7]=c[f+7],e[0]}function u(c,f){return t[7]=c[f],t[6]=c[f+1],t[5]=c[f+2],t[4]=c[f+3],t[3]=c[f+4],t[2]=c[f+5],t[1]=c[f+6],t[0]=c[f+7],e[0]}r.readDoubleLE=n?o:u,r.readDoubleBE=n?u:o}():function(){function e(n,i,s,o,u,c){var f=o<0?1:0;if(f&&(o=-o),o===0)n(0,u,c+i),n(1/o>0?0:2147483648,u,c+s);else if(isNaN(o))n(0,u,c+i),n(2146959360,u,c+s);else if(o>17976931348623157e292)n(0,u,c+i),n((f<<31|2146435072)>>>0,u,c+s);else{var p;if(o<22250738585072014e-324)p=o/5e-324,n(p>>>0,u,c+i),n((f<<31|p/4294967296)>>>0,u,c+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),p=o*Math.pow(2,-d),n(p*4503599627370496>>>0,u,c+i),n((f<<31|d+1023<<20|p*1048576&1048575)>>>0,u,c+s)}}}r.writeDoubleLE=e.bind(null,Ea,0,4),r.writeDoubleBE=e.bind(null,Aa,4,0);function t(n,i,s,o,u){var c=n(o,u+i),f=n(o,u+s),p=(f>>31)*2+1,d=f>>>20&2047,I=4294967296*(f&1048575)+c;return d===2047?I?NaN:p*Infinity:d===0?p*5e-324*I:p*Math.pow(2,d-1075)*(I+4503599627370496)}r.readDoubleLE=t.bind(null,Sa,0,4),r.readDoubleBE=t.bind(null,Ca,4,0)}(),r}function Ea(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function Aa(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function Sa(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function Ca(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var Fa=y((exports,module)=>{h();"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var Oa=y(Ia=>{h();"use strict";var ri=Ia;ri.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,t+=4):t+=3;return t};ri.read=function(e,t,n){var i=n-t;if(i<1)return"";for(var s=null,o=[],u=0,c;t<n;)c=e[t++],c<128?o[u++]=c:c>191&&c<224?o[u++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[u++]=55296+(c>>10),o[u++]=56320+(c&1023)):o[u++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,u>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),u=0);return s?(u&&s.push(String.fromCharCode.apply(String,o.slice(0,u))),s.join("")):String.fromCharCode.apply(String,o.slice(0,u))};ri.write=function(e,t,n){for(var i=n,s,o,u=0;u<e.length;++u)s=e.charCodeAt(u),s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(u+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++u,t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128);return n-i}});var La=y((up,Ma)=>{h();"use strict";Ma.exports=Dh;function Dh(r,e,t){var n=t||8192,i=n>>>1,s=null,o=n;return function(c){if(c<1||c>i)return r(c);o+c>n&&(s=r(n),o=0);var f=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),f}}});var Da=y((lp,Pa)=>{h();"use strict";Pa.exports=te;var Pt=Ne();function te(r,e){this.lo=r>>>0,this.hi=e>>>0}var Ke=te.zero=new te(0,0);Ke.toNumber=function(){return 0};Ke.zzEncode=Ke.zzDecode=function(){return this};Ke.length=function(){return 1};var qh=te.zeroHash="\0\0\0\0\0\0\0\0";te.fromNumber=function(e){if(e===0)return Ke;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new te(n,i)};te.from=function(e){if(typeof e=="number")return te.fromNumber(e);if(Pt.isString(e))if(Pt.Long)e=Pt.Long.fromString(e);else return te.fromNumber(parseInt(e,10));return e.low||e.high?new te(e.low>>>0,e.high>>>0):Ke};te.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};te.prototype.toLong=function(e){return Pt.Long?new Pt.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Re=String.prototype.charCodeAt;te.fromHash=function(e){return e===qh?Ke:new te((Re.call(e,0)|Re.call(e,1)<<8|Re.call(e,2)<<16|Re.call(e,3)<<24)>>>0,(Re.call(e,4)|Re.call(e,5)<<8|Re.call(e,6)<<16|Re.call(e,7)<<24)>>>0)};te.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};te.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};te.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};te.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}});var Ne=y(ni=>{h();"use strict";var F=ni;F.asPromise=xa();F.base64=wa();F.EventEmitter=_a();F.float=Ta();F.inquire=Fa();F.utf8=Oa();F.pool=La();F.LongBits=Da();F.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);F.global=F.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||ni;F.emptyArray=Object.freeze?Object.freeze([]):[];F.emptyObject=Object.freeze?Object.freeze({}):{};F.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};F.isString=function(e){return typeof e=="string"||e instanceof String};F.isObject=function(e){return e&&typeof e=="object"};F.isset=F.isSet=function(e,t){var n=e[t];return n!=null&&e.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};F.Buffer=function(){try{var r=F.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(e){return null}}();F._Buffer_from=null;F._Buffer_allocUnsafe=null;F.newBuffer=function(e){return typeof e=="number"?F.Buffer?F._Buffer_allocUnsafe(e):new F.Array(e):F.Buffer?F._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};F.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;F.Long=F.global.dcodeIO&&F.global.dcodeIO.Long||F.global.Long||F.inquire("long");F.key2Re=/^true|false|0|1$/;F.key32Re=/^-?(?:0|[1-9][0-9]*)$/;F.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;F.longToHash=function(e){return e?F.LongBits.from(e).toHash():F.LongBits.zeroHash};F.longFromHash=function(e,t){var n=F.LongBits.fromHash(e);return F.Long?F.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};function qa(r,e,t){for(var n=Object.keys(e),i=0;i<n.length;++i)(r[n[i]]===void 0||!t)&&(r[n[i]]=e[n[i]]);return r}F.merge=qa;F.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Ua(r){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&qa(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}F.newError=Ua;F.ProtocolError=Ua("ProtocolError");F.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};F.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}};F.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};F._configure=function(){var r=F.Buffer;if(!r){F._Buffer_from=F._Buffer_allocUnsafe=null;return}F._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,n){return new r(t,n)},F._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var li=y((hp,Na)=>{h();"use strict";Na.exports=j;var pe=Ne(),ii,xn=pe.LongBits,Ra=pe.base64,ja=pe.utf8;function Dt(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function si(){}function Uh(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function j(){this.len=0,this.head=new Dt(si,0,0),this.tail=this.head,this.states=null}var Ha=function(){return pe.Buffer?function(){return(j.create=function(){return new ii})()}:function(){return new j}};j.create=Ha();j.alloc=function(e){return new pe.Array(e)};pe.Array!==Array&&(j.alloc=pe.pool(j.alloc,pe.Array.prototype.subarray));j.prototype._push=function(e,t,n){return this.tail=this.tail.next=new Dt(e,t,n),this.len+=t,this};function oi(r,e,t){e[t]=r&255}function Nh(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function ai(r,e){this.len=r,this.next=void 0,this.val=e}ai.prototype=Object.create(Dt.prototype);ai.prototype.fn=Nh;j.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new ai((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};j.prototype.int32=function(e){return e<0?this._push(ci,10,xn.fromNumber(e)):this.uint32(e)};j.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function ci(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}j.prototype.uint64=function(e){var t=xn.from(e);return this._push(ci,t.length(),t)};j.prototype.int64=j.prototype.uint64;j.prototype.sint64=function(e){var t=xn.from(e).zzEncode();return this._push(ci,t.length(),t)};j.prototype.bool=function(e){return this._push(oi,1,e?1:0)};function ui(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}j.prototype.fixed32=function(e){return this._push(ui,4,e>>>0)};j.prototype.sfixed32=j.prototype.fixed32;j.prototype.fixed64=function(e){var t=xn.from(e);return this._push(ui,4,t.lo)._push(ui,4,t.hi)};j.prototype.sfixed64=j.prototype.fixed64;j.prototype.float=function(e){return this._push(pe.float.writeFloatLE,4,e)};j.prototype.double=function(e){return this._push(pe.float.writeDoubleLE,8,e)};var Rh=pe.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};j.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(oi,1,0);if(pe.isString(e)){var n=j.alloc(t=Ra.length(e));Ra.decode(e,n,0),e=n}return this.uint32(t)._push(Rh,t,e)};j.prototype.string=function(e){var t=ja.length(e);return t?this.uint32(t)._push(ja.write,t,e):this._push(oi,1,0)};j.prototype.fork=function(){return this.states=new Uh(this),this.head=this.tail=new Dt(si,0,0),this.len=0,this};j.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Dt(si,0,0),this.len=0),this};j.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this};j.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t};j._configure=function(r){ii=r,j.create=Ha(),ii._configure()}});var $a=y((pp,za)=>{h();"use strict";za.exports=ve;var Wa=li();(ve.prototype=Object.create(Wa.prototype)).constructor=ve;var je=Ne();function ve(){Wa.call(this)}ve._configure=function(){ve.alloc=je._Buffer_allocUnsafe,ve.writeBytesBuffer=je.Buffer&&je.Buffer.prototype instanceof Uint8Array&&je.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}};ve.prototype.bytes=function(e){je.isString(e)&&(e=je._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(ve.writeBytesBuffer,t,e),this};function jh(r,e,t){r.length<40?je.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}ve.prototype.string=function(e){var t=je.Buffer.byteLength(e);return this.uint32(t),t&&this._push(jh,t,e),this};ve._configure()});var pi=y((dp,Ga)=>{h();"use strict";Ga.exports=Q;var Be=Ne(),fi,Va=Be.LongBits,Hh=Be.utf8;function be(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Q(r){this.buf=r,this.pos=0,this.len=r.length}var Ja=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Q(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Q(e);throw Error("illegal buffer")},Ka=function(){return Be.Buffer?function(t){return(Q.create=function(i){return Be.Buffer.isBuffer(i)?new fi(i):Ja(i)})(t)}:Ja};Q.create=Ka();Q.prototype._slice=Be.Array.prototype.subarray||Be.Array.prototype.slice;Q.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,be(this,10);return e}}();Q.prototype.int32=function(){return this.uint32()|0};Q.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function hi(){var r=new Va(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw be(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw be(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Q.prototype.bool=function(){return this.uint32()!==0};function gn(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Q.prototype.fixed32=function(){if(this.pos+4>this.len)throw be(this,4);return gn(this.buf,this.pos+=4)};Q.prototype.sfixed32=function(){if(this.pos+4>this.len)throw be(this,4);return gn(this.buf,this.pos+=4)|0};function Qa(){if(this.pos+8>this.len)throw be(this,8);return new Va(gn(this.buf,this.pos+=4),gn(this.buf,this.pos+=4))}Q.prototype.float=function(){if(this.pos+4>this.len)throw be(this,4);var e=Be.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Q.prototype.double=function(){if(this.pos+8>this.len)throw be(this,4);var e=Be.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Q.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw be(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};Q.prototype.string=function(){var e=this.bytes();return Hh.read(e,0,e.length)};Q.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw be(this,e);this.pos+=e}else do if(this.pos>=this.len)throw be(this);while(this.buf[this.pos++]&128);return this};Q.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Q._configure=function(r){fi=r,Q.create=Ka(),fi._configure();var e=Be.Long?"toLong":"toNumber";Be.merge(Q.prototype,{int64:function(){return hi.call(this)[e](!1)},uint64:function(){return hi.call(this)[e](!0)},sint64:function(){return hi.call(this).zzDecode()[e](!1)},fixed64:function(){return Qa.call(this)[e](!0)},sfixed64:function(){return Qa.call(this)[e](!1)}})}});var ec=y((bp,Xa)=>{h();"use strict";Xa.exports=Qe;var Za=pi();(Qe.prototype=Object.create(Za.prototype)).constructor=Qe;var Ya=Ne();function Qe(r){Za.call(this,r)}Qe._configure=function(){Ya.Buffer&&(Qe.prototype._slice=Ya.Buffer.prototype.slice)};Qe.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Qe._configure()});var rc=y((xp,tc)=>{h();"use strict";tc.exports=qt;var di=Ne();(qt.prototype=Object.create(di.EventEmitter.prototype)).constructor=qt;function qt(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");di.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}qt.prototype.rpcCall=function r(e,t,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return di.asPromise(r,o,e,t,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,f){if(c)return o.emit("error",c,e),s(c);if(f===null){o.end(!0);return}if(!(f instanceof n))try{f=n[o.responseDelimited?"decodeDelimited":"decode"](f)}catch(p){return o.emit("error",p,e),s(p)}return o.emit("data",f,e),s(null,f)})}catch(u){o.emit("error",u,e),setTimeout(function(){s(u)},0);return}};qt.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var ic=y(nc=>{h();"use strict";var zh=nc;zh.Service=rc()});var oc=y((yp,sc)=>{h();"use strict";sc.exports={}});var uc=y(ac=>{h();"use strict";var ce=ac;ce.build="minimal";ce.Writer=li();ce.BufferWriter=$a();ce.Reader=pi();ce.BufferReader=ec();ce.util=Ne();ce.rpc=ic();ce.roots=oc();ce.configure=cc;function cc(){ce.util._configure(),ce.Writer._configure(ce.BufferWriter),ce.Reader._configure(ce.BufferReader)}cc()});var fc=y((wp,lc)=>{h();"use strict";lc.exports=uc()});var pc=y((mp,hc)=>{h();"use strict";var Ee=fc(),Ae=Ee.Reader,Ut=Ee.Writer,z=Ee.util,R=Ee.roots["ipfs-bitswap"]||(Ee.roots["ipfs-bitswap"]={});R.Message=function(){function r(e){if(this.blocks=[],this.payload=[],this.blockPresences=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.wantlist=null,r.prototype.blocks=z.emptyArray,r.prototype.payload=z.emptyArray,r.prototype.blockPresences=z.emptyArray,r.prototype.pendingBytes=0,r.encode=function(t,n){if(n||(n=Ut.create()),t.wantlist!=null&&Object.hasOwnProperty.call(t,"wantlist")&&R.Message.Wantlist.encode(t.wantlist,n.uint32(10).fork()).ldelim(),t.blocks!=null&&t.blocks.length)for(var i=0;i<t.blocks.length;++i)n.uint32(18).bytes(t.blocks[i]);if(t.payload!=null&&t.payload.length)for(var i=0;i<t.payload.length;++i)R.Message.Block.encode(t.payload[i],n.uint32(26).fork()).ldelim();if(t.blockPresences!=null&&t.blockPresences.length)for(var i=0;i<t.blockPresences.length;++i)R.Message.BlockPresence.encode(t.blockPresences[i],n.uint32(34).fork()).ldelim();return t.pendingBytes!=null&&Object.hasOwnProperty.call(t,"pendingBytes")&&n.uint32(40).int32(t.pendingBytes),n},r.decode=function(t,n){t instanceof Ae||(t=Ae.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new R.Message;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.wantlist=R.Message.Wantlist.decode(t,t.uint32());break;case 2:s.blocks&&s.blocks.length||(s.blocks=[]),s.blocks.push(t.bytes());break;case 3:s.payload&&s.payload.length||(s.payload=[]),s.payload.push(R.Message.Block.decode(t,t.uint32()));break;case 4:s.blockPresences&&s.blockPresences.length||(s.blockPresences=[]),s.blockPresences.push(R.Message.BlockPresence.decode(t,t.uint32()));break;case 5:s.pendingBytes=t.int32();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof R.Message)return t;var n=new R.Message;if(t.wantlist!=null){if(typeof t.wantlist!="object")throw TypeError(".Message.wantlist: object expected");n.wantlist=R.Message.Wantlist.fromObject(t.wantlist)}if(t.blocks){if(!Array.isArray(t.blocks))throw TypeError(".Message.blocks: array expected");n.blocks=[];for(var i=0;i<t.blocks.length;++i)typeof t.blocks[i]=="string"?z.base64.decode(t.blocks[i],n.blocks[i]=z.newBuffer(z.base64.length(t.blocks[i])),0):t.blocks[i].length&&(n.blocks[i]=t.blocks[i])}if(t.payload){if(!Array.isArray(t.payload))throw TypeError(".Message.payload: array expected");n.payload=[];for(var i=0;i<t.payload.length;++i){if(typeof t.payload[i]!="object")throw TypeError(".Message.payload: object expected");n.payload[i]=R.Message.Block.fromObject(t.payload[i])}}if(t.blockPresences){if(!Array.isArray(t.blockPresences))throw TypeError(".Message.blockPresences: array expected");n.blockPresences=[];for(var i=0;i<t.blockPresences.length;++i){if(typeof t.blockPresences[i]!="object")throw TypeError(".Message.blockPresences: object expected");n.blockPresences[i]=R.Message.BlockPresence.fromObject(t.blockPresences[i])}}return t.pendingBytes!=null&&(n.pendingBytes=t.pendingBytes|0),n},r.toObject=function(t,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocks=[],i.payload=[],i.blockPresences=[]),n.defaults&&(i.wantlist=null,i.pendingBytes=0),t.wantlist!=null&&t.hasOwnProperty("wantlist")&&(i.wantlist=R.Message.Wantlist.toObject(t.wantlist,n)),t.blocks&&t.blocks.length){i.blocks=[];for(var s=0;s<t.blocks.length;++s)i.blocks[s]=n.bytes===String?z.base64.encode(t.blocks[s],0,t.blocks[s].length):n.bytes===Array?Array.prototype.slice.call(t.blocks[s]):t.blocks[s]}if(t.payload&&t.payload.length){i.payload=[];for(var s=0;s<t.payload.length;++s)i.payload[s]=R.Message.Block.toObject(t.payload[s],n)}if(t.blockPresences&&t.blockPresences.length){i.blockPresences=[];for(var s=0;s<t.blockPresences.length;++s)i.blockPresences[s]=R.Message.BlockPresence.toObject(t.blockPresences[s],n)}return t.pendingBytes!=null&&t.hasOwnProperty("pendingBytes")&&(i.pendingBytes=t.pendingBytes),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,Ee.util.toJSONOptions)},r.Wantlist=function(){function e(t){if(this.entries=[],t)for(var n=Object.keys(t),i=0;i<n.length;++i)t[n[i]]!=null&&(this[n[i]]=t[n[i]])}return e.prototype.entries=z.emptyArray,e.prototype.full=!1,e.encode=function(n,i){if(i||(i=Ut.create()),n.entries!=null&&n.entries.length)for(var s=0;s<n.entries.length;++s)R.Message.Wantlist.Entry.encode(n.entries[s],i.uint32(10).fork()).ldelim();return n.full!=null&&Object.hasOwnProperty.call(n,"full")&&i.uint32(16).bool(n.full),i},e.decode=function(n,i){n instanceof Ae||(n=Ae.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new R.Message.Wantlist;n.pos<s;){var u=n.uint32();switch(u>>>3){case 1:o.entries&&o.entries.length||(o.entries=[]),o.entries.push(R.Message.Wantlist.Entry.decode(n,n.uint32()));break;case 2:o.full=n.bool();break;default:n.skipType(u&7);break}}return o},e.fromObject=function(n){if(n instanceof R.Message.Wantlist)return n;var i=new R.Message.Wantlist;if(n.entries){if(!Array.isArray(n.entries))throw TypeError(".Message.Wantlist.entries: array expected");i.entries=[];for(var s=0;s<n.entries.length;++s){if(typeof n.entries[s]!="object")throw TypeError(".Message.Wantlist.entries: object expected");i.entries[s]=R.Message.Wantlist.Entry.fromObject(n.entries[s])}}return n.full!=null&&(i.full=Boolean(n.full)),i},e.toObject=function(n,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.entries=[]),i.defaults&&(s.full=!1),n.entries&&n.entries.length){s.entries=[];for(var o=0;o<n.entries.length;++o)s.entries[o]=R.Message.Wantlist.Entry.toObject(n.entries[o],i)}return n.full!=null&&n.hasOwnProperty("full")&&(s.full=n.full),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ee.util.toJSONOptions)},e.WantType=function(){var t={},n=Object.create(t);return n[t[0]="Block"]=0,n[t[1]="Have"]=1,n}(),e.Entry=function(){function t(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return t.prototype.block=z.newBuffer([]),t.prototype.priority=0,t.prototype.cancel=!1,t.prototype.wantType=0,t.prototype.sendDontHave=!1,t.encode=function(i,s){return s||(s=Ut.create()),i.block!=null&&Object.hasOwnProperty.call(i,"block")&&s.uint32(10).bytes(i.block),i.priority!=null&&Object.hasOwnProperty.call(i,"priority")&&s.uint32(16).int32(i.priority),i.cancel!=null&&Object.hasOwnProperty.call(i,"cancel")&&s.uint32(24).bool(i.cancel),i.wantType!=null&&Object.hasOwnProperty.call(i,"wantType")&&s.uint32(32).int32(i.wantType),i.sendDontHave!=null&&Object.hasOwnProperty.call(i,"sendDontHave")&&s.uint32(40).bool(i.sendDontHave),s},t.decode=function(i,s){i instanceof Ae||(i=Ae.create(i));for(var o=s===void 0?i.len:i.pos+s,u=new R.Message.Wantlist.Entry;i.pos<o;){var c=i.uint32();switch(c>>>3){case 1:u.block=i.bytes();break;case 2:u.priority=i.int32();break;case 3:u.cancel=i.bool();break;case 4:u.wantType=i.int32();break;case 5:u.sendDontHave=i.bool();break;default:i.skipType(c&7);break}}return u},t.fromObject=function(i){if(i instanceof R.Message.Wantlist.Entry)return i;var s=new R.Message.Wantlist.Entry;switch(i.block!=null&&(typeof i.block=="string"?z.base64.decode(i.block,s.block=z.newBuffer(z.base64.length(i.block)),0):i.block.length&&(s.block=i.block)),i.priority!=null&&(s.priority=i.priority|0),i.cancel!=null&&(s.cancel=Boolean(i.cancel)),i.wantType){case"Block":case 0:s.wantType=0;break;case"Have":case 1:s.wantType=1;break}return i.sendDontHave!=null&&(s.sendDontHave=Boolean(i.sendDontHave)),s},t.toObject=function(i,s){s||(s={});var o={};return s.defaults&&(s.bytes===String?o.block="":(o.block=[],s.bytes!==Array&&(o.block=z.newBuffer(o.block))),o.priority=0,o.cancel=!1,o.wantType=s.enums===String?"Block":0,o.sendDontHave=!1),i.block!=null&&i.hasOwnProperty("block")&&(o.block=s.bytes===String?z.base64.encode(i.block,0,i.block.length):s.bytes===Array?Array.prototype.slice.call(i.block):i.block),i.priority!=null&&i.hasOwnProperty("priority")&&(o.priority=i.priority),i.cancel!=null&&i.hasOwnProperty("cancel")&&(o.cancel=i.cancel),i.wantType!=null&&i.hasOwnProperty("wantType")&&(o.wantType=s.enums===String?R.Message.Wantlist.WantType[i.wantType]:i.wantType),i.sendDontHave!=null&&i.hasOwnProperty("sendDontHave")&&(o.sendDontHave=i.sendDontHave),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ee.util.toJSONOptions)},t}(),e}(),r.Block=function(){function e(t){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)t[n[i]]!=null&&(this[n[i]]=t[n[i]])}return e.prototype.prefix=z.newBuffer([]),e.prototype.data=z.newBuffer([]),e.encode=function(n,i){return i||(i=Ut.create()),n.prefix!=null&&Object.hasOwnProperty.call(n,"prefix")&&i.uint32(10).bytes(n.prefix),n.data!=null&&Object.hasOwnProperty.call(n,"data")&&i.uint32(18).bytes(n.data),i},e.decode=function(n,i){n instanceof Ae||(n=Ae.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new R.Message.Block;n.pos<s;){var u=n.uint32();switch(u>>>3){case 1:o.prefix=n.bytes();break;case 2:o.data=n.bytes();break;default:n.skipType(u&7);break}}return o},e.fromObject=function(n){if(n instanceof R.Message.Block)return n;var i=new R.Message.Block;return n.prefix!=null&&(typeof n.prefix=="string"?z.base64.decode(n.prefix,i.prefix=z.newBuffer(z.base64.length(n.prefix)),0):n.prefix.length&&(i.prefix=n.prefix)),n.data!=null&&(typeof n.data=="string"?z.base64.decode(n.data,i.data=z.newBuffer(z.base64.length(n.data)),0):n.data.length&&(i.data=n.data)),i},e.toObject=function(n,i){i||(i={});var s={};return i.defaults&&(i.bytes===String?s.prefix="":(s.prefix=[],i.bytes!==Array&&(s.prefix=z.newBuffer(s.prefix))),i.bytes===String?s.data="":(s.data=[],i.bytes!==Array&&(s.data=z.newBuffer(s.data)))),n.prefix!=null&&n.hasOwnProperty("prefix")&&(s.prefix=i.bytes===String?z.base64.encode(n.prefix,0,n.prefix.length):i.bytes===Array?Array.prototype.slice.call(n.prefix):n.prefix),n.data!=null&&n.hasOwnProperty("data")&&(s.data=i.bytes===String?z.base64.encode(n.data,0,n.data.length):i.bytes===Array?Array.prototype.slice.call(n.data):n.data),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ee.util.toJSONOptions)},e}(),r.BlockPresenceType=function(){var e={},t=Object.create(e);return t[e[0]="Have"]=0,t[e[1]="DontHave"]=1,t}(),r.BlockPresence=function(){function e(t){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)t[n[i]]!=null&&(this[n[i]]=t[n[i]])}return e.prototype.cid=z.newBuffer([]),e.prototype.type=0,e.encode=function(n,i){return i||(i=Ut.create()),n.cid!=null&&Object.hasOwnProperty.call(n,"cid")&&i.uint32(10).bytes(n.cid),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&i.uint32(16).int32(n.type),i},e.decode=function(n,i){n instanceof Ae||(n=Ae.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new R.Message.BlockPresence;n.pos<s;){var u=n.uint32();switch(u>>>3){case 1:o.cid=n.bytes();break;case 2:o.type=n.int32();break;default:n.skipType(u&7);break}}return o},e.fromObject=function(n){if(n instanceof R.Message.BlockPresence)return n;var i=new R.Message.BlockPresence;switch(n.cid!=null&&(typeof n.cid=="string"?z.base64.decode(n.cid,i.cid=z.newBuffer(z.base64.length(n.cid)),0):n.cid.length&&(i.cid=n.cid)),n.type){case"Have":case 0:i.type=0;break;case"DontHave":case 1:i.type=1;break}return i},e.toObject=function(n,i){i||(i={});var s={};return i.defaults&&(i.bytes===String?s.cid="":(s.cid=[],i.bytes!==Array&&(s.cid=z.newBuffer(s.cid))),s.type=i.enums===String?"Have":0),n.cid!=null&&n.hasOwnProperty("cid")&&(s.cid=i.bytes===String?z.base64.encode(n.cid,0,n.cid.length):i.bytes===Array?Array.prototype.slice.call(n.cid):n.cid),n.type!=null&&n.hasOwnProperty("type")&&(s.type=i.enums===String?R.Message.BlockPresenceType[n.type]:n.type),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ee.util.toJSONOptions)},e}(),r}();hc.exports=R});var xc=y((_p,dc)=>{h();"use strict";var bc=class{constructor(e,t,n){this._refCounter=1,this.cid=e,this.priority=t||1,this.wantType=n}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toString("base58btc")}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority&&this.wantType===e.wantType}};dc.exports=bc});var Nt=y((vp,gc)=>{h();"use strict";var{sortBy:Wh}=Oe(),yc=xc(),bi=class{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t,n){let i=gt(),s=e.toString("base58btc"),o=this.set.get(s);o?(o.inc(),o.priority=t,o.wantType===i.WantType.Have&&n===i.WantType.Block&&(o.wantType=n)):(this.set.set(s,new yc(e,t,n)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){let t=e.toString("base58btc"),n=this.set.get(t);!n||(n.dec(),!n.hasRefs()&&(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map(Wh(e=>e[1].key,Array.from(this.set.entries())))}contains(e){let t=e.toString("base58btc");return this.set.get(t)}};bi.Entry=yc;gc.exports=bi});var wc=y((Ep,kc)=>{h();"use strict";var $h=Nt().Entry;kc.exports=class{constructor(e,t,n,i,s){this.entry=new $h(e,t,n),this.cancel=Boolean(i),this.sendDontHave=Boolean(s)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get wantType(){return this.entry.wantType}set wantType(e){this.entry.wantType=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toString("base58btc")} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.sendDontHave===e.sendDontHave&&this.wantType===e.wantType&&this.entry.equals(e.entry)}}});var gt=y((Ap,mc)=>{h();"use strict";var _c=Qn(),Rt=nn(),{getName:Gh}=Jn(),Vh=mo(),vc=aa(),{isMapEqual:xi}=Oe(),{Message:Me}=pc(),Bc=wc(),oe=class{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return this.blocks.size===0&&this.wantlist.size===0&&this.blockPresences.size===0}addEntry(e,t,n,i,s){n==null&&(n=oe.WantType.Block);let o=e.toString("base58btc"),u=this.wantlist.get(o);u?(u.wantType===n&&(u.priority=t),i&&(u.cancel=Boolean(i)),s&&(u.sendDontHave=Boolean(s)),n===oe.WantType.Block&&u.wantType===oe.WantType.Have&&(u.wantType=n)):this.wantlist.set(o,new Bc(e,t,n,i,s))}addBlock(e){let t=e.cid.toString("base58btc");this.blocks.set(t,e)}addHave(e){let t=e.toString("base58btc");this.blockPresences.has(t)||this.blockPresences.set(t,oe.BlockPresenceType.Have)}addDontHave(e){let t=e.toString("base58btc");this.blockPresences.has(t)||this.blockPresences.set(t,oe.BlockPresenceType.DontHave)}cancel(e){let t=e.toString("base58btc");this.wantlist.delete(t),this.addEntry(e,0,oe.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){let e={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.bytes,priority:Number(t.priority),cancel:Boolean(t.cancel)})),full:this.full?!0:void 0},blocks:Array.from(this.blocks.values()).map(t=>t.data)};return Me.encode(e).finish()}serializeToBitswap110(){let e={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.bytes,priority:Number(t.priority),wantType:t.wantType,cancel:Boolean(t.cancel),sendDontHave:Boolean(t.sendDontHave)})),full:this.full?!0:void 0},blockPresences:[],payload:[],pendingBytes:this.pendingBytes};this.blocks.forEach(t=>{e.payload.push(new Me.Block({prefix:t.cid.prefix,data:t.data}))});for(let[t,n]of this.blockPresences)e.blockPresences.push(new Me.BlockPresence({cid:new Rt(t).bytes,type:n}));return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),Me.encode(e).finish()}equals(e){return!(this.full!==e.full||this.pendingBytes!==e.pendingBytes||!xi(this.wantlist,e.wantlist)||!xi(this.blocks,e.blocks)||!xi(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){let e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}};oe.deserialize=async r=>{let e=Me.decode(r),t=e.wantlist&&e.wantlist.full||!1,n=new oe(t);return e.wantlist&&e.wantlist.entries&&e.wantlist.entries.forEach(i=>{if(!i.block)return;let s=new Rt(i.block);n.addEntry(s,i.priority||0,i.wantType,Boolean(i.cancel),Boolean(i.sendDontHave))}),e.blockPresences&&e.blockPresences.forEach(i=>{if(!i.cid)return;let s=new Rt(i.cid);i.type===oe.BlockPresenceType.Have?n.addHave(s):n.addDontHave(s)}),e.blocks.length>0?(await Promise.all(e.blocks.map(async i=>{let s=await vc(i,"sha2-256"),o=new Rt(s);n.addBlock(new _c(i,o))})),n):(e.payload.length>0&&(await Promise.all(e.payload.map(async i=>{if(!i.prefix||!i.data)return;let s=Vh(i.prefix),o=s[0],u=s[1],c=s[2],f=await vc(i.data,c),p=new Rt(o,Gh(u),f);n.addBlock(new _c(i.data,p))})),n.setPendingBytes(e.pendingBytes)),n)};oe.blockPresenceSize=r=>r.bytes.length+1;oe.Entry=Bc;oe.WantType={Block:Me.Wantlist.WantType.Block,Have:Me.Wantlist.WantType.Have};oe.BlockPresenceType={Have:Me.BlockPresenceType.Have,DontHave:Me.BlockPresenceType.DontHave};mc.exports=oe});var jt=y((Sp,Ec)=>{h();"use strict";var gi=1e3;Ec.exports={maxProvidersPerRequest:3,providerRequestTimeout:10*gi,hasBlockTimeout:15*gi,provideTimeout:15*gi,kMaxPriority:Math.pow(2,31)-1,maxListeners:1e3,wantlistSendDebounceMs:1}});var Sc=y((Cp,Ac)=>{h();Ac.exports=Jh;function Jh(r,e,t){var n=null,i=null,s=function(){n&&(clearTimeout(n),i=null,n=null)},o=function(){var c=i;s(),c&&c()},u=function(){if(!e)return r.apply(this,arguments);var c=this,f=arguments,p=t&&!n;if(s(),i=function(){r.apply(c,f)},n=setTimeout(function(){if(n=null,!p){var d=i;return i=null,d()}},e),p)return i()};return u.cancel=s,u.flush=o,u}});var Tc=y((Fp,Cc)=>{h();"use strict";var Kh=Sc(),Qh=gt(),Xh=Oe().logger,{wantlistSendDebounceMs:Zh}=jt();Cc.exports=class{constructor(e,t,n){this.peerId=t,this.network=n,this.refcnt=1,this._entries=[],this._log=Xh(e,"msgqueue"),this.sendEntries=Kh(this._sendEntries.bind(this),Zh)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;let e=new Qh(!1);this._entries.forEach(t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)}),this._entries=[],this.addMessage(e)}async send(e){try{await this.network.connectTo(this.peerId)}catch(t){this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message);return}this._log("sending message to peer %s",this.peerId.toB58String()),this.network.sendMessage(this.peerId,e).catch(t=>{this._log.error("send error: %s",t.message)})}}});var Ic=y((Op,Fc)=>{h();"use strict";var yi=gt(),Yh=Nt(),e2=jt(),t2=Tc(),r2=Oe().logger;Fc.exports=class{constructor(e,t,n){this.peers=new Map,this.wantlist=new Yh(n),this.network=t,this._stats=n,this._peerId=e,this._log=r2(e,"want")}_addEntries(e,t,n){let i=e.map((s,o)=>new yi.Entry(s,e2.kMaxPriority-o,yi.WantType.Block,t));i.forEach(s=>{s.cancel?n?this.wantlist.removeForce(s.cid.toString()):this.wantlist.remove(s.cid):(this._log("adding to wl"),this.wantlist.add(s.cid,s.priority))});for(let s of this.peers.values())s.addEntries(i)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t){t.refcnt++;return}t=new t2(this._peerId,e,this.network);let n=new yi(!0);for(let i of this.wantlist.entries())n.addEntry(i[1].cid,i[1].priority);return t.addMessage(n),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){let t=this.peers.get(e.toB58String());!t||(t.refcnt--,!(t.refcnt>0)&&this.peers.delete(e.toB58String()))}wantBlocks(e,t={}){this._addEntries(e,!1),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.cancelWants(e)})}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(){}stop(){this.peers.forEach(e=>this.disconnected(e.peerId))}}});var ki=y((Mp,Oc)=>{h();"use strict";var{Buffer:xe}=De(),Mc=Symbol.for("BufferList");function G(r){if(!(this instanceof G))return new G(r);G._init.call(this,r)}G._init=function(e){Object.defineProperty(this,Mc,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};G.prototype._new=function(e){return new G(e)};G.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let i=t+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-t];t=i}};G.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let n=0;n<e;n++)t+=this._bufs[n].length;return t};G.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};G.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};G.prototype.copy=function(e,t,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||xe.alloc(0);let s=!!e,o=this._offset(n),u=i-n,c=u,f=s&&t||0,p=o[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:xe.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,f),f+=this._bufs[d].length;return e}if(c<=this._bufs[o[0]].length-p)return s?this._bufs[o[0]].copy(e,t,p,p+c):this._bufs[o[0]].slice(p,p+c);s||(e=xe.allocUnsafe(u));for(let d=o[0];d<this._bufs.length;d++){let I=this._bufs[d].length-p;if(c>I)this._bufs[d].copy(e,f,p),f+=I;else{this._bufs[d].copy(e,f,p,p+c),f+=I;break}c-=I,p&&(p=0)}return e.length>f?e.slice(0,f):e};G.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let n=this._offset(e),i=this._offset(t),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};G.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)};G.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};G.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};G.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(xe.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(xe.from(e));return this};G.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};G.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=xe.from([r]):typeof r=="string"?r=xe.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=xe.from(r.buffer,r.byteOffset,r.byteLength):xe.isBuffer(r)||(r=xe.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let o=this._bufs[i];for(;s<o.length;)if(o.length-s>=r.length){let c=o.indexOf(r,s);if(c!==-1)return this._reverseOffset([i,c]);s=o.length-r.length+1}else{let c=this._reverseOffset([i,s]);if(this._match(c,r))return c;s++}s=0}return-1};G.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?G.prototype[t]=function(n,i){return this.slice(n,n+i)[t](0,i)}:G.prototype[t]=function(n=0){return this.slice(n,n+r[t])[t](0)}})(e)})();G.prototype._isBufferList=function(e){return e instanceof G||G.isBufferList(e)};G.isBufferList=function(e){return e!=null&&e[Mc]};Oc.exports=G});var Dc=y((Lp,Lc)=>{h();Lc.exports=wi;var Pc=128,n2=127,i2=~n2,s2=Math.pow(2,31);function wi(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw wi.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=s2;)e[t++]=r&255|Pc,r/=128;for(;r&i2;)e[t++]=r&255|Pc,r>>>=7;return e[t]=r|0,wi.bytes=t-n+1,e}});var Nc=y((Pp,qc)=>{h();qc.exports=mi;var o2=128,Uc=127;function mi(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o||n>49)throw mi.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&Uc)<<n:(s&Uc)*Math.pow(2,n),n+=7}while(s>=o2);return mi.bytes=i-e,t}});var jc=y((Dp,Rc)=>{h();var a2=Math.pow(2,7),c2=Math.pow(2,14),u2=Math.pow(2,21),l2=Math.pow(2,28),f2=Math.pow(2,35),h2=Math.pow(2,42),p2=Math.pow(2,49),d2=Math.pow(2,56),b2=Math.pow(2,63);Rc.exports=function(r){return r<a2?1:r<c2?2:r<u2?3:r<l2?4:r<f2?5:r<h2?6:r<p2?7:r<d2?8:r<b2?9:10}});var _i=y((qp,Hc)=>{h();Hc.exports={encode:Dc(),decode:Nc(),encodingLength:jc()}});var vi=y((Up,zc)=>{h();"use strict";var Wc=_i(),{Buffer:x2}=De(),$c=(r,e,t)=>{let n=Wc.encode(r,e,t);return $c.bytes=Wc.encode.bytes,e||x2.from(n)};zc.exports=$c});var Xc=y((Np,yn)=>{h();"use strict";var{Buffer:Gc}=De(),Vc=ki(),Jc=vi(),Bi=8,Kc=10*1024;function Qc(r){r=r||{};let e=Math.max(r.poolSize||Kc,r.minPoolSize||Bi),t=r.lengthEncoder||Jc;return async function*(i){let s=Gc.alloc(e),o=0;for await(let u of i){t(u.length,s,o);let c=s.slice(o,o+t.bytes);o+=t.bytes,s.length-o<Bi&&(s=Gc.alloc(e),o=0),yield new Vc().append(c).append(u)}}}Qc.single=(r,e)=>{e=e||{};let t=e.lengthEncoder||Jc;return new Vc([t(r.length),r.slice()])};yn.exports=Qc;yn.exports.MIN_POOL_SIZE=Bi;yn.exports.DEFAULT_POOL_SIZE=Kc});var Ei=y((Rp,Zc)=>{h();"use strict";var Yc=_i(),{Buffer:g2}=De(),y2=r=>new Proxy({},{get:(e,t)=>t[0]==="l"?r[t]:r.get(parseInt(t))}),e0=r=>{let e=Yc.decode(g2.isBuffer(r)?r:y2(r));return e0.bytes=Yc.decode.bytes,e};Zc.exports=e0});var i0=y((jp,kn)=>{h();"use strict";var{Buffer:k2}=De(),Ai=ki(),w2=Ei(),t0=8,r0=1024*1024*4,n0=k2.alloc(0),He={LENGTH:"readLength",DATA:"readData"},m2={[He.LENGTH]:(r,e,t,n)=>{e=e.append(r);let i;try{i=n.lengthDecoder(e)}catch(s){if(e.length>n.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:He.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return r=e.shallowSlice(n.lengthDecoder.bytes),e=new Ai,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(n0),{mode:He.LENGTH,chunk:r,buffer:e,data:n0}):{mode:He.DATA,chunk:r,buffer:e,state:{dataLength:i},data:void 0}},[He.DATA]:(r,e,t,n)=>{if(e=e.append(r),!t)throw new Error("state is required");if(e.length<t.dataLength)return{mode:He.DATA,buffer:e,state:t,chunk:void 0,data:void 0};let{dataLength:i}=t,s=e.shallowSlice(0,i),o=e.length>i?e.shallowSlice(i):void 0;return e=new Ai,n.onData&&n.onData(s),{mode:He.LENGTH,chunk:o,buffer:e,state:void 0,data:s}}};function Si(r){r=r||{};let e={lengthDecoder:r.lengthDecoder||w2,maxLengthLength:r.maxLengthLength||t0,maxDataLength:r.maxDataLength||r0,onLength:r.onLength,onData:r.onData};return async function*(n){let i=new Ai,s=He.LENGTH,o;for await(let u of n){let c=u;for(;c;){let f=m2[s](c,i,o,e);s=f.mode,c=f.chunk,i=f.buffer,o=f.state,f.data&&(yield f.data)}}if(i.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}Si.fromReader=(r,e)=>{let t=1,n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await r.next(t)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{t=1}}};return Si({...e||{},onLength:s=>{t=s}})(n)};kn.exports=Si;kn.exports.MAX_LENGTH_LENGTH=t0;kn.exports.MAX_DATA_LENGTH=r0});var a0=y((Hp,s0)=>{h();"use strict";var{Buffer:_2}=De(),o0=(r,e,t)=>(e=e||_2.allocUnsafe(4),e.writeInt32BE(r,t),e);o0.bytes=4;s0.exports=o0});var l0=y((zp,c0)=>{h();"use strict";var u0=r=>{if(r.length<4)throw RangeError("Could not decode int32BE");return r.readInt32BE(0)};u0.bytes=4;c0.exports=u0});var f0=y(Xe=>{h();"use strict";Xe.encode=Xc();Xe.decode=i0();Xe.varintEncode=vi();Xe.varintDecode=Ei();Xe.int32BEEncode=a0();Xe.int32BEDecode=l0()});var d0=y(($p,yt)=>{h();var h0=(...r)=>{let e;for(;r.length;)e=r.shift()(e);return e},Ci=r=>r&&(typeof r[Symbol.asyncIterator]=="function"||typeof r[Symbol.iterator]=="function"||typeof r.next=="function"),wn=r=>r&&typeof r.sink=="function"&&Ci(r.source),v2=r=>e=>(r.sink(e),r.source),p0=(...r)=>{if(wn(r[0])){let e=r[0];r[0]=()=>e.source}else if(Ci(r[0])){let e=r[0];r[0]=()=>e}if(r.length>1&&wn(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let e=1;e<r.length-1;e++)wn(r[e])&&(r[e]=v2(r[e]));return h0(...r)};yt.exports=p0;yt.exports.pipe=p0;yt.exports.rawPipe=h0;yt.exports.isIterable=Ci;yt.exports.isDuplex=wn});var k0=y((Gp,b0)=>{h();"use strict";var x0=()=>{},g0=Symbol.for("@libp2p/js-interfaces/topology"),y0=class{constructor({min:e=0,max:t=Infinity,handlers:n={}}){this.min=e,this.max=t,this._onConnect=n.onConnect||x0,this._onDisconnect=n.onDisconnect||x0,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[g0](){return!0}static isTopology(e){return Boolean(e&&e[g0])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};b0.exports=y0});var v0=y((Vp,w0)=>{h();"use strict";var B2=k0(),m0=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),_0=class extends B2{constructor({min:e,max:t,multicodecs:n,handlers:i}){super({min:e,max:t,handlers:i});if(!n)throw new Error("one or more multicodec should be provided");if(!i)throw new Error("the handlers should be provided");if(typeof i.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof i.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(n)?n:[n],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[m0](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[m0])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:t,protocols:n}of e)if(this.multicodecs.filter(i=>n.includes(i)).length){this.peers.add(t.toB58String());let i=this._registrar.getConnection(t);i&&this._onConnect(t,i)}else this.peers.delete(t.toB58String())}_onProtocolChange({peerId:e,protocols:t}){let n=this.peers.has(e.toB58String()),i=t.filter(s=>this.multicodecs.includes(s));n&&i.length===0&&this._onDisconnect(e);for(let s of t)if(this.multicodecs.includes(s)){let o=this._registrar.peerStore.get(e);this._updatePeers([o]);return}}_onPeerConnect(e){let t=e.remotePeer,n=this._registrar.peerStore.protoBook.get(t);!n||this.multicodecs.find(i=>n.includes(i))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}};w0.exports=_0});var T0=y((Jp,B0)=>{h();"use strict";var E0=f0(),{pipe:A0}=d0(),E2=v0(),A2=gt(),S0=jt(),S2=Oe().logger,Ti="/ipfs/bitswap/1.0.0",Fi="/ipfs/bitswap/1.1.0",Ii="/ipfs/bitswap/1.2.0",C0=class{constructor(e,t,n,i={}){this._log=S2(e.peerId,"network"),this._libp2p=e,this._bitswap=t,this._protocols=[Ti],i.b100Only||(this._protocols.unshift(Fi),this._protocols.unshift(Ii)),this._stats=n,this._running=!1,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this)}start(){this._running=!0,this._libp2p.handle(this._protocols,this._onConnection);let e=new E2({multicodecs:this._protocols,handlers:{onConnect:this._onPeerConnect,onDisconnect:this._onPeerDisconnect}});this._registrarId=this._libp2p.registrar.register(e);for(let t of this._libp2p.peerStore.peers.values()){let n=this._libp2p.connectionManager.get(t.id);n&&this._onPeerConnect(n.remotePeer)}}stop(){this._running=!1,this._libp2p.unhandle(this._protocols),this._registrarId!=null&&this._libp2p.registrar.unregister(this._registrarId)}async _onConnection({protocol:e,stream:t,connection:n}){if(!!this._running){this._log("incoming new bitswap %s connection from %s",e,n.remotePeer.toB58String());try{await A0(t,E0.decode(),async i=>{for await(let s of i)try{let o=await A2.deserialize(s.slice());await this._bitswap._receiveMessage(n.remotePeer,o)}catch(o){this._bitswap._receiveError(o);break}})}catch(i){this._log(i)}}}_onPeerConnect(e){this._bitswap._onPeerConnected(e)}_onPeerDisconnect(e){this._bitswap._onPeerDisconnected(e)}findProviders(e,t,n={}){return this._libp2p.contentRouting.findProviders(e,{maxTimeout:S0.providerRequestTimeout,maxNumProviders:t,signal:n.signal})}async findAndConnect(e,t){let n=[];for await(let i of this.findProviders(e,S0.maxProvidersPerRequest,t))this._log(`connecting to provider ${i.id}`),n.push(this.connectTo(i.id,t).catch(s=>{this._log.error(s)}));await Promise.all(n)}async provide(e,t){await this._libp2p.contentRouting.provide(e,t)}async sendMessage(e,t){if(!this._running)throw new Error("network isn't running");let n=e.toB58String();this._log("sendMessage to %s",n,t);let i=await this._libp2p.dial(e),{stream:s,protocol:o}=await i.newStream([Ii,Fi,Ti]),u;switch(o){case Ti:u=t.serializeToBitswap100();break;case Fi:case Ii:u=t.serializeToBitswap110();break;default:throw new Error("Unknown protocol: "+o)}C2(s,u,this._log),this._updateSentStats(e,t.blocks)}async connectTo(e,t){if(!this._running)throw new Error("network isn't running");return this._libp2p.dial(e,t)}_updateSentStats(e,t){let n=e.toB58String();this._stats&&(t.forEach(i=>this._stats.push(n,"dataSent",i.data.length)),this._stats.push(n,"blocksSent",t.size))}};async function C2(r,e,t){try{await A0([e],E0.encode(),r)}catch(n){t(n)}}B0.exports=C0});var O0=y((Kp,F0)=>{h();"use strict";var T2=Nt(),I0=class{constructor(e){this.partner=e,this.wantlist=new T2,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=new Date().getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=new Date().getTime(),this.accounting.bytesRecv+=e}wants(e,t,n){this.wantlist.add(e,t,n)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.contains(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}};F0.exports=I0});var P0=y((Qp,M0)=>{h();"use strict";var L0=class extends Map{constructor(e,t){super();this._cmp=t||this._defaultSort,this._keys=[];for(let[n,i]of e||[])this.set(n,i)}update(e){if(e<0||e>=this._keys.length)return;let t=this._keys[e];this._keys.splice(e,1);let n=this._find(t);this._keys.splice(n,0,t)}set(e,t){if(this.has(e)){let i=this.indexOf(e);this._keys.splice(i,1)}super.set(e,t);let n=this._find(e);return this._keys.splice(n,0,e),this}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return!1;let t=this.indexOf(e);return this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;let t=this._find(e);if(this._keys[t]===e)return t;for(let n=1;n<this._keys.length;n++){if(this._keys[t+n]===e)return t+n;if(this._keys[t-n]===e)return t-n}return-1}_find(e){let t=0,n=this._keys.length;for(;t<n;){let i=t+n>>>1,s=this._kCmp(this._keys[i],e);if(s<0)t=i+1;else if(s>0)n=i;else return i}return t}*keys(){for(let e of this._keys)yield e}*values(){for(let e of this._keys)yield this.get(e)}*entries(){for(let e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t){if(!!e)for(let n of this._keys)e.apply(t,[[n,this.get(n)]])}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}};M0.exports=L0});var R0=y((Xp,D0)=>{h();"use strict";var q0=P0(),F2={hasNewInfo(){return!1},merge(){}},U0=class{constructor(e=F2){this._taskMerger=e,this._byPeer=new q0([],Oi.compare)}pushTasks(e,t){let n=this._byPeer.get(e.toB58String());n||(n=new Oi(e,this._taskMerger)),n.pushTasks(t),this._byPeer.set(e.toB58String(),n)}popTasks(e){let t=this._head();if(t===void 0)return{tasks:[],pendingSize:0};let{tasks:n,pendingSize:i}=t.popTasks(e);if(n.length===0)return{tasks:n,pendingSize:i};let s=t.peerId;return t.isIdle()?this._byPeer.delete(s.toB58String()):this._byPeer.update(0),{peerId:s,tasks:n,pendingSize:i}}_head(){if(this._byPeer.size!==0)for(let[,e]of this._byPeer)return e}remove(e,t){let n=this._byPeer.get(t.toB58String());n&&n.remove(e)}tasksDone(e,t){let n=this._byPeer.get(e.toB58String());if(!n)return;let i=this._byPeer.indexOf(e.toB58String());for(let s of t)n.taskDone(s);this._byPeer.update(i)}},Oi=class{constructor(e,t){this.peerId=e,this._taskMerger=t,this._activeTotalSize=0,this._pending=new N0,this._active=new Set}pushTasks(e){for(let t of e)this._pushTask(t)}_pushTask(e){if(!this._taskHasMoreInfoThanActiveTasks(e))return;let t=this._pending.get(e.topic);if(t){e.priority>t.priority&&this._pending.updatePriority(e.topic,e.priority),this._taskMerger.merge(e,t);return}this._pending.add(e)}_taskHasMoreInfoThanActiveTasks(e){let t=[];for(let n of this._active)n.topic===e.topic&&t.push(n);return t.length===0?!0:this._taskMerger.hasNewInfo(e,t)}popTasks(e){let t=0,n=[],i=this._pending.tasks();for(let s=0;s<i.length&&t<e;s++){let o=i[s];n.push(o),t+=o.size,this._pending.delete(o.topic),this._activeTotalSize+=o.size,this._active.add(o)}return{tasks:n,pendingSize:this._pending.totalSize}}taskDone(e){this._active.has(e)&&(this._activeTotalSize-=e.size,this._active.delete(e))}remove(e){this._pending.delete(e)}isIdle(){return this._pending.length===0&&this._active.size===0}static compare(e,t){return e[1]._pending.length===0?1:t[1]._pending.length===0?-1:e[1]._activeTotalSize===t[1]._activeTotalSize?t[1]._pending.length-e[1]._pending.length:e[1]._activeTotalSize-t[1]._activeTotalSize}},N0=class{constructor(){this._tasks=new q0([],this._compare)}get length(){return this._tasks.size}get totalSize(){return[...this._tasks.values()].reduce((e,t)=>e+t.task.size,0)}get(e){return(this._tasks.get(e)||{}).task}add(e){this._tasks.set(e.topic,{created:Date.now(),task:e})}delete(e){this._tasks.delete(e)}tasks(){return[...this._tasks.values()].map(e=>e.task)}updatePriority(e,t){let n=this._tasks.get(e);if(!n)return;let i=this._tasks.indexOf(e);n.task.priority=t,this._tasks.update(i)}_compare(e,t){return e[1].task.priority===t[1].task.priority?e[1].created-t[1].created:t[1].task.priority-e[1].task.priority}};D0.exports=U0});var H0=y((Zp,j0)=>{h();"use strict";var I2={hasNewInfo(r,e){let t=!1,n=!1;for(let i of e)i.data.haveBlock&&(t=!0),i.data.isWantBlock&&(n=!0);return!!(!n&&r.data.isWantBlock||!t&&r.data.haveBlock)},merge(r,e){let t=r.data,n=e.data;!n.haveBlock&&t.haveBlock&&(n.haveBlock=t.haveBlock,n.blockSize=t.blockSize),!n.isWantBlock&&t.isWantBlock&&(n.isWantBlock=!0,(!n.haveBlock||t.haveBlock)&&(n.haveBlock=t.haveBlock,e.size=r.size)),n.isWantBlock&&n.haveBlock&&(e.size=n.blockSize)}};j0.exports=I2});var V0=y((Yp,z0)=>{h();"use strict";var W0=nn(),Ht=gt(),$0=Ht.WantType,O2=Nt(),M2=O0(),L2=R0(),P2=H0(),{logger:D2}=Oe(),q2=16*1024,U2=1024,G0=class{constructor(e,t,n,i,s={}){this._log=D2(e,"engine"),this.blockstore=t,this.network=n,this._stats=i,this._opts=this._processOpts(s),this.ledgerMap=new Map,this._running=!1,this._requestQueue=new L2(P2)}_processOpts(e){return{maxSizeReplaceHasWithBlock:U2,targetMessageSize:q2,...e}}_scheduleProcessTasks(){setTimeout(()=>{this._processTasks()})}async _processTasks(){if(!this._running)return;let{peerId:e,tasks:t,pendingSize:n}=this._requestQueue.popTasks(this._opts.targetMessageSize);if(t.length===0)return;let i=new Ht(!1);i.setPendingBytes(n);let s=[],o=new Map;for(let c of t){let f=new W0(c.topic);c.data.haveBlock?c.data.isWantBlock?(s.push(f),o.set(c.topic,c.data)):i.addHave(f):i.addDontHave(f)}let u=await this._getBlocks(s);for(let[c,f]of o){let p=u.get(c);if(p)i.addBlock(p);else if(f.sendDontHave){let d=new W0(c);i.addDontHave(d)}}if(i.empty){e&&this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks();return}try{e&&await this.network.sendMessage(e,i);for(let c of u.values())e&&this.messageSent(e,c)}catch(c){this._log.error(c)}e&&this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks()}wantlistForPeer(e){let t=e.toB58String(),n=this.ledgerMap.get(t);return n?n.wantlist.sortedEntries():new Map}ledgerForPeer(e){let t=e.toB58String(),n=this.ledgerMap.get(t);return n?{peer:n.partner.toPrint(),value:n.debtRatio(),sent:n.accounting.bytesSent,recv:n.accounting.bytesRecv,exchanged:n.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map(e=>e.partner)}receivedBlocks(e){!e.length||(this.ledgerMap.forEach(t=>{e.forEach(n=>{let i=t.wantlistContains(n.cid);if(!i)return;let s=n.data.length,o=this._sendAsBlock(i.wantType,s),u=s;o||(u=Ht.blockPresenceSize(i.cid)),this._requestQueue.pushTasks(t.partner,[{topic:i.cid.toString(),priority:i.priority,size:u,data:{blockSize:s,isWantBlock:o,haveBlock:!0,sendDontHave:!1}}])})}),this._scheduleProcessTasks())}async messageReceived(e,t){let n=this._findOrCreate(e);if(t.empty)return;if(t.full&&(n.wantlist=new O2),this._updateBlockAccounting(t.blocks,n),t.wantlist.size===0){this._scheduleProcessTasks();return}let i=[],s=[];t.wantlist.forEach(o=>{o.cancel?(n.cancelWant(o.cid),i.push(o.cid)):(n.wants(o.cid,o.priority,o.wantType),s.push(o))}),this._cancelWants(e,i),await this._addWants(e,s),this._scheduleProcessTasks()}_cancelWants(e,t){for(let n of t)this._requestQueue.remove(n.toString(),e)}async _addWants(e,t){let n=await this._getBlockSizes(t.map(s=>s.cid)),i=[];for(let s of t){let o=s.cid.toString(),u=n.get(o);if(u==null)s.sendDontHave&&i.push({topic:o,priority:s.priority,size:Ht.blockPresenceSize(s.cid),data:{isWantBlock:s.wantType===$0.Block,blockSize:0,haveBlock:!1,sendDontHave:s.sendDontHave}});else{let c=this._sendAsBlock(s.wantType,u),f=u;c||(f=Ht.blockPresenceSize(s.cid)),i.push({topic:o,priority:s.priority,size:f,data:{isWantBlock:c,blockSize:u,haveBlock:!0,sendDontHave:s.sendDontHave}})}this._requestQueue.pushTasks(e,i)}}_sendAsBlock(e,t){return e===$0.Block||t<=this._opts.maxSizeReplaceHasWithBlock}async _getBlockSizes(e){let t=await this._getBlocks(e);return new Map([...t].map(([n,i])=>[n,i.data.length]))}async _getBlocks(e){let t=new Map;return await Promise.all(e.map(async n=>{try{let i=await this.blockstore.get(n);t.set(n.toString(),i)}catch(i){i.code!=="ERR_NOT_FOUND"&&this._log.error("failed to query blockstore for %s: %s",n,i)}})),t}_updateBlockAccounting(e,t){e.forEach(n=>{this._log("got block (%s bytes)",n.data.length),t.receivedBytes(n.data.length)})}messageSent(e,t){let n=this._findOrCreate(e);n.sentBytes(t?t.data.length:0),t&&t.cid&&n.wantlist.remove(t.cid)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){}_findOrCreate(e){let t=e.toB58String(),n=this.ledgerMap.get(t);if(n)return n;let i=new M2(e);return this.ledgerMap.set(t,i),this._stats&&this._stats.push(t,"peerCount",1),i}start(){this._running=!0}stop(){this._running=!1}};z0.exports=G0});var vn=y((ed,Mi)=>{h();"use strict";var kt=typeof Reflect=="object"?Reflect:null,J0=kt&&typeof kt.apply=="function"?kt.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},mn;kt&&typeof kt.ownKeys=="function"?mn=kt.ownKeys:Object.getOwnPropertySymbols?mn=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:mn=function(e){return Object.getOwnPropertyNames(e)};function N2(r){console&&console.warn&&console.warn(r)}var K0=Number.isNaN||function(e){return e!==e};function $(){$.init.call(this)}Mi.exports=$;Mi.exports.once=R2;$.EventEmitter=$;$.prototype._events=void 0;$.prototype._eventsCount=0;$.prototype._maxListeners=void 0;var Q0=10;function _n(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty($,"defaultMaxListeners",{enumerable:!0,get:function(){return Q0},set:function(r){if(typeof r!="number"||r<0||K0(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Q0=r}});$.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||K0(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function X0(r){return r._maxListeners===void 0?$.defaultMaxListeners:r._maxListeners}$.prototype.getMaxListeners=function(){return X0(this)};$.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")J0(c,this,t);else for(var f=c.length,p=Z0(c,f),n=0;n<f;++n)J0(p[n],this,t);return!0};function Y0(r,e,t,n){var i,s,o;if(_n(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=X0(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=o.length,N2(u)}return r}$.prototype.addListener=function(e,t){return Y0(this,e,t,!1)};$.prototype.on=$.prototype.addListener;$.prototype.prependListener=function(e,t){return Y0(this,e,t,!0)};function j2(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function eu(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=j2.bind(n);return i.listener=t,n.wrapFn=i,i}$.prototype.once=function(e,t){return _n(t),this.on(e,eu(this,e,t)),this};$.prototype.prependOnceListener=function(e,t){return _n(t),this.prependListener(e,eu(this,e,t)),this};$.prototype.removeListener=function(e,t){var n,i,s,o,u;if(_n(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():H2(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};$.prototype.off=$.prototype.removeListener;$.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function tu(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?z2(i):Z0(i,i.length)}$.prototype.listeners=function(e){return tu(this,e,!0)};$.prototype.rawListeners=function(e){return tu(this,e,!1)};$.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):ru.call(r,e)};$.prototype.listenerCount=ru;function ru(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}$.prototype.eventNames=function(){return this._eventsCount>0?mn(this._events):[]};function Z0(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function H2(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function z2(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function R2(r,e){return new Promise(function(t,n){function i(o){r.removeListener(e,s),n(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}nu(r,e,s,{once:!0}),e!=="error"&&W2(r,i,{once:!0})})}function W2(r,e,t){typeof r.on=="function"&&nu(r,"error",e,t)}function nu(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var uu=y((td,iu)=>{h();"use strict";var{EventEmitter:$2}=vn(),G2=Qn(),V2=Ft(),su=St(),J2=jt(),K2=Oe().logger,ou=r=>`unwant:${su(r.multihash,"base64")}`,au=r=>`block:${su(r.multihash,"base64")}`,cu=class extends $2{constructor(e){super();this.setMaxListeners(J2.maxListeners),this._log=K2(e,"notif")}hasBlock(e){let t=au(e.cid);this._log(t),this.emit(t,e)}wantBlock(e,t={}){if(!e)throw new Error("Not a valid cid");let n=au(e),i=ou(e);return this._log(`wantBlock:${e}`),new Promise((s,o)=>{let u=()=>{this.removeListener(n,c),o(new Error(`Block for ${e} unwanted`))},c=f=>{if(this.removeListener(i,u),V2(e.multihash,f.cid.multihash))(e.version!==f.cid.version||e.codec!==f.cid.codec)&&(f=new G2(f.data,e));else return o(new Error(`Incorrect block received for ${e}`));s(f)};this.once(i,u),this.once(n,c),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.removeListener(n,c),this.removeListener(i,u),o(new Error(`Want for ${e} aborted`))})})}unwantBlock(e){let t=ou(e);this._log(t),this.emit(t)}};iu.exports=cu});var hu=y((lu,fu)=>{h();"use strict";var Q2=Math.exp;lu=fu.exports=function(e){if(typeof e!="number")throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,n=0,i=0,s=0,o,u={};function c(f,p){return 1-Q2(-(f-p)/e)}return u.push=function(p,d){if(o){let I=c(p,o),l=d-t,x=I*l;t=I*d+(1-I)*t,n=(1-I)*(n+l*x),i=Math.sqrt(n),s=t+I*l}else t=d;o=p},u.movingAverage=function(){return t},u.variance=function(){return n},u.deviation=function(){return i},u.forecast=function(){return s},u}});var xu=y((rd,pu)=>{h();"use strict";var{EventEmitter:X2}=vn(),du=hu(),bu=class extends X2{constructor(e,t){super();this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach(n=>{this._stats[n]=BigInt(0),this._movingAverages[n]={},this._options.movingAverageIntervals.forEach(i=>{(this._movingAverages[n][i]=du(i)).push(this._frequencyLastTime,0)})}),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){let e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){let t=e=this._queue.shift();t&&this._applyOp(t)}e&&this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){let t=e-this._frequencyLastTime;t&&Object.keys(this._stats).forEach(n=>{this._updateFrequencyFor(n,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){let i=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;let s=i/t*1e3,o=this._movingAverages[e];o||(o=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach(u=>{let c=o[u];c||(c=o[u]=du(u)),c.push(n,s)})}_applyOp(e){let t=e[0],n=e[1];if(typeof n!="number")throw new Error(`invalid increment number: ${n}`);Object.prototype.hasOwnProperty.call(this._stats,t)||(this._stats[t]=BigInt(0)),this._stats[t]=BigInt(this._stats[t])+BigInt(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}};pu.exports=bu});var mu=y((nd,gu)=>{h();"use strict";var{EventEmitter:Z2}=vn(),yu=xu(),ku={enabled:!1,computeThrottleTimeout:1e3,computeThrottleMaxQueueSize:1e3,movingAverageIntervals:[60*1e3,5*60*1e3,15*60*1e3]},wu=class extends Z2{constructor(e=[],t=ku){super();let n=Object.assign({},ku,t);if(typeof n.computeThrottleTimeout!="number")throw new Error("need computeThrottleTimeout");if(typeof n.computeThrottleMaxQueueSize!="number")throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=e,this._options=n,this._enabled=this._options.enabled,this._global=new yu(e,n),this._global.on("update",i=>this.emit("update",i)),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(let e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){let t=typeof e!="string"&&e.toB58String?e.toB58String():`${e}`;return this._peers.get(t)}push(e,t,n){if(this._enabled&&(this._global.push(t,n),e)){let i=this._peers.get(e);i||(i=new yu(this._initialCounters,this._options),this._peers.set(e,i)),i.push(t,n)}}disconnected(e){let t=e.toB58String(),n=this._peers.get(t);n&&(n.stop(),this._peers.delete(t))}};gu.exports=wu});var vu=y((id,Bn)=>{h();"use strict";var{AbortController:_u,AbortSignal:Y2}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Bn.exports=_u;Bn.exports.AbortSignal=Y2;Bn.exports.default=_u});var Li=y((sd,Bu)=>{h();"use strict";var En;globalThis.AbortController&&globalThis.AbortSignal?En=globalThis:En=vu();Bu.exports={AbortController:En.AbortController,AbortSignal:En.AbortSignal}});var Au=y((od,Pi)=>{h();var{AbortController:e1}=Li();function Eu(r){let e=new e1;function t(){e.abort();for(let n of r)!n||!n.removeEventListener||n.removeEventListener("abort",t)}for(let n of r)if(!(!n||!n.addEventListener)){if(n.aborted){t();break}n.addEventListener("abort",t)}return e.signal}Pi.exports=Eu;Pi.exports.anySignal=Eu});var f1=y((ad,Su)=>{h();"use strict";var t1=Ic(),r1=T0(),n1=V0(),i1=uu(),s1=Oe().logger,o1=mu(),{AbortController:a1}=Li(),{anySignal:c1}=Au(),u1={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},l1=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"],Cu=class{constructor(e,t,n={}){this._libp2p=e,this._log=s1(this.peerId),this._options=Object.assign({},u1,n),this._stats=new o1(l1,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new r1(e,this,this._stats),this.blockstore=t,this.engine=new n1(this.peerId,t,this.network,this._stats),this.wm=new t1(this.peerId,this.network,this._stats),this.notifications=new i1(this.peerId)}get peerId(){return this._libp2p.peerId}async _receiveMessage(e,t){try{await this.engine.messageReceived(e,t)}catch(s){this._log("failed to receive message",t)}if(t.blocks.size===0)return;let n=Array.from(t.blocks.values()),i=n.filter(s=>this.wm.wantlist.contains(s.cid)).map(s=>s.cid);this.wm.cancelWants(i),await Promise.all(n.map(async s=>{let o=i.includes(s.cid);await this._handleReceivedBlock(e,s,o)}))}async _handleReceivedBlock(e,t,n){this._log("received block");let i=await this.blockstore.has(t.cid);this._updateReceiveCounters(e.toB58String(),t,i),!!n&&await this.put(t)}_updateReceiveCounters(e,t,n){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",t.data.length),n&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",t.data.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e,t){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}async get(e,t={}){let n=(f,p)=>(this.wm.wantBlocks([f],p),this.notifications.wantBlock(f,p)),i=!1,s=async(f,p)=>{try{return await this.blockstore.get(f,p)}catch(d){if(d.code!=="ERR_NOT_FOUND")throw d;return i||(i=!0,this.network.findAndConnect(f).catch(I=>this._log.error(I))),n(f,p)}},o=new a1,u=t.signal?c1([t.signal,o.signal]):o.signal,c=await Promise.race([this.notifications.wantBlock(e,{signal:u}),s(e,{signal:u})]);return o.abort(),c}async*getMany(e,t={}){for await(let n of e)yield this.get(n,t)}unwant(e){let t=Array.isArray(e)?e:[e];this.wm.unwantBlocks(t),t.forEach(n=>this.notifications.unwantBlock(n))}cancelWants(e){this.wm.cancelWants(Array.isArray(e)?e:[e])}async put(e,t){await this.blockstore.put(e),this._sendHaveBlockNotifications(e)}async*putMany(e){for await(let t of this.blockstore.putMany(e))this._sendHaveBlockNotifications(t),yield t}_sendHaveBlockNotifications(e){this.notifications.hasBlock(e),this.engine.receivedBlocks([e]),this.network.provide(e.cid).catch(t=>{this._log.error("Failed to provide: %s",t.message)})}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(){this.wm.start(),this.network.start(),this.engine.start()}stop(){this._stats.stop(),this.wm.stop(),this.network.stop(),this.engine.stop()}};Su.exports=Cu});return f1();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
return IpfsBitswap}));
